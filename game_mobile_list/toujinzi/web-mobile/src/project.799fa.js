window.__require=function e(t,n,a){function o(s,r){if(!n[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!r&&u)return u(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return o(t[s][1][e]||e)},d,d.exports,e,t,n,a)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<a.length;s++)o(a[s]);return o}({AdvServer:[function(e,t,n){"use strict";cc._RF.push(t,"05e02RBTAZBRY5nny9UyOI/","AdvServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BasePlatform"),o=e("./TgAdvSdk"),i=e("../config/BaseConfig"),s=e("../manage/MenuManage"),r=e("./WeChat"),l=e("../utils/Utils"),u=e("./StatisticsServer"),d=e("../utils/Http");n.WeChatAdvConfig={BannerAdUnitId:"adunit-8150040d76396dcb",BannerAdUnitId1:"adunit-891f0ce9e6d403f5",BannerAdUnitId2:"adunit-233980096d056dfe",BannerAdUnitId3:"adunit-b7923a058fa9ee9c",BannerAdUnitId4:"adunit-9900bcaf28e0cae8",BannerAdUnitId5:"adunit-5acb1142ab9ddb44",BannerAdUnitId6:"adunit-d471db17454dc422",BannerAdUnitId7:"adunit-a73e2c2f5a9ec6f3",BannerAdUnitId8:["adunit-a73e2c2f5a9ec6f3","adunit-d471db17454dc422","adunit-5acb1142ab9ddb44","adunit-9900bcaf28e0cae8","adunit-b7923a058fa9ee9c","adunit-233980096d056dfe","adunit-891f0ce9e6d403f5","adunit-8150040d76396dcb"],RewardedVideoAdUnitId:"adunit-6623b459d420699a",RewardedVideoAdUnitId1:"adunit-b022cf270bbc3ce9",RewardedVideoAdUnitId2:"adunit-b06039b11f418d62",InterstitialAdUnitId:"adunit-c62fc40d5e032f35"};var c="tgdata/activity/prefabs/LuckyEgg",h=function(){function e(){this.m_Debug=!1,this.m_UrlRoot="",this.m_AdvGameID="20200917180501553541",this.m_AdvConfigUrl="tgsdk_server/api/game/config",this.m_AdvConfigVersion="20200927133555152118",this.m_AdvDataVersion="20200922151848389741",this.m_GlobalConfig=null,this.m_WeChatBanner=null,this.m_WeChatBanner1=null,this.m_WeChatBanner2=null,this.m_WeChatBanner3=null,this.m_WeChatBanner4=null,this.m_WeChatBanner5=null,this.m_WeChatBanner6=null,this.m_WeChatBanner7=null,this.m_WeChatBannerWidth=null,this.m_WeChatBannerHeight=null,this.m_WeChatBannerHeight1=null,this.m_WeChatBannerHeight2=null,this.m_WeChatBannerHeight3=null,this.m_WeChatBannerHeight4=null,this.m_WeChatBannerHeight5=null,this.m_WeChatBannerHeight6=null,this.m_WeChatBannerHeight7=null,this.m_WeChatBannerError=!1,this.m_WeChatBannerError1=!1,this.m_WeChatBannerError2=!1,this.m_WeChatBannerError3=!1,this.m_WeChatBannerError4=!1,this.m_WeChatBannerError5=!1,this.m_WeChatBannerError6=!1,this.m_WeChatBannerError7=!1,this.m_WeChatInterstitial=null,this.m_WeChatRewardedVideo=null,this.m_WeChatRewardedVideo1=null,this.m_WeChatRewardedVideo2=null,this.m_WeChatRewardedVideoSuccess=null,this.m_WeChatRewardedVideoFail=null,this.m_WeChatRewardedVideoSuccess1=null,this.m_WeChatRewardedVideoFail1=null,this.m_WeChatRewardedVideoSuccess2=null,this.m_WeChatRewardedVideoFail2=null,this.m_ShowWechatBanner=!1,this.m_ShowBannerRand=0,this.m_ActivityLuckyEgg=null,this.m_Review=!1,this.m_GameplayFrist=!0,this.m_GamePlayHou=!0,this.m_TgFullBanner=!1,this.m_AutoVideoNum=2,this.m_Shoutilibao=null,this.m_bannerTime=!1,this.m_bannerxainshi=!1,this.m_BannerVdNum=0,this.m_IsBannerVis=!0,this.m_QuanpingVis=!1}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.InitAdvServer=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=null),this.m_UrlRoot=i.BaseConfig.NetConfig.NetRoot;var a=2,s=!1;this.LoadAdvConfig(function(){n.AdvLog("\u5e7f\u544a\u914d\u7f6e\u83b7\u53d6\u6210\u529f"),setTimeout(function(){n.ShowTgCapsule()},500),a--,e&&0==a&&!s&&e()},function(e){t&&!s&&(s=!0,t("\u5e7f\u544a\u914d\u7f6e\u83b7\u53d6\u5931\u8d25 err"+e))}),o.default.getInstance().SetDebug(!1),o.default.getInstance().Init(this.m_UrlRoot,this.m_AdvGameID,this.m_AdvDataVersion,function(){n.AdvLog("\u5e7f\u544a\u6570\u636e\u521d\u59cb\u5316\u6210\u529f"),a--,e&&0==a&&!s&&e()},function(e){n.AdvLog("\u5e7f\u544a\u6570\u636e\u521d\u59cb\u5316\u5931\u8d25 err",e),t&&!s&&(s=!0,t("\u5e7f\u544a\u6570\u636e\u521d\u59cb\u5316\u5931\u8d25 err"+e))}),this.InitWeChatBanner(),this.InitWeChatInterstitial(),this.InitWeChatRewardedVideoAd()},e.prototype.LoadAdvConfig=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=null),this.m_GlobalConfig={};var a=new d.default;a.SetReqType(d.HttpReqType.GET),a.Request(this.m_UrlRoot+"/"+this.m_AdvConfigUrl+"/"+this.m_AdvGameID+"/"+this.m_AdvConfigVersion,function(t){for(var a in n.AdvLog("LoadAdvConfig  data",t),t)if(t.hasOwnProperty(a)){var o=t[a];n.m_GlobalConfig[o.key]=o.value,n.AdvLog("LoadAdvConfig  for (const key in data)",o)}n.AdvLog("LoadAdvConfig   this.m_GlobalConfig",n.m_GlobalConfig),n.m_Review=n.m_GlobalConfig.game_is_review,e&&e()},function(e){t&&t("\u5e7f\u544a\u6570\u636e\u521d\u59cb\u5316\u5931\u8d25 err"+e)})},e.prototype.GetReview=function(){return!!a.default.getInstance().IsWeChat()&&this.m_Review},e.prototype.ShowMenuAdv=function(e,t){var n=this;if(void 0===t&&(t=null),this.AdvLog("ShowMenuAdv _menu",e),this.m_GlobalConfig&&!this.m_Review){var a={parent:null,style:{left:0,top:0,width:120,height:520,horizontal:!1,vertical:!1,spacingX:0,spacingY:0,cellSize:{width:120,height:120},updateWidget:!1},adv:{start:0,num:0,rand:!1,autoswitch:0,autoscrolle:!1,moreGame:!1,moreGameCallFun:function(e){n.AdvLog("ShowMenuAdv \u66f4\u591a\u6e38\u620f",e),n.ShowTgFullScreen()},jumpCallFun:function(e,t){n.JumpToProgram(e,t,t,function(){},function(){n.ShowTgFullScreen()})}},success:function(e){n.AdvLog("ShowMenuAdv \u52a0\u8f7d\u6210\u529f node",e)},fail:function(e){n.AdvLog("ShowMenuAdv \u52a0\u8f7d\u5931\u8d25 err",e)},close:function(e){n.AdvLog("ShowMenuAdv \u5173\u95ed")}},i=!1,r=!1,u=!1;if(e==s.BaseMenu.MainMenu){var d=cc.find("Canvas");(h=l.default.CloneObj(a)).parent=t,h.style.width=180,h.style.height=860,h.style.top=d.height/2-350,h.style.vertical=!0,h.style.cellSize.width=160,h.style.cellSize.height=160,h.style.spacingY=5,h.adv.num=3,h.adv.autoswitch=5,o.default.getInstance().ShowTgBanner(e,"\u4e3b\u754c\u9762\u2014\u2014\u5de6\u8fb9banner1",h),(g=l.default.CloneObj(a)).parent=t,g.style.width=190,g.style.height=860,g.style.spacingY=5,g.style.left=d.width-g.style.width,g.style.top=d.height/2-350,g.style.vertical=!0,g.style.cellSize.width=160,g.style.cellSize.height=160,g.adv.start=4,g.adv.num=3,g.adv.autoswitch=5,o.default.getInstance().ShowTgBanner(e,"\u4e3b\u754c\u9762\u2014\u2014\u53f3\u8fb9banner1",g),i=this.m_GlobalConfig.game_main_interstitial,this.m_GlobalConfig.game_main_fullscreen_1?u=this.m_GlobalConfig.game_main_fullscreen_1:r=this.m_GlobalConfig.game_main_fullscreen_2}else if(e==s.BaseMenu.ResultMenu){this.ShowWeChatInterstitial();d=cc.find("Canvas");(c=l.default.CloneObj(a)).parent=t,c.style.width=d.width,c.style.height=220,c.style.top=d.height/2-180,c.style.cellSize.width=200,c.style.cellSize.height=200,c.style.horizontal=!0,c.adv.autoscrolle=!0,c.adv.rand=!0,o.default.getInstance().ShowTgBanner(e,"\u7ed3\u7b97\u754c\u9762\u2014\u2014\u4e2d\u95f4banner",c),i=this.m_GlobalConfig.game_main_interstitial,this.m_GlobalConfig.game_result_fullscreen_1?u=this.m_GlobalConfig.game_result_fullscreen_1:r=this.m_GlobalConfig.game_result_fullscreen_2}else if(e==s.BaseMenu.MainPlay)console.log("BaseMenu.MainPlay"),this.ShowWeChatInterstitial(),i=this.m_GlobalConfig.game_main_interstitial,console.log("this.m_GlobalConfig.game_gameplay_fullscreen_1",this.m_GlobalConfig.game_gameplay_fullscreen_1),this.m_GlobalConfig.game_gameplay_fullscreen_1?u=this.m_GlobalConfig.game_gameplay_fullscreen_1:r=this.m_GlobalConfig.game_gameplay_fullscreen_2;else if(e==s.BaseMenu.WinMenu){this.ShowWeChatInterstitial();var c;d=cc.find("Canvas");(c=l.default.CloneObj(a)).parent=t,c.style.width=d.width,c.style.height=230,c.style.top=d.height/2-140,c.style.cellSize.width=220,c.style.cellSize.height=220,c.style.horizontal=!0,c.adv.rand=!0,c.adv.autoscrolle=!0,o.default.getInstance().ShowTgBanner(e,"\u7ed3\u7b97\u754c\u9762\u2014\u2014\u4e2d\u95f4banner",c),i=this.m_GlobalConfig.game_main_interstitial,this.m_GlobalConfig.game_result_fullscreen_1?u=this.m_GlobalConfig.game_result_fullscreen_1:r=this.m_GlobalConfig.game_result_fullscreen_2}else{if(e!=s.BaseMenu.SignMenu)return;var h,g;d=cc.find("Canvas");(h=l.default.CloneObj(a)).parent=t,h.style.width=180,h.style.height=820,h.style.left=d.width-h.style.width-470,h.style.top=d.height/2,h.style.vertical=!0,h.style.cellSize.width=160,h.style.cellSize.height=160,h.adv.num=1,h.adv.autoswitch=5,o.default.getInstance().ShowTgBanner(e,"\u7b7e\u5230\u754c\u9762\u2014\u2014\u5de6\u8fb9banner1",h),(g=l.default.CloneObj(a)).parent=t,g.style.width=160,g.style.height=820,g.style.left=d.width-g.style.width-100,g.style.top=d.height/2,g.style.vertical=!0,g.style.cellSize.width=160,g.style.cellSize.height=160,g.adv.start=4,g.adv.num=1,g.adv.autoswitch=5,o.default.getInstance().ShowTgBanner(e,"\u7b7e\u5230\u754c\u9762\u2014\u2014\u53f3\u8fb9banner1",g),i=this.m_GlobalConfig.game_main_interstitial}i&&this.ShowTgInterstitial(null,!1,!1,t),r&&(console.log("menu_fullscreen _parent",t),this.ShowTgFullScreen(null,!1,t,e)),u&&this.ShowTgFullScreenQuan(null,!1,t,e)}},e.prototype.RemoveMenuAdv=function(e){this.m_GlobalConfig&&!this.m_Review&&o.default.getInstance().RemoveMenuAdv(e)},e.prototype.ShowResultTgFullScreen=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=!1),void 0===n&&(n=null),this.m_GlobalConfig&&!this.m_Review&&(this.m_GlobalConfig.fullscreen_other?this.ShowTgFullScreen(e,t,n):e&&e())},e.prototype.ShowResultTgFullScreenQuan=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=!1),void 0===n&&(n=null),this.m_GlobalConfig&&!this.m_Review&&(this.m_GlobalConfig.fullscreen_other||e&&e())},e.prototype.InitHouCallFull=function(t,n){if(void 0===n&&(n=null),this.m_GlobalConfig&&!this.m_Review){console.log("InitHouCallFull _menu",t,"___this.m_GlobalConfig",this.m_GlobalConfig);var a=s.default.getInstance().GetMenu(s.BaseMenu.MainMenu);t==s.BaseMenu.MainMenu?this.m_GlobalConfig.game_main_fullscreen_2?(console.log("InitHouCallFull MainMenu"),console.log("InitHouCallFull _parent",n,t),this.ShowTgFullScreen(null,!1,n,t)):a&&(a.InitShowBanner(),e.getInstance().m_QuanpingVis=!1,e.getInstance().m_QuanpingVis||e.getInstance().ShowTgCapsule()):t==s.BaseMenu.MainPlay?this.m_GlobalConfig.game_gameplay_fullscreen_2?this.ShowTgFullScreen(null,!1,n,t):a&&(e.getInstance().GetShowStartEgg()?(e.getInstance().m_IsBannerVis=!1,s.default.getInstance().ShowMenu(s.BaseMenu.LuckyEgg)):a.InitShowBanner(),e.getInstance().m_QuanpingVis=!1,e.getInstance().m_QuanpingVis||e.getInstance().ShowTgCapsule()):t==s.BaseMenu.ResultMenu?this.m_GlobalConfig.game_result_fullscreen_2?this.ShowTgFullScreen(null,!1,n,t):a&&(e.getInstance().m_QuanpingVis=!1,e.getInstance().GetShowStartEgg()?(e.getInstance().m_IsBannerVis=!1,s.default.getInstance().ShowMenu(s.BaseMenu.LuckyEgg)):a.InitShowBanner(),e.getInstance().m_QuanpingVis||e.getInstance().ShowTgCapsule()):t==s.BaseMenu.WinMenu&&(this.m_GlobalConfig.game_result_fullscreen_2?this.ShowTgFullScreen(null,!1,n,t):a&&(e.getInstance().m_QuanpingVis=!1,e.getInstance().GetShowStartEgg()?(e.getInstance().m_IsBannerVis=!1,s.default.getInstance().ShowMenu(s.BaseMenu.LuckyEgg)):a.InitShowBanner(),e.getInstance().m_QuanpingVis||e.getInstance().ShowTgCapsule()))}},e.prototype.ShowTgFullScreenQuan=function(e,t,n,a){var i=this;if(void 0===e&&(e=null),void 0===t&&(t=!1),void 0===n&&(n=null),this.m_GlobalConfig&&!this.m_Review){this.HideTgCapsule(),this.m_TgFullBanner=!0;var s={parent:n,initJump:this.m_GlobalConfig.game_main_fullscreen_suiji_1,comtinue:this.m_GlobalConfig.fullscreen_startjump,backjump:this.m_GlobalConfig.fullscreen_backjump,randjumpzjkj:this.m_GlobalConfig.randjump_zjkj,jumprand:this.m_GlobalConfig.game_jump_rand_fullscreen_1,initmenu:a,jumpCallFun:function(e,t){i.JumpToProgram(e,t,t,function(){},function(){})},success:function(e){i.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u6210\u529f node",e)},fail:function(e){i.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u5931\u8d25 err",e)},close:function(){i.AdvLog("ShowMenuAdv FullScreen \u5173\u95ed"),e&&e()}};o.default.getInstance().ShowTgFullScreenQuan(s)}else e&&e()},e.prototype.ShowTgFullScreen=function(e,t,n,a){var i=this;if(void 0===e&&(e=null),void 0===t&&(t=!1),void 0===n&&(n=null),void 0===a&&(a=null),this.m_GlobalConfig&&!this.m_Review){this.HideTgCapsule(),this.m_TgFullBanner=!0;var s={parent:n,Jump_menu:a,initJump:t,comtinue:this.m_GlobalConfig.fullscreen_startjump,backjump:this.m_GlobalConfig.fullscreen_backjump,randjumpzjkj:this.m_GlobalConfig.randjump_zjkj,jumprand:this.m_GlobalConfig.game_jump_rand_fullscreen_2,jumpsuiji:this.m_GlobalConfig.game_main_fullscreen_suiji_2,jumpCallFun:function(e,t){i.JumpToProgram(e,t,t,function(){},function(){})},success:function(e){i.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u6210\u529f node",e)},fail:function(e){i.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u5931\u8d25 err",e)},close:function(){i.AdvLog("ShowMenuAdv FullScreen \u5173\u95ed"),e&&e()}};console.log("this.m_GlobalConfig.game_jump_rand_fullscreen_2",this.m_GlobalConfig.game_jump_rand_fullscreen_2),console.log("\u663e\u793a\u5168\u5c4f\u5e7f\u544a ShowTgFullScreen22222"),o.default.getInstance().ShowTgFullScreen(s)}else e&&e()},e.prototype.ShowTgInterstitial=function(e,t,n,a){var i=this;if(void 0===e&&(e=null),void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===a&&(a=null),this.m_GlobalConfig&&!this.m_Review){var s={parent:a,showBack:t,initJump:n,jumpCallFun:function(e,t){i.JumpToProgram(e,t,t,function(){},function(){})},success:function(e){i.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u6210\u529f node",e)},fail:function(e){i.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u5931\u8d25 err",e)},close:function(){i.AdvLog("ShowMenuAdv FullScreen \u5173\u95ed"),e&&e()}};o.default.getInstance().ShowTgInterstitial(s)}else e&&e()},e.prototype.ShowTgCapsule=function(){var e=this;if(a.default.getInstance().IsWeChat()&&this.ShowLocalBlock()&&this.m_GlobalConfig&&!this.m_Review&&(!this.m_GlobalConfig||this.m_GlobalConfig.other_capsule)){var t=r.WeChat.GetMenuButtonBoundingClientRect();if(this.AdvLog("mainadv capsule",t),t){var n=r.WeChat.GetSystemInfoSync();this.AdvLog("mainadv ststeminfo",n);var i=cc.find("Canvas"),s=(t.right-t.width/2)/n.screenWidth*i.width-i.width/2,l=i.height/2-(t.top+t.height+16)/n.screenHeight*i.height;this.AdvLog("mainadv x",s,"y",l);var u={x:s,y:l,success:function(t){e.AdvLog("ShowMenuAdv Capsule \u52a0\u8f7d\u6210\u529f node",t)},fail:function(t){e.AdvLog("ShowMenuAdv Capsule \u52a0\u8f7d\u5931\u8d25 err",t)},close:function(){e.AdvLog("ShowMenuAdv Capsule \u5173\u95ed")},click:function(){e.AdvLog("ShowMenuAdv Capsule \u70b9\u51fb"),e.ShowTgCollect()}};o.default.getInstance().ShowTgCapsule(u)}}},e.prototype.HideTgCapsule=function(){a.default.getInstance().IsWeChat()&&this.m_GlobalConfig&&!this.m_Review&&o.default.getInstance().HideTgCapsule()},e.prototype.ShowTgCollect=function(){var t=this;if(a.default.getInstance().IsWeChat()&&this.m_GlobalConfig&&!this.m_Review){this.HideTgCapsule();var n=0;-1==r.WeChat.GetSystemInfoSync().model.search("iPhone X")&&-1==r.WeChat.GetSystemInfoSync().model.search("iPhone 11")&&-1==r.WeChat.GetSystemInfoSync().model.search("iPhone XR")||(n=60);var i={top:n,jumpCallFun:function(e,n){t.JumpToProgram(e,n,n,function(){},function(){})},success:function(e){t.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u6210\u529f node",e)},fail:function(e){t.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u5931\u8d25 err",e)},close:function(){t.AdvLog("ShowMenuAdv FullScreen \u5173\u95ed"),e.getInstance().m_QuanpingVis||t.ShowTgCapsule()}};o.default.getInstance().ShowTgCollect(i)}},e.prototype.ShowRemind=function(e){var t=this;if(a.default.getInstance().IsWeChat()){var n=r.WeChat.GetMenuButtonBoundingClientRect();if(this.AdvLog("mainadv capsule",n),n){var i=r.WeChat.GetSystemInfoSync();this.AdvLog("mainadv ststeminfo",i);var s=cc.find("Canvas"),l=(n.right-n.width)/i.screenWidth*s.width-s.width/2,u=s.height/2-(n.top+n.height/2)/i.screenHeight*s.height;this.AdvLog("mainadv x",l,"y",u);var d={x:l+10,y:u,success:function(e){t.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u6210\u529f node",e)},fail:function(e){t.AdvLog("ShowMenuAdv FullScreen \u52a0\u8f7d\u5931\u8d25 err",e)}};o.default.getInstance().ShowRemind(e,d)}}},e.prototype.SetGamePlayFrist=function(){this.m_GameplayFrist=!1},e.prototype.GetGlobalConfig=function(){return this.m_GlobalConfig},e.prototype.GetShouti=function(){var t=e.getInstance().m_Shoutilibao;t&&t.getComponent("TgInterstitial").InitChulaiChouti()},e.prototype.GetJIaonangti=function(){return!(!this.m_GlobalConfig||this.m_Review)&&(!!this.ShowLocalBlock()&&!(this.m_GlobalConfig&&!this.m_GlobalConfig.other_capsule))},e.prototype.GetMainQiangTan=function(){return!(!this.m_GlobalConfig||this.m_Review)&&Math.floor(1e4*Math.random())%100<this.m_GlobalConfig.game_video_start},e.prototype.ShowLocalBlock=function(){return!(!this.m_GlobalConfig||this.m_Review)&&!this.m_GlobalConfig["city-config"]},e.prototype.GetResultQiangTan=function(){return!(!this.m_GlobalConfig||this.m_Review)&&Math.floor(1e4*Math.random())%100<this.m_GlobalConfig.game_video_end},e.prototype.GetqiangtanWuchu=function(){if(!this.m_GlobalConfig||this.m_Review)return!1;var e=Math.floor(1e5*Math.random())%100;return console.log("this.m_GlobalConfig.game_menu_qiangtan",this.m_GlobalConfig.game_menu_qiangtan),console.log("Rand",e),e<this.m_GlobalConfig.game_menu_qiangtan},e.prototype.GetShanBanner=function(){return!(!this.m_GlobalConfig||this.m_Review)&&(!!this.ShowLocalBlock()&&!!this.m_GlobalConfig.game_shanbanner)},e.prototype.GetShowDianjiBanner=function(){if(!this.m_GlobalConfig||this.m_Review)return!1;var e=this.ShowLocalBlock(),t=Math.floor(1e5*Math.random())%100;return!!e&&t<this.m_GlobalConfig.game_dianji_shanbanner},e.prototype.GetShowStartEgg=function(){if(!this.m_GlobalConfig||this.m_Review)return!1;var e=this.ShowLocalBlock(),t=Math.floor(1e5*Math.random())%100;return!!e&&t<this.m_GlobalConfig.game_egg_start},e.prototype.GetGameEggEnd=function(){if(!this.m_GlobalConfig||this.m_Review)return!1;var e=this.ShowLocalBlock(),t=Math.floor(1e5*Math.random())%100;return!!e&&t<this.m_GlobalConfig.game_egg_end},e.prototype.InitWeChatBanner=function(){var e=this;if(a.default.getInstance().IsWeChat()){if(console.log("this.m_WeChatBanner",this.m_WeChatBanner),!this.m_WeChatBanner){console.log("\u521d\u59cb\u5fae\u4fe1banner");var t=n.WeChatAdvConfig.BannerAdUnitId8[this.m_BannerVdNum],i=0,s=0,l=d=r.WeChat.GetSystemInfoSync().screenWidth,u=d;if(""==t)return void this.AdvLog("banner\u5e7f\u544aid\u4e3a\u7a7a");this.m_WeChatBanner=r.WeChat.CreateBannerAd(t,i,s,l,u),this.m_WeChatBanner.onLoad(function(){e.AdvLog("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.m_WeChatBannerError=!1}),this.m_WeChatBanner.onError(function(t){e.m_WeChatBannerError=!0,console.log("banner \u52a0\u8f7d\u662f\u5931\u8d25"),e.AdvLog(t)}),this.m_WeChatBanner.onLoad(function(){e.AdvLog("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.m_WeChatBanner.onResize(function(t){e.m_WeChatBannerWidth=t.width,e.m_WeChatBannerHeight=t.height,e.AdvLog("this.m_BannerAD.onResize res",t),-1!=r.WeChat.GetSystemInfoSync().model.search("iPhone X")||-1!=r.WeChat.GetSystemInfoSync().model.search("iPhone 11")||-1!=r.WeChat.GetSystemInfoSync().model.search("iPhone XR")?(e.m_WeChatBannerHeight+=10,e.m_WeChatBanner.style.top=r.WeChat.GetSystemInfoSync().screenHeight-t.height-10):e.m_WeChatBanner.style.top=r.WeChat.GetSystemInfoSync().screenHeight-t.height,o.default.getInstance().UpdateBottomBannerWidget(e.m_WeChatBannerHeight)})}return;var d}},e.prototype.ShowXianshiBanner=function(){e.getInstance().m_BannerVdNum+=1,e.getInstance().m_BannerVdNum>n.WeChatAdvConfig.BannerAdUnitId8.length-1&&(e.getInstance().m_BannerVdNum=0),e.getInstance().DestroyWeChatBanner(),e.getInstance().InitWeChatBanner()},e.prototype.ShowTimebanner=function(t){void 0===t&&(t=null),e.getInstance().ShowWeChatBanner(t)},e.prototype.ShowbanenrRand=function(){console.log("ShowbanenrRand this.m_ShowBannerRand",this.m_ShowBannerRand),e.getInstance().m_BannerVdNum+=1,e.getInstance().m_BannerVdNum>n.WeChatAdvConfig.BannerAdUnitId8.length-1&&(e.getInstance().m_BannerVdNum=0),e.getInstance().m_IsBannerVis&&(e.getInstance().DestroyWeChatBanner(),e.getInstance().InitWeChatBanner(),e.getInstance().ShowWeChatBanner())},e.prototype.ShowWeChatBanner=function(e){var t=this;if(void 0===e&&(e=null),a.default.getInstance().IsWeChat()){if(this.AdvLog("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),console.log("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!0,this.m_WeChatBannerError)return e&&e(),void this.m_WeChatBanner.show();this.m_WeChatBanner?this.m_WeChatBanner.show().then(function(){o.default.getInstance().UpdateBottomBannerWidget(t.m_WeChatBannerHeight),e&&e()}).catch(function(e){return t.AdvLog(e)}):e&&e()}else e&&e()},e.prototype.ShowWeChatBanner1=function(e){var t=this;if(void 0===e&&(e=null),a.default.getInstance().IsWeChat()){if(this.AdvLog("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!0,this.m_WeChatBannerError1)return e&&e(),void this.m_WeChatBanner1.show();this.m_WeChatBanner1?this.m_WeChatBanner1.show().then(function(){o.default.getInstance().UpdateBottomBannerWidget(t.m_WeChatBannerHeight1),e&&e()}).catch(function(e){return t.AdvLog(e)}):e&&e()}else e&&e()},e.prototype.ShowWeChatBanner2=function(e){var t=this;if(void 0===e&&(e=null),a.default.getInstance().IsWeChat()){if(this.AdvLog("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!0,this.m_WeChatBannerError2)return e&&e(),void this.m_WeChatBanner2.show();this.m_WeChatBanner2?this.m_WeChatBanner2.show().then(function(){o.default.getInstance().UpdateBottomBannerWidget(t.m_WeChatBannerHeight2),e&&e()}).catch(function(e){return t.AdvLog(e)}):e&&e()}else e&&e()},e.prototype.ShowWeChatBanner3=function(e){var t=this;if(void 0===e&&(e=null),a.default.getInstance().IsWeChat()){if(this.AdvLog("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!0,this.m_WeChatBannerError3)return e&&e(),void this.m_WeChatBanner3.show();this.m_WeChatBanner3?this.m_WeChatBanner3.show().then(function(){o.default.getInstance().UpdateBottomBannerWidget(t.m_WeChatBannerHeight3),e&&e()}).catch(function(e){return t.AdvLog(e)}):e&&e()}else e&&e()},e.prototype.ShowWeChatBanner4=function(e){var t=this;if(void 0===e&&(e=null),a.default.getInstance().IsWeChat()){if(this.AdvLog("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!0,this.m_WeChatBannerError4)return e&&e(),void this.m_WeChatBanner4.show();this.m_WeChatBanner4?this.m_WeChatBanner4.show().then(function(){o.default.getInstance().UpdateBottomBannerWidget(t.m_WeChatBannerHeight4),e&&e()}).catch(function(e){return t.AdvLog(e)}):e&&e()}else e&&e()},e.prototype.ShowWeChatBanner5=function(e){var t=this;if(void 0===e&&(e=null),a.default.getInstance().IsWeChat()){if(this.AdvLog("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!0,this.m_WeChatBannerError5)return e&&e(),void this.m_WeChatBanner5.show();this.m_WeChatBanner5?this.m_WeChatBanner5.show().then(function(){o.default.getInstance().UpdateBottomBannerWidget(t.m_WeChatBannerHeight5),e&&e()}).catch(function(e){return t.AdvLog(e)}):e&&e()}else e&&e()},e.prototype.ShowWeChatBanner6=function(e){var t=this;if(void 0===e&&(e=null),a.default.getInstance().IsWeChat()){if(this.AdvLog("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!0,this.m_WeChatBannerError6)return e&&e(),void this.m_WeChatBanner6.show();this.m_WeChatBanner6?this.m_WeChatBanner6.show().then(function(){o.default.getInstance().UpdateBottomBannerWidget(t.m_WeChatBannerHeight6),e&&e()}).catch(function(e){return t.AdvLog(e)}):e&&e()}else e&&e()},e.prototype.ShowWeChatBanner7=function(e){var t=this;if(void 0===e&&(e=null),a.default.getInstance().IsWeChat()){if(this.AdvLog("ShowWeChatBanner \u663e\u793a\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!0,this.m_WeChatBannerError7)return e&&e(),void this.m_WeChatBanner7.show();this.m_WeChatBanner7?this.m_WeChatBanner7.show().then(function(){o.default.getInstance().UpdateBottomBannerWidget(t.m_WeChatBannerHeight7),e&&e()}).catch(function(e){return t.AdvLog(e)}):e&&e()}else e&&e()},e.prototype.HideWeChatBanner=function(){var e=this;a.default.getInstance().IsWeChat()&&(this.AdvLog("\u5173\u95ed\u5fae\u4fe1banner"),this.m_ShowWechatBanner=!1,a.default.getInstance().IsWeChat())&&this.m_WeChatBanner&&this.m_WeChatBanner.hide().catch(function(t){return e.AdvLog(t)})},e.prototype.DestroyWeChatBanner=function(){console.log("DestroyWeChatBanner"),this.m_WeChatBanner&&(console.log("\u6d88\u9664banner"),this.m_WeChatBanner.destroy(),this.m_WeChatBanner=null)},e.prototype.InitWeChatInterstitial=function(){var e=this;if(a.default.getInstance().IsWeChat()){var t=n.WeChatAdvConfig.InterstitialAdUnitId;if(""==t)return void this.AdvLog("\u63d2\u5c4f\u5e7f\u544aid\u4e3a\u7a7a");this.m_WeChatInterstitial=r.WeChat.CreateInterstitialAd(t),this.m_WeChatInterstitial&&(this.m_WeChatInterstitial.onLoad(function(){e.AdvLog("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.m_WeChatInterstitial.onError(function(t){e.AdvLog("m_InterstitialAd onError",t),e.m_WeChatInterstitial=null}))}},e.prototype.ShowWeChatInterstitial=function(){var e=this;a.default.getInstance().IsWeChat()&&(this.AdvLog("\u663e\u793a\u5fae\u4fe1\u63d2\u5c4f"),this.m_WeChatInterstitial&&this.m_WeChatInterstitial.show().then(function(){}).catch(function(t){e.AdvLog("m_RewardedVideoAd.show()",t),e.m_WeChatInterstitial.load().then(function(){return e.m_WeChatInterstitial.show()}).catch(function(t){e.AdvLog("\u63d2\u5c4f \u5e7f\u544a\u663e\u793a\u5931\u8d25")})}))},e.prototype.InitWeChatRewardedVideoAd=function(){var e=this;if(a.default.getInstance().IsWeChat()){var t=n.WeChatAdvConfig.RewardedVideoAdUnitId,o=n.WeChatAdvConfig.RewardedVideoAdUnitId1,i=n.WeChatAdvConfig.RewardedVideoAdUnitId2;if(""==t||""==o||""==i)return void this.AdvLog("\u89c6\u9891\u5e7f\u544aid\u4e3a\u7a7a");this.m_WeChatRewardedVideo=r.WeChat.CreateRewardedVideoAd(t),this.m_WeChatRewardedVideo1=r.WeChat.CreateRewardedVideoAd(o),this.m_WeChatRewardedVideo2=r.WeChat.CreateRewardedVideoAd(i),this.m_WeChatRewardedVideo&&(this.m_WeChatRewardedVideo.onLoad(function(){e.AdvLog("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.m_WeChatRewardedVideo.onClose(this.WeChatRewardedVideoAdCallFun.bind(this)),this.m_WeChatRewardedVideo.onError(function(t){e.AdvLog("m_RewardedVideoAd onError",t),e.m_WeChatRewardedVideo=null})),this.m_WeChatRewardedVideo1&&(this.m_WeChatRewardedVideo1.onLoad(function(){e.AdvLog("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.m_WeChatRewardedVideo1.onClose(this.WeChatRewardedVideoAdCallFun1.bind(this)),this.m_WeChatRewardedVideo1.onError(function(t){e.AdvLog("m_RewardedVideoAd onError",t),e.m_WeChatRewardedVideo1=null})),this.m_WeChatRewardedVideo2&&(this.m_WeChatRewardedVideo2.onLoad(function(){e.AdvLog("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.m_WeChatRewardedVideo2.onClose(this.WeChatRewardedVideoAdCallFun2.bind(this)),this.m_WeChatRewardedVideo2.onError(function(t){e.AdvLog("m_RewardedVideoAd onError",t),e.m_WeChatRewardedVideo2=null}))}},e.prototype.ShowWeChatRewardedVideoAd=function(e,t){var n=this;a.default.getInstance().IsWeChat()?this.m_WeChatRewardedVideo?(this.m_WeChatRewardedVideoSuccess=e,this.m_WeChatRewardedVideoFail=t,this.AdvLog("this.m_WeChatRewardedVideoFail",this.m_WeChatRewardedVideoFail),this.m_WeChatRewardedVideo.show().then(function(){}).catch(function(e){n.AdvLog("m_RewardedVideoAd.show()",e),n.ShowTgFullScreen(),t(e)})):(this.ShowTgFullScreen(),t()):e()},e.prototype.ShowWeChatRewardedVideoAd1=function(e,t){var n=this;a.default.getInstance().IsWeChat()?this.m_WeChatRewardedVideo1?(this.m_WeChatRewardedVideoSuccess1=e,this.m_WeChatRewardedVideoFail1=t,this.m_WeChatRewardedVideo1.show().then(function(){}).catch(function(e){n.AdvLog("m_RewardedVideoAd.show()",e),n.ShowTgFullScreen(),t(e)})):(this.ShowTgFullScreen(),t()):e()},e.prototype.ShowWeChatRewardedVideoAd2=function(e,t){var n=this;a.default.getInstance().IsWeChat()?this.m_WeChatRewardedVideo2?(this.m_WeChatRewardedVideoSuccess2=e,this.m_WeChatRewardedVideoFail2=t,this.m_WeChatRewardedVideo2.show().then(function(){}).catch(function(e){n.AdvLog("m_RewardedVideoAd.show()",e),n.ShowTgFullScreen(),t(e)})):(this.ShowTgFullScreen(),t()):e()},e.prototype.WeChatRewardedVideoAdCallFun=function(e){this.AdvLog("\u5fae\u4fe1\u6fc0\u52b1\u89c6\u9891\u56de\u8c03 res",e,"this.m_WeChatRewardedVideoFail",this.m_WeChatRewardedVideoFail),e&&e.isEnded||void 0===e?this.m_WeChatRewardedVideoSuccess&&this.m_WeChatRewardedVideoSuccess():(this.m_WeChatRewardedVideoFail&&this.m_WeChatRewardedVideoFail(),this.ShowTgFullScreen()),this.m_WeChatRewardedVideoSuccess=null,this.m_WeChatRewardedVideoFail=null},e.prototype.WeChatRewardedVideoAdCallFun1=function(e){this.AdvLog("\u5fae\u4fe1\u6fc0\u52b1\u89c6\u9891\u56de\u8c03 res",e,"this.m_WeChatRewardedVideoFail",this.m_WeChatRewardedVideoFail),e&&e.isEnded||void 0===e?this.m_WeChatRewardedVideoSuccess1&&this.m_WeChatRewardedVideoSuccess1():(this.m_WeChatRewardedVideoFail1&&this.m_WeChatRewardedVideoFail1(),this.ShowTgFullScreen()),this.m_WeChatRewardedVideoSuccess1=null,this.m_WeChatRewardedVideoFail1=null},e.prototype.WeChatRewardedVideoAdCallFun2=function(e){this.AdvLog("\u5fae\u4fe1\u6fc0\u52b1\u89c6\u9891\u56de\u8c03 res",e,"this.m_WeChatRewardedVideoFail",this.m_WeChatRewardedVideoFail),e&&e.isEnded||void 0===e?this.m_WeChatRewardedVideoSuccess2&&this.m_WeChatRewardedVideoSuccess2():(this.m_WeChatRewardedVideoFail2&&this.m_WeChatRewardedVideoFail2(),this.ShowTgFullScreen()),this.m_WeChatRewardedVideoSuccess2=null,this.m_WeChatRewardedVideoFail2=null},e.prototype.StartLevelLuckEgg=function(e,t){this.m_GlobalConfig&&!this.m_Review?l.default.RandNum(1,100)<this.m_GlobalConfig.activity_startluckyegg?this.ShowActivityLuckyEgg(e,t):e&&e():e()},e.prototype.EndLevelLuckEgg=function(e,t){this.m_GlobalConfig&&!this.m_Review?l.default.RandNum(1,100)<this.m_GlobalConfig.activity_endluckyegg?this.ShowActivityLuckyEgg(e,t):e&&e():e()},e.prototype.ShowActivityLuckyEgg=function(e,t){var n=this;this.m_ActivityLuckyEgg?e&&e():this.LoadPrefab(c,function(a){var o=cc.instantiate(a);o.parent=cc.find("Canvas"),n.m_ActivityLuckyEgg=o.getComponent("LuckyEgg"),n.m_ActivityLuckyEgg.InitData(function(){n.m_ActivityLuckyEgg=null,n.m_ShowWechatBanner?n.ShowbanenrRand():n.HideWeChatBanner(),e&&e()},function(){t&&t()})},function(){e&&e()})},e.prototype.StartAutoVido=function(e,t){a.default.getInstance().IsWeChat()?this.m_GlobalConfig&&!this.m_Review?this.m_AutoVideoNum<0?t():l.default.RandNum(1,100)<this.m_GlobalConfig.activity_startvideo?(this.m_AutoVideoNum--,this.ShowWeChatRewardedVideoAd(function(){e()},function(){t()})):t():t():t()},e.prototype.EndAutoVido=function(e,t){a.default.getInstance().IsWeChat()?this.m_GlobalConfig&&!this.m_Review?this.m_AutoVideoNum<0?t():l.default.RandNum(1,100)<this.m_GlobalConfig.activity_endvideo?(this.m_AutoVideoNum--,this.ShowWeChatRewardedVideoAd(function(){e()},function(){t()})):t():t():t()},e.prototype.LoadPrefab=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),cc.loader.loadRes(e,cc.Prefab,function(e,a){e?n&&n():t&&t(a)})},e.prototype.JumpToProgram=function(e,t,n,o,i){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null),this.AdvLog("AdvServer JumpToProgram _appdata",e),a.default.getInstance().IsWeChat()){var s=e.appid,l=e.path;u.default.getInstance().SendTgEventClick(s,e.name),r.WeChat.JumpToMiniProgram(s,l,e.extData,"release",function(t){u.default.getInstance().SendTgEventJumpOk(s,e.name),o&&o()},function(){i&&i()})}else i&&i()},e.prototype.SetDebug=function(e){this.m_Debug=e},e.prototype.AdvLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.m_Debug&&console.log.apply(console,e)},e}();n.default=h,cc._RF.pop()},{"../config/BaseConfig":"BaseConfig","../manage/MenuManage":"MenuManage","../utils/Http":"Http","../utils/Utils":"Utils","./BasePlatform":"BasePlatform","./StatisticsServer":"StatisticsServer","./TgAdvSdk":"TgAdvSdk","./WeChat":"WeChat"}],AldStaticsSdk:[function(e,t,n){"use strict";cc._RF.push(t,"4ab7dp82d5AAZoVt4qgcAs4","AldStaticsSdk"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.SendOpenID=function(e){e&&window.wx.aldSendOpenid(e)},e.SendGameBoxEvent=function(e,t,n){void 0===n&&(n=null);var a={};a["\u81ea\u7814\u6e38\u620f\u540d\u79f0"]=e,a["\u63a8\u5e7f\u6e38\u620f\u540d\u79f0"]=t.name_skip?t.name_skip:t.name,a["\u4f4d\u7f6e\u7edf\u8ba1"]=n||t.tjwz,window.wx.aldSendEvent("\u81ea\u7814\u76d2\u5b50v201905-\u70b9\u51fb\u7edf\u8ba1",a),(a={})[e]=t.name_skip?t.name_skip:t.name,a[e+"_\u4f4d\u7f6e"]=n?n+"_"+e:t.tjwz+"_"+e,window.wx.aldSendEvent("\u81ea\u7814\u76d2\u5b50v201905-\u6e38\u620f\u7edf\u8ba1",a)},e.SendTgAdPosEvent=function(e,t){var n={};n["\u81ea\u7814\u6e38\u620f\u540d\u79f0"]=e,n["\u6e38\u620f\u4f4d\u7f6e"]=t,window.wx.aldSendEvent("\u4ea4\u53c9\u63a8\u5e7f\u7edf\u8ba1",n)},e.SendEvent=function(e,t){window.wx.aldSendEvent(e,t)},e.Stage_OnStart=function(e,t,n){void 0===e&&(e="1"),void 0===t&&(t="\u7b2c\u4e00\u5173"),void 0===n&&(n=null),window.wx.aldStage.onStart({stageId:e,stageName:t,userId:n})},e.Stage_OnRunning=function(e,t,n,a,o,i,s,r,l){void 0===e&&(e="1"),void 0===t&&(t="\u7b2c\u4e00\u5173"),void 0===n&&(n=null),void 0===a&&(a="tools"),void 0===o&&(o="\u7269\u54c1\u540d\u5b57"),void 0===i&&(i="110"),void 0===s&&(s=1),void 0===r&&(r="\u63cf\u8ff0"),void 0===l&&(l=100),window.wx.aldStage.onRunning({stageId:e,stageName:t,userId:n,event:a,params:{itemName:o,itemId:i,itemCount:s,desc:r,itemMoney:l}})},e.Stage_OnEnd=function(e,t,n,a,o){void 0===e&&(e="1"),void 0===t&&(t="\u7b2c\u4e00\u5173"),void 0===n&&(n=null),void 0===a&&(a="complete"),void 0===o&&(o="\u5173\u5361\u5b8c\u6210"),window.wx.aldStage.onEnd({stageId:e,stageName:t,userId:n,event:a,params:{desc:o}})},e}();n.AldStaticsSdk=a,cc._RF.pop()},{}],AudioManage:[function(e,t,n){"use strict";cc._RF.push(t,"d7df5z3pqpHnIxSq53SLgvy","AudioManage"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../utils/Utils");n.ResMusics={Sound_Win:"musicwin",Sound_Fail:"musicfail",Sound_Bg:"musicbg",Sound_xiaochu:"musicxiaochu"};var o=function(){function e(){this._saveKey="feipaiqieshuiguoaudio2020041701",this.m_AudioCilps=new Map,this.m_AudioConfig=null,this.LoadAudioConfig()}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.LoadAudioConfig=function(){var e=cc.sys.localStorage.getItem(this._saveKey);e?this.m_AudioConfig=JSON.parse(e):(this.m_AudioConfig={Music:!0,Sound:!0},this.SaveAudioConfig())},e.prototype.SaveAudioConfig=function(){cc.sys.localStorage.setItem(this._saveKey,JSON.stringify(this.m_AudioConfig))},e.prototype.SetMusicSwitch=function(e){this.m_AudioConfig.Music=e,this.SaveAudioConfig(),e?this.ResumeMusic():this.PauseMusic()},e.prototype.GetMusicSwitch=function(){return this.m_AudioConfig.Music},e.prototype.SetSoundSwitch=function(e){this.m_AudioConfig.Sound=e,this.SaveAudioConfig(),e||this.StopAllSound()},e.prototype.GetSoundSwitch=function(){return this.m_AudioConfig.Sound},e.prototype.InitResAudio=function(e,t){var a=[],o=0;for(var i in n.ResMusics)a.push(n.ResMusics[i]);for(var s=0;s<a.length;s++)this.LoadResAudioCilp(e,a[s],function(){o++,a.length==o&&t&&t()})},e.prototype.LoadResAudioCilp=function(e,t,n){var a=this;void 0===n&&(n=null);var o=e+"/"+t;cc.loader.loadRes(o,function(e,o){e?console.error(e):(a.m_AudioCilps.set(t,o),n&&n(o))})},e.prototype.LoadNetAudioCilp=function(e,t,n){var a=this;void 0===n&&(n=null);var o=e+t;cc.loader.load(o,function(e,o){e?console.error(e):(a.m_AudioCilps.set(t,o),n&&n(o))})},e.prototype.PlayMusic=function(e,t){if(void 0===t&&(t=!0),this.m_AudioConfig.Music){var n=this.m_AudioCilps.get(e);if(n)return this.StopMusic(),cc.audioEngine.playMusic(n,t);a.default.CCLog("audio resources not load _musicname",e)}},e.prototype.PlaySound=function(e,t){if(void 0===t&&(t=!1),this.m_AudioConfig.Sound){var n=this.m_AudioCilps.get(e);if(n)return cc.audioEngine.playEffect(n,t);a.default.CCLog("audio resources not load _soundname",e)}},e.prototype.StopMusic=function(){cc.audioEngine.stopMusic()},e.prototype.PauseMusic=function(){cc.audioEngine.pauseMusic()},e.prototype.ResumeMusic=function(){cc.audioEngine.resumeMusic()},e.prototype.StopSound=function(e){cc.audioEngine.stopEffect(e)},e.prototype.StopAllSound=function(){cc.audioEngine.stopAllEffects()},e}();n.default=o,cc._RF.pop()},{"../utils/Utils":"Utils"}],BaseConfig:[function(e,t,n){"use strict";cc._RF.push(t,"97388TGUehL3rrF3iJYUajv","BaseConfig"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.IsLoading=!1,e.Global={Game_Treasurechest_Level:3},e.NetConfig={NetRoot:"https://gamecreator.oss-cn-beijing.aliyuncs.com/dev",NetRes:"/zjkj_h5/toujinkuai/toujinkuai_wx/res_20200910/",Netjson:"json/",NetTmx:"game_tmx/"},e}();n.BaseConfig=a,cc._RF.pop()},{}],BaseLayer:[function(e,t,n){"use strict";cc._RF.push(t,"ab2eezMn+hHFYJ/xN2rn6oV","BaseLayer"),Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,i=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.Init=function(e){void 0===e&&(e=null)},t.prototype.Free=function(e){void 0===e&&(e=null)},t.prototype.OnClick=function(e){},t=__decorate([o()],t)}(cc.Component));n.default=i,cc._RF.pop()},{}],BaseMd5:[function(e,t,n){"use strict";cc._RF.push(t,"9cf99KQIFxE2pA9d9P8WXev","BaseMd5"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this.hexcase=0,this.b64pad="",this.chrsz=8}return e.Instance=function(){return null==this.m_Instance&&(this.m_Instance=new e),this.m_Instance},e.prototype.hex_md5=function(e){return this.binl2hex(this.core_md5(this.str2binl(e),e.length*this.chrsz))},e.prototype.b64_md5=function(e){return this.binl2b64(this.core_md5(this.str2binl(e),e.length*this.chrsz))},e.prototype.str_md5=function(e){return this.binl2str(this.core_md5(this.str2binl(e),e.length*this.chrsz))},e.prototype.hex_hmac_md5=function(e,t){return this.binl2hex(this.core_hmac_md5(e,t))},e.prototype.b64_hmac_md5=function(e,t){return this.binl2b64(this.core_hmac_md5(e,t))},e.prototype.str_hmac_md5=function(e,t){return this.binl2str(this.core_hmac_md5(e,t))},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc")},e.prototype.core_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,a=-271733879,o=-1732584194,i=271733878,s=0;s<e.length;s+=16){var r=n,l=a,u=o,d=i;n=this.md5_ff(n,a,o,i,e[s+0],7,-680876936),i=this.md5_ff(i,n,a,o,e[s+1],12,-389564586),o=this.md5_ff(o,i,n,a,e[s+2],17,606105819),a=this.md5_ff(a,o,i,n,e[s+3],22,-1044525330),n=this.md5_ff(n,a,o,i,e[s+4],7,-176418897),i=this.md5_ff(i,n,a,o,e[s+5],12,1200080426),o=this.md5_ff(o,i,n,a,e[s+6],17,-1473231341),a=this.md5_ff(a,o,i,n,e[s+7],22,-45705983),n=this.md5_ff(n,a,o,i,e[s+8],7,1770035416),i=this.md5_ff(i,n,a,o,e[s+9],12,-1958414417),o=this.md5_ff(o,i,n,a,e[s+10],17,-42063),a=this.md5_ff(a,o,i,n,e[s+11],22,-1990404162),n=this.md5_ff(n,a,o,i,e[s+12],7,1804603682),i=this.md5_ff(i,n,a,o,e[s+13],12,-40341101),o=this.md5_ff(o,i,n,a,e[s+14],17,-1502002290),a=this.md5_ff(a,o,i,n,e[s+15],22,1236535329),n=this.md5_gg(n,a,o,i,e[s+1],5,-165796510),i=this.md5_gg(i,n,a,o,e[s+6],9,-1069501632),o=this.md5_gg(o,i,n,a,e[s+11],14,643717713),a=this.md5_gg(a,o,i,n,e[s+0],20,-373897302),n=this.md5_gg(n,a,o,i,e[s+5],5,-701558691),i=this.md5_gg(i,n,a,o,e[s+10],9,38016083),o=this.md5_gg(o,i,n,a,e[s+15],14,-660478335),a=this.md5_gg(a,o,i,n,e[s+4],20,-405537848),n=this.md5_gg(n,a,o,i,e[s+9],5,568446438),i=this.md5_gg(i,n,a,o,e[s+14],9,-1019803690),o=this.md5_gg(o,i,n,a,e[s+3],14,-187363961),a=this.md5_gg(a,o,i,n,e[s+8],20,1163531501),n=this.md5_gg(n,a,o,i,e[s+13],5,-1444681467),i=this.md5_gg(i,n,a,o,e[s+2],9,-51403784),o=this.md5_gg(o,i,n,a,e[s+7],14,1735328473),a=this.md5_gg(a,o,i,n,e[s+12],20,-1926607734),n=this.md5_hh(n,a,o,i,e[s+5],4,-378558),i=this.md5_hh(i,n,a,o,e[s+8],11,-2022574463),o=this.md5_hh(o,i,n,a,e[s+11],16,1839030562),a=this.md5_hh(a,o,i,n,e[s+14],23,-35309556),n=this.md5_hh(n,a,o,i,e[s+1],4,-1530992060),i=this.md5_hh(i,n,a,o,e[s+4],11,1272893353),o=this.md5_hh(o,i,n,a,e[s+7],16,-155497632),a=this.md5_hh(a,o,i,n,e[s+10],23,-1094730640),n=this.md5_hh(n,a,o,i,e[s+13],4,681279174),i=this.md5_hh(i,n,a,o,e[s+0],11,-358537222),o=this.md5_hh(o,i,n,a,e[s+3],16,-722521979),a=this.md5_hh(a,o,i,n,e[s+6],23,76029189),n=this.md5_hh(n,a,o,i,e[s+9],4,-640364487),i=this.md5_hh(i,n,a,o,e[s+12],11,-421815835),o=this.md5_hh(o,i,n,a,e[s+15],16,530742520),a=this.md5_hh(a,o,i,n,e[s+2],23,-995338651),n=this.md5_ii(n,a,o,i,e[s+0],6,-198630844),i=this.md5_ii(i,n,a,o,e[s+7],10,1126891415),o=this.md5_ii(o,i,n,a,e[s+14],15,-1416354905),a=this.md5_ii(a,o,i,n,e[s+5],21,-57434055),n=this.md5_ii(n,a,o,i,e[s+12],6,1700485571),i=this.md5_ii(i,n,a,o,e[s+3],10,-1894986606),o=this.md5_ii(o,i,n,a,e[s+10],15,-1051523),a=this.md5_ii(a,o,i,n,e[s+1],21,-2054922799),n=this.md5_ii(n,a,o,i,e[s+8],6,1873313359),i=this.md5_ii(i,n,a,o,e[s+15],10,-30611744),o=this.md5_ii(o,i,n,a,e[s+6],15,-1560198380),a=this.md5_ii(a,o,i,n,e[s+13],21,1309151649),n=this.md5_ii(n,a,o,i,e[s+4],6,-145523070),i=this.md5_ii(i,n,a,o,e[s+11],10,-1120210379),o=this.md5_ii(o,i,n,a,e[s+2],15,718787259),a=this.md5_ii(a,o,i,n,e[s+9],21,-343485551),n=this.safe_add(n,r),a=this.safe_add(a,l),o=this.safe_add(o,u),i=this.safe_add(i,d)}return Array(n,a,o,i)},e.prototype.md5_cmn=function(e,t,n,a,o,i){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(a,i)),o),n)},e.prototype.md5_ff=function(e,t,n,a,o,i,s){return this.md5_cmn(t&n|~t&a,e,t,o,i,s)},e.prototype.md5_gg=function(e,t,n,a,o,i,s){return this.md5_cmn(t&a|n&~a,e,t,o,i,s)},e.prototype.md5_hh=function(e,t,n,a,o,i,s){return this.md5_cmn(t^n^a,e,t,o,i,s)},e.prototype.md5_ii=function(e,t,n,a,o,i,s){return this.md5_cmn(n^(t|~a),e,t,o,i,s)},e.prototype.core_hmac_md5=function(e,t){var n=this.str2binl(e);n.length>16&&(n=this.core_md5(n,e.length*this.chrsz));for(var a=Array(16),o=Array(16),i=0;i<16;i++)a[i]=909522486^n[i],o[i]=1549556828^n[i];var s=this.core_md5(a.concat(this.str2binl(t)),512+t.length*this.chrsz);return this.core_md5(o.concat(s),640)},e.prototype.safe_add=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e.prototype.str2binl=function(e){for(var t=Array(),n=(1<<this.chrsz)-1,a=0;a<e.length*this.chrsz;a+=this.chrsz)t[a>>5]|=(e.charCodeAt(a/this.chrsz)&n)<<a%32;return t},e.prototype.binl2str=function(e){for(var t="",n=(1<<this.chrsz)-1,a=0;a<32*e.length;a+=this.chrsz)t+=String.fromCharCode(e[a>>5]>>>a%32&n);return t},e.prototype.binl2hex=function(e){for(var t=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",a=0;a<4*e.length;a++)n+=t.charAt(e[a>>2]>>a%4*8+4&15)+t.charAt(e[a>>2]>>a%4*8&15);return n},e.prototype.binl2b64=function(e){for(var t="",n=0;n<4*e.length;n+=3)for(var a=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255,o=0;o<4;o++)8*n+6*o>32*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>6*(3-o)&63);return t},e.m_Instance=null,e}();n.default=a,cc._RF.pop()},{}],BasePlatform:[function(e,t,n){"use strict";cc._RF.push(t,"5a3b9ZFcQ1I+rWSZUUgW7Pz","BasePlatform"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./WeChat"),o=e("../config/BaseConfig"),i=e("./AdvServer"),s=e("./StatisticsServer"),r=function(){function e(){this.m_SystemInfo=null,this.m_LaunchOptionsSync=null}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.IsWeb=function(){return cc.sys.platform==cc.sys.DESKTOP_BROWSER},e.prototype.IsWeChat=function(){return void 0!==window.wx},e.prototype.OnShow=function(){console.log("OnShow"),this.IsWeChat()&&a.WeChat.OnShow(function(e){s.default.getInstance().SetShowQuery(e.query),console.log("wxonshow res",e),i.default.getInstance().ShowWeChatInterstitial()})},e.prototype.OnHide=function(){},e.prototype.TriggerGC=function(){this.IsWeChat()&&a.WeChat.TriggerGC()},e.prototype.LoadSubPackage=function(e,t,n,o){if(void 0===n&&(n=null),void 0===o&&(o=null),this.IsWeChat())a.WeChat.LoadSubpackage(e,t,n,o);else{if(o){o({progress:1,totalBytesWritten:100})}t&&t("\u975e\u5fae\u4fe1\u5e73\u53f0")}},e.prototype.GetSystemInfo=function(){if(this.IsWeChat())return this.m_SystemInfo||(this.m_SystemInfo=a.WeChat.GetSystemInfoSync()),this.m_SystemInfo},e.prototype.GetLaunchOptionsSync=function(){if(this.IsWeChat())return this.m_LaunchOptionsSync||(this.m_LaunchOptionsSync=a.WeChat.GetLaunchOptionsSync()),this.m_LaunchOptionsSync},e.prototype.Authorize=function(e,t){this.IsWeChat()?a.WeChat.Authorize(e,t):e&&e("\u975e\u5fae\u4fe1\u5e73\u53f0")},e.prototype.CreateUserInfoButton=function(e,t,n){if(this.IsWeChat()){var o=cc.view.getFrameSize().width,i=cc.view.getFrameSize().height,s=e.width/(o/cc.view.getFrameSize().width),r=e.height/(i/cc.view.getFrameSize().height),l=cc.view.getFrameSize().width/2-s/2,u=cc.view.getFrameSize().height/2;a.WeChat.CreateUserInfoButton(e.url,l,u,s,r,t,n)}else t&&t("\u975e\u5fae\u4fe1\u5e73\u53f0")},e.prototype.GetUserInfo=function(e,t){this.IsWeChat()?a.WeChat.GetUserInfo(e,t):t&&t("\u975e\u5fae\u4fe1\u5e73\u53f0")},e.prototype.VibrateShort=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.IsWeChat()?a.WeChat.VibrateShort(e,t):e&&e("\u975e\u5fae\u4fe1\u5e73\u53f0")},e.prototype.InitShare=function(){var e=o.BaseConfig.NetConfig.NetRoot+o.BaseConfig.NetConfig.NetRes+"share/img_share_1.jpg";console.log("resimageurl",e),this.IsWeChat()&&a.WeChat.InitWxShare(function(){return{title:"[\u6709\u597d\u53cb@\u4f60] \u5feb\u6765\u4e00\u8d77\u5077\u91d1\u5e01",imageUrl:o.BaseConfig.NetConfig.NetRoot+o.BaseConfig.NetConfig.NetRes+"share/img_share_1.jpg"}})},e.prototype.ShareMessage=function(e,t){void 0===e&&(e=""),void 0===t&&(t=null),this.IsWeChat()&&a.WeChat.ShareAppMessage(e,t)},e.prototype.RenderTexture=function(e){void 0===e&&(e=null),this.IsWeChat()},e.prototype.UploadUserCloudData=function(){this.IsWeChat()||console.log("\u975e\u5fae\u4fe1\u5e73\u53f0")},e.prototype.OpenDataContextPostMessage=function(e,t){void 0===t&&(t=""),this.IsWeChat()||console.log("\u975e\u5fae\u4fe1\u5e73\u53f0")},e}();n.default=r,r.getInstance().OnShow(),r.getInstance().OnHide(),cc._RF.pop()},{"../config/BaseConfig":"BaseConfig","./AdvServer":"AdvServer","./StatisticsServer":"StatisticsServer","./WeChat":"WeChat"}],DataManage:[function(e,t,n){"use strict";cc._RF.push(t,"44dcc9sf75BW5rW8yB6XzRb","DataManage"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../utils/Utils"),o=e("../utils/Http"),i=e("../config/BaseConfig");n.ResJson={Game_Level_Config_Json:"game_level_config.json",Game_Map_Config_Json:"game_map_config.json",Game_Level_Tmx:"game_level_tmx.json"};var s=function(){function e(){this.m_JsonData=new Map}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.LoadNetJson=function(e,t){for(var n=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];a.default.CCLog("LoadNetJson",i);for(var r=i.length,l=new Array,u=function(s){var u=i[s];if(""!=u){if(d.m_JsonData.get(u))return l.push(u),l.length==r?e("success",l.length):e("loading "+u,l.length),"continue";var c=new o.default;c.SetReqType(o.HttpReqType.GET),c.Request(t+u,function(t){a.default.CCLog("LoadNetJson succes",t),n.m_JsonData.set(u,t),l.push(u),l.length==r?e("success",l.length):e("loading "+u,l.length)},function(e){a.default.CCLog("LoadNetJson err",e)})}},d=this,c=0;c<r;c++)u(c)},e.prototype.LoadNetJsonArray=function(e,t,n){var i=this;a.default.CCLog("LoadNetJson",n);for(var s=n.length,r=new Array,l=function(l){var d=n[l];if(""!=d){if(u.m_JsonData.get(d))return r.push(d),r.length==s?e("success",r.length):e("loading "+d,r.length),"continue";var c=new o.default;c.SetReqType(o.HttpReqType.GET),c.Request(t+d,function(t){a.default.CCLog("LoadNetJsonArray succes",t),i.m_JsonData.set(d,t),r.push(d),r.length==s?e("success",r.length):e("loading "+d,r.length)},function(e){a.default.CCLog("LoadNetJsonArray err",e)})}},u=this,d=0;d<s;d++)l(d)},e.prototype.LoadResJson=function(e,t){for(var n=this,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];a.default.CCLog("LoadResJson",o);for(var s=o.length,r=new Array,l=function(i){var l=o[i];if(""!=l){if(u.m_JsonData.get(l))return r.push(l),r.length==s?e("success",r.length):e("loading "+l,r.length),"continue";cc.loader.loadRes(t+l,cc.JsonAsset,function(o,i){o?a.default.CCLog("loadRes err",o):(a.default.CCLog("LoadResJson ",t+l,"data",i),n.m_JsonData.set(l,i.json),r.push(l),r.length==s?e("success",r.length):e("loading "+l,r.length))})}},u=this,d=0;d<s;d++)l(d)},e.prototype.GetJson=function(e){return this.m_JsonData.get(e)},e.prototype.GetJsonVaule=function(e,t){for(var n=this.m_JsonData.get(e),a=0;a<n.length;a++){var o=n[a];if(o.ID==t)return o}return null},e.prototype.InitJsonData=function(e){var t=this,o=i.BaseConfig.NetConfig.NetRoot+i.BaseConfig.NetConfig.NetRes;this.LoadNetJson(function(n,o){"success"==n&&e&&(a.default.CCLog("this.m_JsonData",t.m_JsonData),e())},o+"json/",n.ResJson.Game_Level_Tmx)},e}();n.default=s,cc._RF.pop()},{"../config/BaseConfig":"BaseConfig","../utils/Http":"Http","../utils/Utils":"Utils"}],GameLoadingMenu:[function(e,t,n){"use strict";cc._RF.push(t,"c62a27A2ZNEerxgJl49+MCe","GameLoadingMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=e("../manage/SaveManage"),s=e("../utils/Utils"),r=e("../manage/AudioManage"),l=e("../platform/AdvServer"),u=e("../manage/DataManage"),d=e("../platform/StatisticsServer"),c=e("../platform/BasePlatform"),h=cc._decorator,g=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Load_ProgressBar=null,t._m_Update=!1,t._m_LoadProgree=0,t._m_AddProgree=.01,t._m_LoadJosn=!1,t._m_loadSub=!1,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.Load_ProgressBar.progress=0,this._m_Update=!0,r.default.getInstance().InitResAudio("data/musics",function(){s.default.CCLog("\u97f3\u9891\u52a0\u8f7d\u6210\u529f")}),u.default.getInstance().InitJsonData(function(){s.default.CCLog("json \u52a0\u8f7d\u6210\u529f"),e._m_LoadJosn=!0,i.default.getInstance().InitUserData()}),c.default.getInstance().LoadSubPackage("bgmian",function(){console.log("\u5206\u5305\u52a0\u8f7d\u6210\u529f"),e._m_loadSub=!0},function(){console.log("\u5206\u5305\u52a0\u8f7d\u5931\u8d25")}),c.default.getInstance().InitShare(),l.default.getInstance().SetDebug(!1),l.default.getInstance().InitAdvServer(),d.default.getInstance().NewUserCount(),d.default.getInstance().NewUserCount2()},t.prototype.update=function(e){this._m_Update&&(this._m_LoadProgree>=1&&this._m_loadSub?this.NextMenu():(this._m_LoadProgree+=this._m_AddProgree,this.Load_ProgressBar.progress=this._m_LoadProgree))},t.prototype.NextMenu=function(){this._m_LoadJosn&&(this._m_Update=!1,o.default.getInstance().ShowMenu(o.BaseMenu.MainMenu),o.default.getInstance().RmoveMenu(o.BaseMenu.GameLoadingMenu))},__decorate([_(cc.ProgressBar)],t.prototype,"Load_ProgressBar",void 0),t=__decorate([g],t)}(a.default);n.default=m,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/AudioManage":"AudioManage","../manage/DataManage":"DataManage","../manage/MenuManage":"MenuManage","../manage/SaveManage":"SaveManage","../platform/AdvServer":"AdvServer","../platform/BasePlatform":"BasePlatform","../platform/StatisticsServer":"StatisticsServer","../utils/Utils":"Utils"}],GameManage:[function(e,t,n){"use strict";cc._RF.push(t,"8dd77lBC/lCQYYVV7/jEzW0","GameManage"),Object.defineProperty(n,"__esModule",{value:!0});var a,o,i,s,r=e("../base/BaseLayer"),l=e("./SaveManage"),u=(e("./DataManage"),e("../utils/Utils")),d=e("./MenuManage"),c=e("./NodePoolManage"),h=e("../platform/BasePlatform"),g=e("../platform/StatisticsServer");(function(e){e[e.Null=301]="Null",e[e.Car=302]="Car",e[e.Forklift=303]="Forklift"})(a=n.CarType||(n.CarType={})),function(e){e[e.Null=0]="Null",e[e.Ground=1]="Ground",e[e.RedCar_Start=2]="RedCar_Start",e[e.BuleCar_Start=3]="BuleCar_Start",e[e.YellowCar_Start=4]="YellowCar_Start",e[e.GreenCar_Start=5]="GreenCar_Start",e[e.RedCar_End=6]="RedCar_End",e[e.BuleCar_End=7]="BuleCar_End",e[e.YellowCar_End=8]="YellowCar_End",e[e.GreenCar_End=9]="GreenCar_End",e[e.Forklift=10]="Forklift",e[e.Box=11]="Box",e[e.Pile_1=12]="Pile_1",e[e.Pile_2=13]="Pile_2",e[e.Wall=14]="Wall",e[e.Coins=15]="Coins",e[e.Key=16]="Key"}(o=n.ObsType||(n.ObsType={})),function(e){e[e.Red=3]="Red",e[e.Blue=4]="Blue",e[e.Yellow=5]="Yellow",e[e.Green=6]="Green"}(i=n.CarColor||(n.CarColor={})),function(e){e[e.Null=101]="Null",e[e.PreTrigger=102]="PreTrigger",e[e.Trigger=103]="Trigger"}(s=n.PileState||(n.PileState={}));var _=function(){function e(){this.m_MapRoot=null,this.m_MapPrefab=null,this.m_MapConfig=[],this.m_MapList=[],this.m_BolckWidth=58,this.m_BolckHeight=58,this.m_Col=9,this.m_Row=15,this.m_ObsRoot=null,this.m_ObsPrefab=null,this.m_ObsList=[],this.m_BgNode=null,this.m_CarRoot=null,this.m_CarPrefab=null,this.m_CarList=[],this.m_CarSelecIndex=-1,this.m_LevelConfig=null,this.m_MoveLength=30,this.m_PathIndexList=[],this.m_CoinsNum=0,this.m_KeyNum=0,this.m_Update=!1,this.m_GoldPrefab=null,this.m_WoodPrefab=null,this.m_RoundPrefab=null,this.m_goldnum=2,this.m_removeGoldVis=!1,this.m_mianvis=!1,this.m_pengzhuang=!1,this.m_goldBool=!1,this.m_tipszhidao=!1,this.m_dilevelnum=5,this.m_dilevelvis=!1,this.m_trllpifu=1,this.m_trllpifuVis=!1}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.InitPoolNodeTo=function(){for(var e=0;e<c.PoolArray.GoldArr.length;e++){((t=c.PoolArray.GoldArr[e]).getChildByName("Glod").getComponent(cc.RigidBody)||t.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider))&&(t.getChildByName("Glod").removeComponent(cc.RigidBody),t.getChildByName("Glod").removeComponent(cc.PhysicsBoxCollider)),c.default.getInstance().PutNodeToNoodePool(c.PoolName.GoldBullion,t)}for(e=0;e<c.PoolArray.playerArr.length;e++){((t=c.PoolArray.playerArr[e]).getChildByName("Glod").getComponent(cc.RigidBody)||t.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider))&&(t.getChildByName("Glod").removeComponent(cc.RigidBody),t.getChildByName("Glod").removeComponent(cc.PhysicsBoxCollider)),c.default.getInstance().PutNodeToNoodePool(c.PoolName.player,t)}for(e=0;e<c.PoolArray.WoodArr.length;e++){((t=c.PoolArray.WoodArr[e]).getChildByName("Glod").getComponent(cc.RigidBody)||t.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider))&&(t.getChildByName("Glod").removeComponent(cc.RigidBody),t.getChildByName("Glod").removeComponent(cc.PhysicsBoxCollider)),c.default.getInstance().PutNodeToNoodePool(c.PoolName.WoodBlock,t)}for(e=0;e<c.PoolArray.RoundArr.length;e++){var t;((t=c.PoolArray.RoundArr[e]).getChildByName("Glod").getComponent(cc.RigidBody)||t.getChildByName("Glod").getComponent(cc.PhysicsCircleCollider))&&(t.getChildByName("Glod").removeComponent(cc.RigidBody),t.getChildByName("Glod").removeComponent(cc.PhysicsCircleCollider)),c.default.getInstance().PutNodeToNoodePool(c.PoolName.Roundpiece,t)}c.PoolArray.RoundArr=[],c.PoolArray.WoodArr=[],c.PoolArray.playerArr=[],c.PoolArray.GoldArr=[],console.log("\u56de\u6536\u6210\u529f")},e.prototype.InitGameScenes=function(e,t,n,a,o,i,s){this.m_BgNode=e,this.m_MapRoot=t,this.m_CarRoot=n,this.m_CarPrefab=o,this.m_MapPrefab=i,this.m_ObsRoot=a,this.m_ObsPrefab=s},e.prototype.LoadMapConfig=function(){},e.prototype.CreateMap=function(e){var t=c.default.getInstance().GetNodeToNoodePool(c.PoolName.Map,this.m_MapRoot);t.setPosition(e),this.m_MapList.push(t)},e.prototype.CreateObs=function(e,t){var n=c.default.getInstance().GetNodeToNoodePool(c.PoolName.Obs,this.m_ObsRoot);return n.setPosition(e),n.getComponent(r.default).SetObsType(t),n},e.prototype.CreateCar=function(e,t,n){var a=c.default.getInstance().GetNodeToNoodePool(c.PoolName.Car,this.m_CarRoot);a.setPosition(e),a.getComponent(r.default).InitData(t,n),this.m_CarList.push(a)},e.prototype.CreateCarPath=function(e){for(var t=0;t<this.m_CarList.length;t++){var n=this.m_CarList[t];if(u.default.CCLog("TouchCar element",n),n.getBoundingBoxToWorld().contains(e))return!n.getComponent(r.default).GetMovePath().length&&(this.m_CarSelecIndex=t,this.m_PathIndexList.push(this.m_CarSelecIndex),!0)}return this.m_CarSelecIndex=-1,!1},e.prototype.UpdateCarSkin=function(){for(var e=0;e<this.m_CarList.length;e++){this.m_CarList[e].getComponent(r.default).UpdateSkin()}},e.prototype.GoBack=function(){for(var e=0;e<this.m_ObsList.length;e++){if(o=this.m_ObsList[e])for(var t=0;t<o.length;t++){var n=o[t];n&&n.getComponent(r.default).RestState()}}if(u.default.CCLog("GoBack this.m_PathIndexList",this.m_PathIndexList),this.m_PathIndexList.length>0){var a=this.m_PathIndexList.pop();this.m_CarList[a].getComponent(r.default).ClearPath()}for(e=0;e<this.m_CarList.length;e++){var o;(o=this.m_CarList[e]).getComponent(r.default).RestPos()}},e.prototype.GetFirstCar=function(){for(var e=0;e<this.m_CarList.length;e++){var t=this.m_CarList[e];if(t.getComponent(r.default).GetCarType()==a.Car&&!t.getComponent(r.default).GetMovePath().length)return t.position}return null},e.prototype.AddCarPath=function(e){var t=this.m_CarList[this.m_CarSelecIndex];if(!t.getComponent(r.default).GetPathEnd()){var n=t.getComponent(r.default).GetMovePath();if(cc.Rect.fromMinMax(cc.v2(-this.m_Col/2*this.m_BolckWidth,this.m_Row/2*this.m_BolckHeight),cc.v2(this.m_Col/2*this.m_BolckWidth,-this.m_Row/2*this.m_BolckHeight)).contains(e))if(n.length>0){var s=n[n.length-1],l=e.sub(s),d=l.mag(),c=Math.floor(d/this.m_MoveLength);if(c)for(var g=1;g<=c;g++){var _=s.add(l.normalize().scale(cc.v2(this.m_MoveLength*g,this.m_MoveLength*g))),m=this.NodeToMapGrid(_);if((D=this.m_MapConfig[m.y][m.x+1])==o.Null)return;if(D==o.Wall)return;n.push(_),h.default.getInstance().VibrateShort();var f=t.getComponent(r.default).GetCarType(),p=t.getComponent(r.default).GetColor(),v=this.MapGridToNode(m);if(f!=a.Forklift&&p==i.Red&&D==o.RedCar_End)n.push(v),t.getComponent(r.default).SetPathEnd();else if(f!=a.Forklift&&p==i.Blue&&D==o.BuleCar_End)n.push(v),t.getComponent(r.default).SetPathEnd();else if(f!=a.Forklift&&p==i.Yellow&&D==o.YellowCar_End)n.push(v),t.getComponent(r.default).SetPathEnd();else if(f!=a.Forklift&&p==i.Green&&D==o.GreenCar_End)n.push(v),t.getComponent(r.default).SetPathEnd();else{var C=this.m_MapConfig[m.y][m.x];if(f!=a.Forklift&&p==i.Red&&C==o.RedCar_End){var y=this.MapGridToNode(cc.v2(m.x-1,m.y));n.push(y),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Blue&&C==o.BuleCar_End){var S=this.MapGridToNode(cc.v2(m.x-1,m.y));n.push(S),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Yellow&&C==o.YellowCar_End){var I=this.MapGridToNode(cc.v2(m.x-1,m.y));n.push(I),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Green&&C==o.GreenCar_End){var M=this.MapGridToNode(cc.v2(m.x-1,m.y));n.push(M),t.getComponent(r.default).SetPathEnd()}if(m.x+2>8)u.default.CCLog("AddCarPath \u53f3\u8fb9\u51fa\u754c");else{var B=this.m_MapConfig[m.y][m.x+2];if(f!=a.Forklift&&p==i.Red&&B==o.RedCar_End){var w=this.MapGridToNode(cc.v2(m.x+1,m.y));n.push(w),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Blue&&B==o.BuleCar_End){var G=this.MapGridToNode(cc.v2(m.x+1,m.y));n.push(G),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Yellow&&B==o.YellowCar_End){var T=this.MapGridToNode(cc.v2(m.x+1,m.y));n.push(T),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Green&&B==o.GreenCar_End){var R=this.MapGridToNode(cc.v2(m.x+1,m.y));n.push(R),t.getComponent(r.default).SetPathEnd()}}if(m.y-1<0)u.default.CCLog("AddCarPath \u4e0a\u8fb9\u51fa\u754c");else{var N=this.m_MapConfig[m.y-1][m.x+1];if(f!=a.Forklift&&p==i.Red&&N==o.RedCar_End){var A=this.MapGridToNode(cc.v2(m.x,m.y-1));n.push(A),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Blue&&N==o.BuleCar_End){var b=this.MapGridToNode(cc.v2(m.x,m.y-1));n.push(b),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Yellow&&N==o.YellowCar_End){var L=this.MapGridToNode(cc.v2(m.x,m.y-1));n.push(L),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Green&&N==o.GreenCar_End){var P=this.MapGridToNode(cc.v2(m.x,m.y-1));n.push(P),t.getComponent(r.default).SetPathEnd()}}if(m.y+1>14)u.default.CCLog("AddCarPath \u4e0b\u8fb9\u51fa\u754c");else{var k=this.m_MapConfig[m.y+1][m.x+1];if(f!=a.Forklift&&p==i.Red&&k==o.RedCar_End){var x=this.MapGridToNode(cc.v2(m.x,m.y+1));n.push(x),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Blue&&k==o.BuleCar_End){var W=this.MapGridToNode(cc.v2(m.x,m.y+1));n.push(W),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Yellow&&k==o.YellowCar_End){var U=this.MapGridToNode(cc.v2(m.x,m.y+1));n.push(U),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Green&&k==o.GreenCar_End){var F=this.MapGridToNode(cc.v2(m.x,m.y+1));n.push(F),t.getComponent(r.default).SetPathEnd()}}}}else{var D;m=this.NodeToMapGrid(e);if((D=this.m_MapConfig[m.y][m.x+1])==o.Null)return;if(D==o.Wall)return;d>this.m_MoveLength&&(n.push(e),h.default.getInstance().VibrateShort());f=t.getComponent(r.default).GetCarType(),p=t.getComponent(r.default).GetColor(),v=this.MapGridToNode(m);if(f!=a.Forklift&&p==i.Red&&D==o.RedCar_End)n.push(v),t.getComponent(r.default).SetPathEnd();else if(f!=a.Forklift&&p==i.Blue&&D==o.BuleCar_End)n.push(v),t.getComponent(r.default).SetPathEnd();else if(f!=a.Forklift&&p==i.Yellow&&D==o.YellowCar_End)n.push(v),t.getComponent(r.default).SetPathEnd();else if(f!=a.Forklift&&p==i.Green&&D==o.GreenCar_End)n.push(v),t.getComponent(r.default).SetPathEnd();else{C=this.m_MapConfig[m.y][m.x];if(f!=a.Forklift&&p==i.Red&&C==o.RedCar_End){var j=this.MapGridToNode(cc.v2(m.x-1,m.y));n.push(j),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Blue&&C==o.BuleCar_End){var E=this.MapGridToNode(cc.v2(m.x-1,m.y));n.push(E),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Yellow&&C==o.YellowCar_End){var O=this.MapGridToNode(cc.v2(m.x-1,m.y));n.push(O),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Green&&C==o.GreenCar_End){var V=this.MapGridToNode(cc.v2(m.x-1,m.y));n.push(V),t.getComponent(r.default).SetPathEnd()}if(m.x+2>8)u.default.CCLog("AddCarPath \u53f3\u8fb9\u51fa\u754c");else{B=this.m_MapConfig[m.y][m.x+2];if(f!=a.Forklift&&p==i.Red&&B==o.RedCar_End){var J=this.MapGridToNode(cc.v2(m.x+1,m.y));n.push(J),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Blue&&B==o.BuleCar_End){var z=this.MapGridToNode(cc.v2(m.x+1,m.y));n.push(z),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Yellow&&B==o.YellowCar_End){var H=this.MapGridToNode(cc.v2(m.x+1,m.y));n.push(H),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Green&&B==o.GreenCar_End){var q=this.MapGridToNode(cc.v2(m.x+1,m.y));n.push(q),t.getComponent(r.default).SetPathEnd()}}if(m.y-1<0)u.default.CCLog("AddCarPath \u4e0a\u8fb9\u51fa\u754c");else{N=this.m_MapConfig[m.y-1][m.x+1];if(f!=a.Forklift&&p==i.Red&&N==o.RedCar_End){var Q=this.MapGridToNode(cc.v2(m.x,m.y-1));n.push(Q),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Blue&&N==o.BuleCar_End){var K=this.MapGridToNode(cc.v2(m.x,m.y-1));n.push(K),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Yellow&&N==o.YellowCar_End){var X=this.MapGridToNode(cc.v2(m.x,m.y-1));n.push(X),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Green&&N==o.GreenCar_End){var Y=this.MapGridToNode(cc.v2(m.x,m.y-1));n.push(Y),t.getComponent(r.default).SetPathEnd()}}if(m.y+1>14)u.default.CCLog("AddCarPath \u4e0b\u8fb9\u51fa\u754c");else{k=this.m_MapConfig[m.y+1][m.x+1];if(f!=a.Forklift&&p==i.Red&&k==o.RedCar_End){var Z=this.MapGridToNode(cc.v2(m.x,m.y+1));n.push(Z),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Blue&&k==o.BuleCar_End){var $=this.MapGridToNode(cc.v2(m.x,m.y+1));n.push($),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Yellow&&k==o.YellowCar_End){var ee=this.MapGridToNode(cc.v2(m.x,m.y+1));n.push(ee),t.getComponent(r.default).SetPathEnd()}else if(f!=a.Forklift&&p==i.Green&&k==o.GreenCar_End){var te=this.MapGridToNode(cc.v2(m.x,m.y+1));n.push(te),t.getComponent(r.default).SetPathEnd()}}}}}else n.push(e),h.default.getInstance().VibrateShort();else u.default.CCLog("\u51fa\u754c")}},e.prototype.ClearCarPath=function(){for(var e=0;e<this.m_CarList.length;e++){this.m_CarList[e].getComponent(r.default).ClearPath()}},e.prototype.GetCarList=function(){return this.m_CarList},e.prototype.NodeToMapGrid=function(e){var t=e.x+this.m_Col/2*this.m_BolckWidth,n=e.y-this.m_Row/2*this.m_BolckWidth,a=Math.floor(t/this.m_BolckWidth),o=Math.floor(Math.abs(n)/this.m_BolckHeight);return cc.v2(a,o)},e.prototype.MapGridToNode=function(e){var t=-this.m_Col/2*this.m_BolckWidth+e.x*this.m_BolckWidth+this.m_BolckWidth/2,n=this.m_Row/2*this.m_BolckHeight-e.y*this.m_BolckHeight-this.m_BolckHeight/2;return cc.v2(t,n)},e.prototype.StartCarMove=function(){for(var e=0;e<this.m_ObsList.length;e++){if(i=this.m_ObsList[e])for(var t=0;t<i.length;t++){var n=i[t];n&&n.getComponent(r.default).RestState()}}var a=!1,o=!1;for(e=0;e<this.m_CarList.length;e++){var i;(i=this.m_CarList[e]).getComponent(r.default).GetMovePath().length?(i.getComponent(r.default).StartMove(),o||i.getComponent(r.default).GetPathEnd()||(a=!0)):(a=!1,o=!0)}if(this.m_Update=!0,a){var s=d.default.getInstance().GetMenu(d.BaseMenu.MainMenu);s&&s.PlayBackAction()}},e.prototype.StopCarMove=function(){for(var e=0;e<this.m_ObsList.length;e++){if(a=this.m_ObsList[e])for(var t=0;t<a.length;t++){var n=a[t];n&&n.getComponent(r.default).RestState()}}for(e=0;e<this.m_CarList.length;e++){var a;(a=this.m_CarList[e]).getComponent(r.default).StopMove()}},e.prototype.TriggerPile=function(e){if(u.default.CCLog("TriggerPile this.m_ObsList",this.m_ObsList),u.default.CCLog("TriggerPile x",e.x,"y",e.y),this.m_ObsList[e.y+1]){var t=this.m_ObsList[e.y+1][e.x];u.default.CCLog("TriggerPile upobs",t),t&&t.getComponent(r.default).GetObsType()==o.Pile_1&&t.getComponent(r.default).GetPileState()==s.Null&&(t.getComponent(r.default).GetObsType().PileAction(),this.TriggerPile(cc.v2(e.x,e.y+1)))}if(this.m_ObsList[e.y-1]){var n=this.m_ObsList[e.y-1][e.x];u.default.CCLog("TriggerPile dowobs",n),n&&n.getComponent(r.default).GetObsType()==o.Pile_1&&n.getComponent(r.default).GetPileState()==s.Null&&(n.getComponent(r.default).GetObsType().PileAction(),this.TriggerPile(cc.v2(e.x,e.y-1)))}var a=this.m_ObsList[e.y][e.x-1];u.default.CCLog("TriggerPile leftobs",a),a&&a.getComponent(r.default).GetObsType()==o.Pile_1&&(u.default.CCLog("leftobs.getComponent(BaseLayer).GetPileState()",a.getComponent(r.default).GetPileState()),a.getComponent(r.default).GetPileState()==s.Null&&(a.getComponent(r.default).PileAction(),this.TriggerPile(cc.v2(e.x-1,e.y))));var i=this.m_ObsList[e.y][e.x+1];u.default.CCLog("TriggerPile rightobs",i),i&&i.getComponent(r.default).GetObsType()==o.Pile_1&&i.getComponent(r.default).GetPileState()==s.Null&&(i.getComponent(r.default).PileAction(),this.TriggerPile(cc.v2(e.x+1,e.y)))},e.prototype.AddCoins=function(){this.m_CoinsNum++},e.prototype.GetCoins=function(){return this.m_CoinsNum},e.prototype.AddKey=function(){this.m_KeyNum++},e.prototype.GetKey=function(){return this.m_KeyNum},e.prototype.NextLevel=function(){var t=l.default.getInstance().GetLevel();++t>=21&&(e.getInstance().m_dilevelvis=!1),l.default.getInstance().SetLevel(t),g.default.getInstance().SendCustomEvent("\u5173\u5361"+t);var n=d.default.getInstance().GetMenu(d.BaseMenu.MainPlay);n&&n.XuanguanMap()},e.prototype.ContinueGame=function(){},e.prototype.UpdateGame=function(e){this.m_Update},e.prototype.RestartGame=function(){var t=l.default.getInstance().GetLevel();t>=21&&(e.getInstance().m_dilevelvis=!0),g.default.getInstance().SendCustomEvent("\u5173\u5361"+t);var n=d.default.getInstance().GetMenu(d.BaseMenu.MainPlay);n&&(console.log("mainmenu \u4ece\u65b0\u5f00\u59cb\u6e38\u620f"),n.XuanguanMap())},e.prototype.GameOver=function(){for(var e=this,t=0;t<this.m_CarList.length;t++){var n=this.m_CarList[t];if(n.getComponent(r.default).GetCarType()==a.Car&&!n.getComponent(r.default).GetMovePath().length)return}var o=d.default.getInstance().GetMenu(d.BaseMenu.MainMenu);o&&(o.UpdateLevel(),o.PlayFaildAnimation(function(){d.default.getInstance().ShowMenu(d.BaseMenu.ResultMenu,0),e.StopCarMove()}))},e.prototype.GameWin=function(){for(var e=this,t=0;t<this.m_CarList.length;t++){var n=this.m_CarList[t];if(n.getComponent(r.default).GetCarType()==a.Car&&!n.getComponent(r.default).GetMoveEnd())return}var o=d.default.getInstance().GetMenu(d.BaseMenu.MainMenu);o&&(o.UpdateLevel(),o.PlayWinAnimation(function(){d.default.getInstance().ShowMenu(d.BaseMenu.ResultMenu,1),e.StopCarMove()}))},e.prototype.FreeGame=function(){this.m_Update=!1;for(var e=0;e<this.m_MapList.length;e++){var t=this.m_MapList[e];c.default.getInstance().PutNodeToNoodePool(c.PoolName.Map,t)}for(e=0;e<this.m_ObsList.length;e++){var n=this.m_ObsList[e];if(n)for(var a=0;a<n.length;a++){(t=n[a])&&(t.getComponent(r.default).RestState(),c.default.getInstance().PutNodeToNoodePool(c.PoolName.Obs,t))}}for(e=0;e<this.m_CarList.length;e++){(t=this.m_CarList[e]).getComponent(r.default).Free(),c.default.getInstance().PutNodeToNoodePool(c.PoolName.Car,t)}this.m_MapList=[],this.m_ObsList=[],this.m_CarList=[],this.m_MapConfig=[],this.m_PathIndexList=[],this.m_CoinsNum=0,this.m_KeyNum=0;var o=d.default.getInstance().GetMenu(d.BaseMenu.MainMenu);o&&(o.ClearPathGraphics(),o.StopPathShow())},e}();n.default=_,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../platform/BasePlatform":"BasePlatform","../platform/StatisticsServer":"StatisticsServer","../utils/Utils":"Utils","./DataManage":"DataManage","./MenuManage":"MenuManage","./NodePoolManage":"NodePoolManage","./SaveManage":"SaveManage"}],GameScene:[function(e,t,n){"use strict";cc._RF.push(t,"f0070i4l5RCtqSJ1idrDPL0","GameScene"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=cc._decorator,s=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.start=function(){o.default.getInstance().ShowMenu(o.BaseMenu.GameLoadingMenu)},t=__decorate([s],t)}(a.default));n.default=r,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/MenuManage":"MenuManage"}],GetCoinsMenu:[function(e,t,n){"use strict";cc._RF.push(t,"3c35czLrQ1O9oBULKI0UKxw","GetCoinsMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/AudioManage"),i=e("../manage/MenuManage"),s=e("../platform/AdvServer"),r=cc._decorator,l=r.ccclass,u=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._m_CallFun=null,t}return __extends(t,e),t.prototype.Init=function(e){this._m_CallFun=e},t.prototype.start=function(){},t.prototype.OnClick=function(e){var t=this;o.default.getInstance().PlaySound(o.ResMusics.Sound_Click),"Btn_FreeGet"==e.target.name?s.default.getInstance().ShowWeChatRewardedVideoAd(function(){t._m_CallFun&&t._m_CallFun(),i.default.getInstance().RmoveMenu(i.BaseMenu.GetCoinsMenu)},function(){i.default.getInstance().RmoveMenu(i.BaseMenu.TipsMenu,"\u89c6\u9891\u672a\u770b\u5b8c")}):"Btn_Closed"==e.target.name&&i.default.getInstance().RmoveMenu(i.BaseMenu.GetCoinsMenu)},t=__decorate([l],t)}(a.default));n.default=u,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/AudioManage":"AudioManage","../manage/MenuManage":"MenuManage","../platform/AdvServer":"AdvServer"}],GoldBullion:[function(e,t,n){"use strict";cc._RF.push(t,"257b222pRlGW5fkxyAX7R9/","GoldBullion"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/AudioManage"),i=e("../manage/MenuManage"),s=e("../manage/NodePoolManage"),r=e("../platform/AdvServer"),l=e("../manage/GameManage"),u=cc._decorator,d=u.ccclass,c=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){},t.prototype.InitSchedule=function(){if(this.m_mxiaoyu){console.log("InitSchedule");var e=s.PoolArray.playerArr[0].getChildByName("Glod").getComponent(cc.RigidBody).awake;if(l.default.getInstance().m_mianvis)return l.default.getInstance().m_mianvis=!1,this.unschedule(this.InitSchedule),console.log("InitSchedule m_mianvis"),void(this.m_mxiaoyu=!1);l.default.getInstance().m_removeGoldVis||e||(console.log("InitSchedule m_removeGoldVis"),this.m_mxiaoyu=!1,this.unschedule(this.InitSchedule),this.scheduleOnce(function(){l.default.getInstance().m_removeGoldVis=!0,l.default.getInstance().InitPoolNodeTo(),console.log("\u7816\u5757\u4e0b\u4e00\u5173"),o.default.getInstance().PlaySound(o.ResMusics.Sound_Win);var e=r.default.getInstance().GetGlobalConfig().game_shenmi;Math.floor(1e5*Math.random())%100<e?i.default.getInstance().ShowMenu(i.BaseMenu.MysteriousMenu):i.default.getInstance().ShowMenu(i.BaseMenu.WinMenu)},1))}},t.prototype.InitXianshouzhidao=function(e){if(l.default.getInstance().m_tipszhidao){var t=i.default.getInstance().GetMenu(i.BaseMenu.MainPlay);t&&t.InitTipShi(e)}},t.prototype.OnClick=function(e){if(console.log("GameManage.getInstance().m_goldBool",l.default.getInstance().m_goldBool),!l.default.getInstance().m_goldBool)if(this.InitXianshouzhidao(2),l.default.getInstance().m_goldBool||(console.log("m_goldBool",l.default.getInstance().m_goldBool),l.default.getInstance().m_goldBool=!0,this.scheduleOnce(function(){l.default.getInstance().m_goldBool=!1},.1)),l.default.getInstance().m_goldnum--,console.log("OnClick m_goldnum"),l.default.getInstance().m_goldnum<0)l.default.getInstance().m_goldnum=0;else{if(l.default.getInstance().m_goldnum<=0)return o.default.getInstance().PlaySound(o.ResMusics.Sound_xiaochu),e.target.active=!1,this.InitXianshouzhidao(3),l.default.getInstance().m_removeGoldVis=!1,console.log("\u91d1\u7816\u5c0f\u4e8e0\u7684\u65f6\u5019"),this.m_mxiaoyu=!0,void this.schedule(this.InitSchedule,.1);o.default.getInstance().PlaySound(o.ResMusics.Sound_xiaochu),l.default.getInstance().m_mianvis=!1,this.m_mxiaoyu=!1,e.target.active=!1}},t=__decorate([d],t)}(a.default));n.default=c,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/AudioManage":"AudioManage","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../manage/NodePoolManage":"NodePoolManage","../platform/AdvServer":"AdvServer"}],Http:[function(e,t,n){"use strict";cc._RF.push(t,"3f518F7H7ZG1rOkCJfRSVV2","Http"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("./Utils"),i=e("../platform/BasePlatform"),s=e("../platform/WeChat");(function(e){e[e.GET=10001]="GET",e[e.POST=10002]="POST",e[e.DELETE=10003]="DELETE"})(a=n.HttpReqType||(n.HttpReqType={}));var r=function(){function e(){this.m_data=new Map,this.m_ReqType=a.POST,o.default.CCLog("Http constructor")}return e.prototype.AddParam=function(e,t){this.m_data.set(e,t)},e.prototype.SetReqType=function(e){this.m_ReqType=e},e.prototype.Request=function(e,t,n,o,r){var l=this;void 0===o&&(o=3),void 0===r&&(r=1e3);var u="";if(this.m_data.forEach(function(e,t,n){""!=u&&(u+="&&"),u+=t+"="+e}),i.default.getInstance().IsWeChat()){var d="POST";return this.m_ReqType==a.GET?d="GET":this.m_ReqType==a.DELETE&&(d="DELETE"),void s.WeChat.HttpRequest(e,u,t,n,d,o,r)}var c=new XMLHttpRequest;c.timeout=r,c.onreadystatechange=function(){4==c.readyState&&c.status>=200&&c.status<400&&t&&t(JSON.parse(c.responseText))},c.ontimeout=function(){console.error("BaesHttp.Request Timeout!!"),--o<=0?n&&n("\u8bf7\u6c42\u8d85\u65f6\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):(console.log("BaesHttp.Request fail",l),l.Request(e,t,n,o,r))},this.m_ReqType==a.GET?(c.open("GET",e+"?"+u,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send()):this.m_ReqType==a.DELETE?(c.open("DELETE",e,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(u)):(c.open("POST",e,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(u))},e}();n.default=r,cc._RF.pop()},{"../platform/BasePlatform":"BasePlatform","../platform/WeChat":"WeChat","./Utils":"Utils"}],LuckyEgg:[function(e,t,n){"use strict";cc._RF.push(t,"1e82aYpMvNDEaeKr7q04Pdm","LuckyEgg"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../AdvServer"),o=e("../../base/BaseLayer"),i=e("../../manage/MenuManage"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Under=null,t.jindubar=null,t._m_Progress=0,t._m_GetPrize=!1,t._m_LastTime=.5,t._m_BannerPregress=.8,t._m_CloseCallFun=null,t._m_IssueCallFun=null,t._m_Update=!1,t}return __extends(t,e),t.prototype.start=function(){this.jindubar.width=3,this.node.zIndex=5,console.log("\u91d1\u86cb \u663e\u793a"),a.default.getInstance().m_QuanpingVis=!0,a.default.getInstance().m_bannerxainshi=!0,a.default.getInstance().m_IsBannerVis=!1,a.default.getInstance().HideWeChatBanner(),a.default.getInstance().ShowXianshiBanner()},t.prototype.InitData=function(e,t){this._m_CloseCallFun=e,this._m_IssueCallFun=t},t.prototype.update=function(e){this._m_Update&&(this.jindubar.width-=.05,this.jindubar.width<=0&&(this._m_Update=!1))},t.prototype.CloseMenu=function(){console.log("\u91d1\u86cb\u9000\u51faCloseMenu"),a.default.getInstance().HideWeChatBanner();var e=i.default.getInstance().GetMenu(i.BaseMenu.MainMenu);e&&(a.default.getInstance().m_QuanpingVis=!1,e.InitShowBanner(),a.default.getInstance().m_QuanpingVis||a.default.getInstance().ShowTgCapsule()),i.default.getInstance().RmoveMenu(i.BaseMenu.LuckyEgg)},t.prototype.OnClick=function(e){var t=this;if("Btn_Back"==e.target.name)this.CloseMenu();else if("Btn_Click"==e.target.name){if(this._m_GetPrize)return;this.jindubar.width<200?(this.jindubar.width+=45,this.jindubar.width>150&&(this._m_Update=!0)):(this.jindubar.width<309&&(this.jindubar.width+=10),a.default.getInstance().ShowTimebanner(function(){t.scheduleOnce(function(){t.CloseMenu()},2)}))}},__decorate([l(cc.Node)],t.prototype,"Under",void 0),__decorate([l(cc.Node)],t.prototype,"jindubar",void 0),t=__decorate([r],t)}(o.default);n.default=u,cc._RF.pop()},{"../../base/BaseLayer":"BaseLayer","../../manage/MenuManage":"MenuManage","../AdvServer":"AdvServer"}],MainMenu:[function(e,t,n){"use strict";cc._RF.push(t,"5430axenKNCXq2JuwgEYCoF","MainMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=e("../manage/SaveManage"),s=e("../manage/NodePoolManage"),r=e("../platform/AdvServer"),l=e("../platform/StatisticsServer"),u=e("../manage/GameManage"),d=cc._decorator,c=d.ccclass,h=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GoldPrefab=null,t.WoodPrefab=null,t.RoundPrefab=null,t.PlayerPrefab=null,t.MenuUI=null,t.gold_di=null,t.glod_Label=null,t.mianbg=null,t.miangengduo=null,t.Btn_qiangtan=null,t._m_ShowPath=!1,t._m_LineIndex=0,t._m_LineLength=50,t._m_LineList=[],t._m_GuideTime=i.GameGuideTime,t._m_GuidePath=[],t._m_GlobalConfig=null,t}return __extends(t,e),t.prototype.onLoad=function(){this._m_GlobalConfig=r.default.getInstance().GetGlobalConfig(),this._m_GlobalConfig.game_is_review?this.miangengduo.active=!1:this.miangengduo.active=!0,i.default.getInstance().GetSigInToDay()||o.default.getInstance().ShowMenu(o.BaseMenu.SignMenu)},t.prototype.start=function(){this.MenuUI.active=!0;var e=i.default.getInstance().GetMax_Level();this.mianbg.getChildByName("Label").getComponent(cc.Label).string=e,s.default.getInstance().CreateNoodePool(s.PoolName.GoldBullion,this.GoldPrefab,20),s.default.getInstance().CreateNoodePool(s.PoolName.WoodBlock,this.WoodPrefab,10),s.default.getInstance().CreateNoodePool(s.PoolName.Roundpiece,this.RoundPrefab,5),s.default.getInstance().CreateNoodePool(s.PoolName.player,this.PlayerPrefab,2),this.UpdateCoins();r.default.getInstance().GetMainQiangTan();this.Btn_qiangtan.active=!1;var t=r.default.getInstance().GetGlobalConfig().game_main_fullscreen_2,n=r.default.getInstance().GetGlobalConfig().game_main_fullscreen_1,a=r.default.getInstance().GetGlobalConfig().game_is_review;console.log("xainshi2",t,"xainshi1",n),(!n&&!t||a)&&(r.default.getInstance().GetShouti(),r.default.getInstance().m_IsBannerVis=!0,r.default.getInstance().ShowTimebanner(),this.schedule(r.default.getInstance().ShowbanenrRand,10))},t.prototype.InitShowBanner=function(){console.log("menu \u663e\u793abanner"),this.unschedule(r.default.getInstance().ShowbanenrRand),r.default.getInstance().m_IsBannerVis=!0,r.default.getInstance().ShowTimebanner(),this.schedule(r.default.getInstance().ShowbanenrRand,10)},t.prototype.Init=function(){r.default.getInstance().ShowMenuAdv(o.BaseMenu.MainMenu)},t.prototype.Free=function(){r.default.getInstance().RemoveMenuAdv(o.BaseMenu.MainMenu)},t.prototype.UpdateCoins=function(){this.glod_Label.string=i.default.getInstance().GetCoins()},t.prototype.UpdateLevel=function(){this.Label_Level.string=i.default.getInstance().GetLevel()},t.prototype.StartGame=function(){this.MenuUI.active=!1,this.UpdateLevel(),this._m_GuideTime=i.GameGuideTime,1==i.default.getInstance().GetLevel()&&(this._m_GuideTime=0)},t.prototype.update=function(e){this.UpdateCoins()},t.prototype.OnClick=function(e){var t=this;if(this._m_GuideTime=i.GameGuideTime,"Btn_GameStart"==e.target.name){var n=i.default.getInstance().GetLevel();l.default.getInstance().SendCustomEvent("\u5173\u5361"+n);var a=r.default.getInstance().GetGlobalConfig().game_gameplay_fullscreen_1,s=r.default.getInstance().GetGlobalConfig().game_gameplay_fullscreen_2;a||s||r.default.getInstance().GetShowStartEgg()&&o.default.getInstance().ShowMenu(o.BaseMenu.LuckyEgg),o.default.getInstance().ShowMenu(o.BaseMenu.MainPlay)}else"Btn_Back"==e.target.name?(this.StopBackAction(),u.default.getInstance().GoBack()):"Btn_Ignore"==e.target.name?r.default.getInstance().ShowWeChatRewardedVideoAd(function(){u.default.getInstance().FreeGame(),u.default.getInstance().NextLevel()},function(){o.default.getInstance().ShowMenu(o.BaseMenu.TipsMenu,"\u89c6\u9891\u672a\u770b\u5b8c")}):"Btn_CarLibary"==e.target.name?o.default.getInstance().ShowMenu(o.BaseMenu.SignMenu):"Shop_Btn"==e.target.name?o.default.getInstance().ShowMenu(o.BaseMenu.ShopMenu):"miangengduo"==e.target.name?r.default.getInstance().ShowTgFullScreen(null,!1,null,o.BaseMenu.MainMenu):"Btn_qiangtan"==e.target.name&&r.default.getInstance().ShowWeChatRewardedVideoAd2(function(){t.Btn_qiangtan.active=!1},function(){t.Btn_qiangtan.active=!1})},__decorate([h(cc.Prefab)],t.prototype,"GoldPrefab",void 0),__decorate([h(cc.Prefab)],t.prototype,"WoodPrefab",void 0),__decorate([h(cc.Prefab)],t.prototype,"RoundPrefab",void 0),__decorate([h(cc.Prefab)],t.prototype,"PlayerPrefab",void 0),__decorate([h(cc.Node)],t.prototype,"MenuUI",void 0),__decorate([h(cc.Node)],t.prototype,"gold_di",void 0),__decorate([h(cc.Label)],t.prototype,"glod_Label",void 0),__decorate([h(cc.Node)],t.prototype,"mianbg",void 0),__decorate([h(cc.Node)],t.prototype,"miangengduo",void 0),__decorate([h(cc.Node)],t.prototype,"Btn_qiangtan",void 0),t=__decorate([c],t)}(a.default);n.default=g,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../manage/NodePoolManage":"NodePoolManage","../manage/SaveManage":"SaveManage","../platform/AdvServer":"AdvServer","../platform/StatisticsServer":"StatisticsServer"}],MainPlay:[function(e,t,n){"use strict";cc._RF.push(t,"8cbbe+mcBxJPoZEeNxPAp2V","MainPlay"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/AudioManage"),i=e("../manage/MenuManage"),s=e("../manage/SaveManage"),r=e("../manage/NodePoolManage"),l=e("../platform/AdvServer"),u=e("../utils/Utils"),d=e("../manage/DataManage"),c=e("../manage/GameManage"),h=cc._decorator,g=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.parent=null,t.TiledMap=null,t.GoldPrefab=null,t.WoodPrefab=null,t.RoundPrefab=null,t.Player=null,t.click_bg=null,t.gold_num=null,t.jishiqibg=null,t.tipshou=null,t.gengduoyouxi=null,t.Btn_Qiangtan=null,t.m_timeNum=0,t.m_shouany=[],t.m_tipshi=null,t._m_GlobalConfig=null,t._m_Juese=null,t._m_Jswidth=98,t._m_JsHeight=100,t._m_Jsx=0,t._m_Jsy=0,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,this._m_GlobalConfig=l.default.getInstance().GetGlobalConfig(),this._m_GlobalConfig.game_is_review?this.gengduoyouxi.active=!1:this.gengduoyouxi.active=!0},t.prototype.start=function(){this.XuanguanMap(),o.default.getInstance().PlayMusic(o.ResMusics.Sound_Bg)},t.prototype.Init=function(){l.default.getInstance().ShowMenuAdv(i.BaseMenu.MainPlay)},t.prototype.Free=function(){l.default.getInstance().RemoveMenuAdv(i.BaseMenu.MainPlay)},t.prototype.ScheDuleTime=function(){var e=this.jishiqibg.getChildByName("Label");this.m_timeNum++;var t=u.default.GetTimeMinutesSeconds(this.m_timeNum);e.getComponent(cc.Label).string=t},t.prototype.InitTipShi=function(e){this.tipshou.active=!0;var t=cc.scaleTo(.7,.9),n=cc.scaleTo(.7,1);this.m_tipshi=cc.sequence(t,n),this.tipshou.runAction(cc.repeatForever(this.m_tipshi)),1==e?(c.default.getInstance().m_tipszhidao=!0,this.tipshou.x=this.m_shouany[0].x+this.m_shouany[0].width-10-360,this.tipshou.y=this.m_shouany[0].y-this.m_shouany[0].height/2-434):2==e?(this.tipshou.x=this.m_shouany[1].x+this.m_shouany[1].width-10-360,this.tipshou.y=this.m_shouany[1].y-this.m_shouany[1].height/2-434):3==e&&(this.tipshou.active=!1,c.default.getInstance().m_tipszhidao=!1)},t.prototype.XuanguanMap=function(){var e=this;this.m_timeNum=0,this.unschedule(this.ScheDuleTime),this.schedule(this.ScheDuleTime,1);var t=s.default.getInstance().GetLevel();l.default.getInstance().ShowLocalBlock()&&(l.default.getInstance().GetMainQiangTan()?this.Btn_Qiangtan.active=!0:this.Btn_Qiangtan.active=!1),t>s.LevelBase&&(t=(t-s.LevelBase)%(s.LevelMax-s.LevelBase)+s.LevelBase),1==t&&i.default.getInstance().ShowMenu(i.BaseMenu.NewGuidance),s.default.getInstance().InitCurrentLevel(t),s.default.getInstance().InitLevel(),s.default.getInstance().SetLevel(t),this.click_bg.getChildByName("Label").getComponent(cc.Label).string=t,i.default.getInstance().ShowMenu(i.BaseMenu.TheTrialMenu),t>=21&&(c.default.getInstance().m_dilevelvis?(c.default.getInstance().m_dilevelvis=!1,t=c.default.getInstance().m_dilevelnum):(t=u.default.RandNum(6,20),c.default.getInstance().m_dilevelnum=t)),this.m_LevelConfig=d.default.getInstance().GetJsonVaule(d.ResJson.Game_Level_Tmx,t),console.log("this.m_LevelConfig",this.m_LevelConfig),c.default.getInstance().m_goldnum=this.m_LevelConfig.GoldNum,console.log("this.m_LevelConfig",this.m_LevelConfig);var n="data/tmx/"+this.m_LevelConfig.Checktmx;cc.loader.loadRes(n,cc.TiledMapAsset,function(t,n){e.TiledMap.tmxAsset=n;var a=e.TiledMap.getObjectGroups();console.log("objGroups",a);for(var o=0;o<a.length;o++){var i=a[o].getObjects();if("jintiao"==a[o].node.name)for(var s=0;s<i.length;s++){var r=i[s].x-360,l=i[s].y-380;e.m_shouany.push(i[s]),e.initJinTiaoMap(i[s].width,i[s].height,r,l)}else if("juese"==a[o].node.name)for(s=0;s<i.length;s++){r=i[s].x-360,l=i[s].y-380;e.initjueseMap(i[s].width,i[s].height,r,l)}else if("muban"==a[o].node.name)for(s=0;s<i.length;s++){r=i[s].x-360,l=i[s].y-380;e.initmubanMap(i[s].width,i[s].height,r,l)}else if("shiqiu"==a[o].node.name)for(s=0;s<i.length;s++){r=i[s].x-360,l=i[s].y-380;e.initshiqiuMap(i[s].width,i[s].height,r,l)}}})},t.prototype.initJinTiaoMap=function(e,t,n,a){console.log("initJinTiaoMap");var o=r.default.getInstance().GetNodeToNoodePool(r.PoolName.GoldBullion,this.parent);o.setPosition(n,a),o.getChildByName("Glod").setPosition(0,0),o.getChildByName("Glod").active=!0,o.getChildByName("Glod").angle=0,r.PoolArray.GoldArr.push(o),o.getChildByName("Glod").width=e,o.getChildByName("Glod").height=t,o.getChildByName("Glod").getComponent(cc.RigidBody)||(o.getChildByName("Glod").addComponent(cc.RigidBody),o.getChildByName("Glod").addComponent(cc.PhysicsBoxCollider)),o.getChildByName("Glod").getComponent(cc.RigidBody).enabledContactListener=!0,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).density=5,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).friction=.3,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).restitution=.1,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).offset.x=e/2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).offset.y=-t/2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).size.width=e-.5,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).size.height=t-.5,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).apply(),o.getChildByName("Glod").getComponent(cc.RigidBody)&&o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider)||this.initJinTiaoMap(e,t,n,a)},t.prototype.InitJuesehuan=function(){var e=this,t="data/textures/jin_role/part1";0==s.default.getInstance().GetShopXuan()?t="data/textures/jin_role/part1":1==s.default.getInstance().GetShopXuan()?t="data/textures/jin_role/part2":2==s.default.getInstance().GetShopXuan()?t="data/textures/jin_role/part3":3==s.default.getInstance().GetShopXuan()?t="data/textures/jin_role/part4":4==s.default.getInstance().GetShopXuan()?t="data/textures/jin_role/part5":5==s.default.getInstance().GetShopXuan()&&(t="data/textures/jin_role/part6"),cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){e._m_Juese.getChildByName("Glod").getComponent(cc.Sprite).spriteFrame=n})},t.prototype.initjueseMap=function(e,t,n,a){console.log("initjueseMap");var o=r.default.getInstance().GetNodeToNoodePool(r.PoolName.player,this.parent);this._m_Juese=o,this._m_Jsx=n,this._m_Jsy=a,this._m_Jswidth=e,this._m_JsHeight=t,o.setPosition(n,a),o.getChildByName("Glod").setPosition(0,0),this.InitJuesehuan(),o.getChildByName("Glod").active=!0,o.getChildByName("Glod").angle=0,r.PoolArray.playerArr.push(o),o.getChildByName("Glod").width=e,o.getChildByName("Glod").height=t,o.getChildByName("Glod").getComponent(cc.RigidBody)||(o.getChildByName("Glod").addComponent(cc.RigidBody),o.getChildByName("Glod").addComponent(cc.PhysicsBoxCollider)),o.getChildByName("Glod").getComponent(cc.RigidBody).enabledContactListener=!0,o.getChildByName("Glod").getComponent(cc.RigidBody).gravityScale=2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).density=3,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).friction=.2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).restitution=.5,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).offset.x=e/2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).offset.y=-t/2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).size.width=e,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).size.height=t,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).apply(),o.getChildByName("Glod").getComponent(cc.RigidBody)&&o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider)||this.initjueseMap(e,t,n,a)},t.prototype.initTilljueseMap=function(){var e=this,t="data/textures/jin_role/part1";0==c.default.getInstance().m_trllpifu?t="data/textures/jin_role/part1":1==c.default.getInstance().m_trllpifu?t="data/textures/jin_role/part2":2==c.default.getInstance().m_trllpifu?t="data/textures/jin_role/part3":3==c.default.getInstance().m_trllpifu?t="data/textures/jin_role/part4":4==c.default.getInstance().m_trllpifu?t="data/textures/jin_role/part5":5==c.default.getInstance().m_trllpifu&&(t="data/textures/jin_role/part6"),cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){e._m_Juese.getChildByName("Glod").getComponent(cc.Sprite).spriteFrame=n})},t.prototype.initmubanMap=function(e,t,n,a){console.log("initmubanMap");var o=r.default.getInstance().GetNodeToNoodePool(r.PoolName.WoodBlock,this.parent);o.getChildByName("Glod").active=!0,o.setPosition(n,a),o.getChildByName("Glod").setPosition(0,0),o.getChildByName("Glod").angle=0,r.PoolArray.WoodArr.push(o),o.getChildByName("Glod").width=e,o.getChildByName("Glod").height=t,o.getChildByName("Glod").getComponent(cc.RigidBody)||(o.getChildByName("Glod").addComponent(cc.RigidBody),o.getChildByName("Glod").addComponent(cc.PhysicsBoxCollider)),o.getChildByName("Glod").getComponent(cc.RigidBody).enabledContactListener=!0,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).density=15,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).friction=.2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).restitution=0,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).offset.x=e/2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).offset.y=-t/2,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).size.width=e,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).size.height=t,o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider).apply(),o.getChildByName("Glod").getComponent(cc.RigidBody)&&o.getChildByName("Glod").getComponent(cc.PhysicsBoxCollider)||this.initmubanMap(e,t,n,a)},t.prototype.initshiqiuMap=function(e,t,n,a){console.log("initshiqiuMap");var o=r.default.getInstance().GetNodeToNoodePool(r.PoolName.Roundpiece,this.parent);o.getChildByName("Glod").active=!0,o.setPosition(n,a),o.getChildByName("Glod").angle=0,o.getChildByName("Glod").setPosition(0,0),r.PoolArray.RoundArr.push(o),o.getChildByName("Glod").width=e,o.getChildByName("Glod").height=t,o.getChildByName("Glod").getComponent(cc.RigidBody)||(o.getChildByName("Glod").addComponent(cc.RigidBody),o.getChildByName("Glod").addComponent(cc.PhysicsCircleCollider)),o.getChildByName("Glod").getComponent(cc.RigidBody).gravityScale=3,o.getChildByName("Glod").getComponent(cc.RigidBody).enabledContactListener=!0,o.getChildByName("Glod").getComponent(cc.PhysicsCircleCollider).density=40,o.getChildByName("Glod").getComponent(cc.PhysicsCircleCollider).friction=.2,o.getChildByName("Glod").getComponent(cc.PhysicsCircleCollider).offset.x=e/2,o.getChildByName("Glod").getComponent(cc.PhysicsCircleCollider).offset.y=-e/2,o.getChildByName("Glod").getComponent(cc.PhysicsCircleCollider).radius=e/2,o.getChildByName("Glod").getComponent(cc.PhysicsCircleCollider).apply(),o.getChildByName("Glod").getComponent(cc.RigidBody)&&o.getChildByName("Glod").getComponent(cc.PhysicsCircleCollider)||this.initshiqiuMap(e,t,n,a)},t.prototype.update=function(e){var t=c.default.getInstance().m_goldnum;this.gold_num.getChildByName("Label").getComponent(cc.Label).string=""+t},t.prototype.KuaiOnClick=function(e){e.target.active=!1},t.prototype.OnClick=function(e){var t=this;"fang1"==e.target.name?this.zhuan.active=!1:"xaiyiguan"==e.target.name?l.default.getInstance().ShowWeChatRewardedVideoAd(function(){t.scheduleOnce(function(){c.default.getInstance().InitPoolNodeTo(),t.scheduleOnce(function(){c.default.getInstance().NextLevel()},.5)},1)},function(){}):"gengduoyouxi"==e.target.name?l.default.getInstance().ShowTgFullScreen():"Btn_Qiangtan"==e.target.name?l.default.getInstance().ShowWeChatRewardedVideoAd2(function(){t.Btn_Qiangtan.active=!1},function(){t.Btn_Qiangtan.active=!1}):"Btn_Shop"==e.target.name&&i.default.getInstance().ShowMenu(i.BaseMenu.ShopMenu)},__decorate([_(cc.Node)],t.prototype,"parent",void 0),__decorate([_(cc.TiledMap)],t.prototype,"TiledMap",void 0),__decorate([_(cc.Prefab)],t.prototype,"GoldPrefab",void 0),__decorate([_(cc.Prefab)],t.prototype,"WoodPrefab",void 0),__decorate([_(cc.Prefab)],t.prototype,"RoundPrefab",void 0),__decorate([_(cc.Prefab)],t.prototype,"Player",void 0),__decorate([_(cc.Node)],t.prototype,"click_bg",void 0),__decorate([_(cc.Node)],t.prototype,"gold_num",void 0),__decorate([_(cc.Node)],t.prototype,"jishiqibg",void 0),__decorate([_(cc.Node)],t.prototype,"tipshou",void 0),__decorate([_(cc.Node)],t.prototype,"gengduoyouxi",void 0),__decorate([_(cc.Node)],t.prototype,"Btn_Qiangtan",void 0),t=__decorate([g],t)}(a.default);n.default=m,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/AudioManage":"AudioManage","../manage/DataManage":"DataManage","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../manage/NodePoolManage":"NodePoolManage","../manage/SaveManage":"SaveManage","../platform/AdvServer":"AdvServer","../utils/Utils":"Utils"}],MenuManage:[function(e,t,n){"use strict";cc._RF.push(t,"0d07aumJuRLOaulig9GlhAT","MenuManage"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../utils/Utils"),o=e("../base/BaseLayer");n.BaseMenu={GameLoadingMenu:"data/prefabs/GameLoadingMenu",MainMenu:"data/prefabs/MainMenu",ResultMenu:"data/prefabs/ResultMenu",WinMenu:"data/prefabs/WinMenu",TipsMenu:"data/prefabs/TipsMenu",GetCoinsMenu:"data/prefabs/GetCoinsMenu",SignMenu:"data/prefabs/SignMenu",ShopMenu:"data/prefabs/ShopMenu",MainPlay:"data/prefabs/MainPlay",NewGuidance:"data/prefabs/NewGuidance",TheTrialMenu:"data/prefabs/TheTrialMenu",MysteriousMenu:"data/prefabs/MysteriousMenu",LuckyEgg:"tgdata/activity/prefabs/LuckyEgg",TgInterstitial:"tgdata/tgadv/prefabs/TgInterstitial"};var i=function(){function e(){this.m_Menus=new Map}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.PlayTranform=function(){var e=cc.find("Canvas/Tranfrom");if(e){var t=cc.instantiate(e);t.zIndex=1e4,t.active=!0,t.parent=this.GetMenuRoot()}},e.prototype.GetMenuRoot=function(){var e=cc.find("Canvas");return e||null},e.prototype.ShowMenu=function(e,t,n){var i=this;if(void 0===t&&(t=null),void 0===n&&(n=null),this.m_Menus.has(e))a.default.CCLog("ShowMenu menu is show");else{a.default.CCLog("ShowMenu show ");var s={node:null};this.m_Menus.set(e,s),this.LoadMenu(e).then(function(e){var r=cc.instantiate(e);r.parent=null!=n?n:i.GetMenuRoot(),r.getComponent(o.default).Init(t),s.node=r,a.default.CCLog("objmenu.parent",r.parent)},function(t){i.m_Menus.delete(e)})}},e.prototype.RmoveMenu=function(e,t){void 0===t&&(t=null);var n=this.m_Menus.get(e);if(n){if(a.default.IsNull(n.node))return void a.default.CCLog("menu loading");n.node.getComponent(o.default).Free(t),n.node.destroy(),this.m_Menus.delete(e)}},e.prototype.LoadMenu=function(e){return new Promise(function(t,n){cc.loader.loadRes(e,cc.Prefab,function(e,a){e?n(e):t(a)})})},e.prototype.GetMenu=function(e){var t=this.m_Menus.get(e);return t&&t.node?t.node.getComponent(o.default):null},e}();n.default=i,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../utils/Utils":"Utils"}],MysteriousMenu:[function(e,t,n){"use strict";cc._RF.push(t,"f382aKFfWZI5KlErufNLkqU","MysteriousMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=e("../manage/GameManage"),s=e("../platform/AdvServer"),r=cc._decorator,l=r.ccclass,u=r.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shhimi_jixu=null,t.shimi_close=null,t.Toggle=null,t._m_Wuchudianji=3,t}return __extends(t,e),t.prototype.start=function(){this.shimi_close.active=!1,this.shhimi_jixu.active=!0},t.prototype.OnClick=function(e){var t=this;if("shhimi_jixu"==e.target.name)this.Toggle.isChecked?s.default.getInstance().ShowWeChatRewardedVideoAd(function(){i.default.getInstance().NextLevel(),o.default.getInstance().RmoveMenu(o.BaseMenu.MysteriousMenu)},function(){}):(o.default.getInstance().ShowMenu(o.BaseMenu.WinMenu),o.default.getInstance().RmoveMenu(o.BaseMenu.MysteriousMenu));else if("shimi_close"==e.target.name)i.default.getInstance().NextLevel(),o.default.getInstance().RmoveMenu(o.BaseMenu.MysteriousMenu);else if("TogBackground"==e.target.name){var n=s.default.getInstance().GetqiangtanWuchu();if(s.default.getInstance().ShowLocalBlock()&&n)return this._m_Wuchudianji--,this._m_Wuchudianji>0?void(this.Toggle.isChecked=!0):void s.default.getInstance().ShowWeChatRewardedVideoAd2(function(){t.Toggle.isChecked},function(){t.Toggle.isChecked});this.Toggle.isChecked}},__decorate([u(cc.Node)],t.prototype,"shhimi_jixu",void 0),__decorate([u(cc.Node)],t.prototype,"shimi_close",void 0),__decorate([u(cc.Toggle)],t.prototype,"Toggle",void 0),t=__decorate([l],t)}(a.default);n.default=d,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../platform/AdvServer":"AdvServer"}],NewGuidance:[function(e,t,n){"use strict";cc._RF.push(t,"2969ffwWVRKP4PD0YcQqsIB","NewGuidance"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=cc._decorator,s=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.OnClick=function(e){if("zhidao_btn"==e.target.name){o.default.getInstance().RmoveMenu(o.BaseMenu.NewGuidance);var t=o.default.getInstance().GetMenu(o.BaseMenu.MainPlay);t&&t.InitTipShi(1)}},t=__decorate([s],t)}(a.default));n.default=r,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/MenuManage":"MenuManage"}],NodePoolManage:[function(e,t,n){"use strict";cc._RF.push(t,"2b485Ofw55GdqbSNGujAcjL","NodePoolManage"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../utils/Utils");n.PoolName={Obs:"Obs",Car:"Car",Map:"map",WoodBlock:"WoodBlock",GoldBullion:"GoldBullion",Roundpiece:"Roundpiece",player:"player"},n.PoolArray={WoodArr:[],GoldArr:[],RoundArr:[],playerArr:[]};var o={nodePool:null,prefab:null},i=function(){function e(){this.m_NodePool=new Map}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.CreateNoodePool=function(e,t,n){if(a.default.CCLog("CreateNpcNoodePool",n),""!=e&&null!=t&&0!=n){var i=this.m_NodePool.get(e);i||((i=a.default.CloneObj(o)).nodePool=new cc.NodePool,i.prefab=t,this.m_NodePool.set(e,i));for(var s=0;s<n;s++){var r=cc.instantiate(i.prefab);i.nodePool.put(r)}a.default.CCLog("this.m_NodePool",this.m_NodePool)}},e.prototype.GetNodeToNoodePool=function(e,t){void 0===t&&(t=null);var n=null,o=this.m_NodePool.get(e);return o?((n=o.nodePool.size()?o.nodePool.get():cc.instantiate(o.prefab)).parent=t,n):(a.default.CCLog(e+"__nodepool_not_create"),n)},e.prototype.PutNodeToNoodePool=function(e,t){var n=this.m_NodePool.get(e);n?n.nodePool.put(t):a.default.CCLog(e+"__nodepool_not_create")},e.prototype.ClearNoodePool=function(e){var t=this.m_NodePool.get(e);t?(t.nodePool.clear(),this.m_NodePool.delete(e)):a.default.CCLog(e+"__nodepool_not_create")},e}();n.default=i,cc._RF.pop()},{"../utils/Utils":"Utils"}],RankManage:[function(e,t,n){"use strict";cc._RF.push(t,"99589tHlzhNb4i/fdxxpOGh","RankManage"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../utils/Utils"),o=e("../utils/Http"),i=e("./SaveManage"),s=function(){function e(){this.m_NetRoot="",this.m_ServerUrl="/zjserver/zjrank/zjrank/protocol/",this.m_Rank_AppID="zjkj_qtwz",this.m_Rank_Channel="weixin",this.m_Rank_Name="qtwz_rank_weixin_2020011301"}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.InitRank=function(e){this.m_NetRoot=e},e.prototype.GetServerTime=function(){var e=this;return new Promise(function(t,n){var a=new o.default;a.AddParam("pid","10001");var i=e.m_NetRoot+e.m_ServerUrl+"10001.php";a.Request(i,function(e){"30001"==e[0].pid?t(e[0].time):"40002"==e[0].pid?n("GetServerTime errMsg"+e[0].desc):n(e)},function(e){n(e)})})},e.prototype.UploadUserCloudStorage=function(){var e=this;return new Promise(function(t,n){a.default.IsNull(e.m_Rank_AppID)&&n("appid is null");var s=e.Str_To_Unicode(JSON.stringify(i.default.getInstance().GetUserName())),r=e.Str_To_Unicode(JSON.stringify(i.default.getInstance().GetHeadIcon())),l=new o.default;l.AddParam("pid","10003"),l.AddParam("appid",e.m_Rank_AppID),l.AddParam("channel",e.m_Rank_Channel),l.AddParam("uid",i.default.getInstance().GetUserUUID()),l.AddParam("user_name",s),l.AddParam("user_head_url",r);var u=e.m_NetRoot+e.m_ServerUrl+"10003.php";l.Request(u,function(e){"30001"==e[0].pid?t("UploadUserCloudData ok"):"40002"==e[0].pid?n("RemoveUserCloudStorage errMsg"+e[0].desc):n(e)},function(e){n("UploadUserCloudData errMsg"+e)})})},e.prototype.GetUserCloudStorage=function(e){var t=this;return void 0===e&&(e="selfuuid"),new Promise(function(n,s){a.default.IsNull(t.m_Rank_AppID)&&s("appid is null");var r=new o.default;r.AddParam("pid","10004"),r.AddParam("appid",t.m_Rank_AppID),r.AddParam("channel",t.m_Rank_Channel),"selfuuid"==e?r.AddParam("uid",i.default.getInstance().GetUserUUID()):r.AddParam("uid",e);var l=t.m_NetRoot+t.m_ServerUrl+"10004.php";r.Request(l,function(e){"20002"==e[0].pid?(e[0].user_name=a.default.Unicode_To_Str(e[0].user_name),e[0].user_head_url=a.default.Unicode_To_Str(e[0].user_head_url),n(e[0])):"40002"==e[0].pid?s("GetUserCloudStorage errMsg"+e[0].desc):s(e)},function(e){s("GetUserCloudStorage errMsg"+e)})})},e.prototype.RemoveUserCloudStorage=function(){var e=this;return new Promise(function(t,n){a.default.IsNull(e.m_Rank_AppID)&&n("appid is null");var s=new o.default;s.AddParam("pid","10010"),s.AddParam("appid",e.m_Rank_AppID),s.AddParam("channel",e.m_Rank_Channel),s.AddParam("uid",i.default.getInstance().GetUserUUID());var r=e.m_NetRoot+e.m_ServerUrl+"10010.php";s.Request(r,function(e){"30001"==e[0].pid?t("RemoveUserCloudStorage ok"):"40002"==e[0].pid?(a.default.CCLog("RemoveUserCloudStorage errMsg"+e[0].desc),n("RemoveUserCloudStorage errMsg"+e[0].desc)):n(e)},function(e){n("RemoveUserCloudStorage errMsg"+e)})})},e.prototype.RankUploadUserScore=function(e){var t=this;return void 0===e&&(e=0),new Promise(function(n,s){(a.default.IsNull(t.m_Rank_AppID)||a.default.IsNull(t.m_Rank_Name))&&s("appid is null");var r=new o.default;r.AddParam("pid","10005"),r.AddParam("appid",t.m_Rank_AppID),r.AddParam("channel",t.m_Rank_Channel),r.AddParam("uid",i.default.getInstance().GetUserUUID()),r.AddParam("rank_name",t.m_Rank_Name),r.AddParam("rank_score",""+e);var l=t.m_NetRoot+t.m_ServerUrl+"10005.php";r.Request(l,function(e){"30001"==e[0].pid?n("RankUploadUserScore ok"+e[0].desc):"40002"==e[0].pid?s("RankUploadUserScore errMsg"+e[0].desc):s(e)},function(e){s("RankUploadUserScore errMsg"+e)})})},e.prototype.RankUploadUserMaxScore=function(e){var t=this;return void 0===e&&(e=0),new Promise(function(n,s){(a.default.IsNull(t.m_Rank_AppID)||a.default.IsNull(t.m_Rank_Name))&&s("appid is null");var r=new o.default;r.AddParam("pid","10006"),r.AddParam("appid",t.m_Rank_AppID),r.AddParam("channel",t.m_Rank_Channel),r.AddParam("uid",i.default.getInstance().GetUserUUID()),r.AddParam("rank_name",t.m_Rank_Name),r.AddParam("rank_score",""+e);var l=t.m_NetRoot+t.m_ServerUrl+"10006.php";r.Request(l,function(e){"30001"==e[0].pid?n("RankUploadUserMaxScore ok"+e[0].desc):"40002"==e[0].pid?s("RankUploadUserMaxScore errMsg"+e[0].desc):s(e)},function(e){s("RankUploadUserMaxScore errMsg"+e)})})},e.prototype.RankGetUserData=function(){var e=this;return new Promise(function(t,n){(a.default.IsNull(e.m_Rank_AppID)||a.default.IsNull(e.m_Rank_Channel))&&n("appid is null");var s=new o.default;s.AddParam("pid","10007"),s.AddParam("appid",e.m_Rank_AppID),s.AddParam("channel",e.m_Rank_Channel),s.AddParam("uid",i.default.getInstance().GetUserUUID()),s.AddParam("rank_name",e.m_Rank_Name);var r=e.m_NetRoot+e.m_ServerUrl+"10007.php";s.Request(r,function(e){"20003"==e[0].pid?(a.default.IsNull(e[0].user_info)||(e[0].user_info.user_name=a.default.Unicode_To_Str(e[0].user_info.user_name),e[0].user_info.user_head_url=a.default.Unicode_To_Str(e[0].user_info.user_head_url)),t(e[0])):"40002"==e[0].pid?n("GetUserCloudStorage errMsg"+e[0].desc):n(e)},function(e){n("GetUserCloudStorage errMsg"+e)})})},e.prototype.RankGetUserList=function(e,t){var n=this;return void 0===e&&(e=1),void 0===t&&(t=20),new Promise(function(s,r){(a.default.IsNull(n.m_Rank_AppID)||a.default.IsNull(n.m_Rank_Channel))&&r("appid is null");var l=new o.default;l.AddParam("pid","10008"),l.AddParam("appid",n.m_Rank_AppID),l.AddParam("channel",n.m_Rank_Channel),l.AddParam("uid",i.default.getInstance().GetUserUUID()),l.AddParam("rank_name",n.m_Rank_Name),l.AddParam("rank_start",""+e),l.AddParam("rank_end",""+t);var u=n.m_NetRoot+n.m_ServerUrl+"10008.php";l.Request(u,function(e){if(a.default.CCLog("RankGetUserList data",e),e.length>0)if("40002"==e[0].pid)r("RankGetUserList errMsg"+e[0].desc);else{for(var t={SelfInfo:{},UserList:[],User_Count_All:0},n=0;n<e.length;n++)a.default.IsNull(e[n].user_info)||(e[n].user_info.user_name=a.default.Unicode_To_Str(e[n].user_info.user_name),e[n].user_info.user_head_url=a.default.Unicode_To_Str(e[n].user_info.user_head_url)),"20004"==e[n].pid?t.UserList.push(e[n]):"20003"==e[n].pid?t.SelfInfo=e[n]:"20005"==e[n].pid&&(t.User_Count_All=e[n].user_count_all);s(t)}else r("RankGetUserList erro")},function(e){r("RankGetUserList errMsg"+e)})})},e.prototype.RankRemoveData=function(){var e=this;return new Promise(function(t,n){(a.default.IsNull(e.m_Rank_AppID)||a.default.IsNull(e.m_Rank_Channel))&&n("appid is null");var i=new o.default;i.AddParam("pid","10009"),i.AddParam("appid",e.m_Rank_AppID),i.AddParam("channel",e.m_Rank_Channel),i.AddParam("rank_name",e.m_Rank_Name);var s=e.m_NetRoot+e.m_ServerUrl+"10009.php";i.Request(s,function(e){"30001"==e[0].pid?t("RankRemoveData ok"+e[0].desc):"40002"==e[0].pid?n("RankRemoveData errMsg"+e[0].desc):n(e)},function(e){n("RankRemoveData errMsg"+e)})})},e.prototype.Str_To_Unicode=function(e){for(var t="\\u",n=0,a=e.length;n<a;n++)n<a-1?t+=e.charCodeAt(n).toString(16)+"\\u":n===a-1&&(t+=e.charCodeAt(n).toString(16));return t},e}();n.default=s,cc._RF.pop()},{"../utils/Http":"Http","../utils/Utils":"Utils","./SaveManage":"SaveManage"}],ResultMenu:[function(e,t,n){"use strict";cc._RF.push(t,"5afaeEJTllF2pXpwhQ6232p","ResultMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=e("../manage/SaveManage"),s=e("../manage/GameManage"),r=e("../platform/AdvServer"),l=cc._decorator,u=l.ccclass,d=l.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Btn_NextLevel=null,t.Btn_Restart=null,t.Btn_Qiangtan=null,t}return __extends(t,e),t.prototype.start=function(){this.Btn_NextLevel.active=!0,this.Btn_Restart.active=!0;var e=r.default.getInstance().GetResultQiangTan();r.default.getInstance().ShowLocalBlock()&&(this.Btn_Qiangtan.active=!!e),r.default.getInstance().GetGlobalConfig().game_result_fullscreen_2,s.default.getInstance().m_mianvis=!0,i.default.getInstance().InitLevel()},t.prototype.InitToulu1=function(){var e=this;r.default.getInstance().GetShanBanner()?(this.Btn_Restart.y=-550,this.scheduleOnce(function(){e.Btn_Restart.y=-112,r.default.getInstance().ShowbanenrRand()},1.5)):r.default.getInstance().ShowbanenrRand()},t.prototype.Init=function(){r.default.getInstance().ShowMenuAdv(o.BaseMenu.ResultMenu)},t.prototype.Free=function(){r.default.getInstance().RemoveMenuAdv(o.BaseMenu.ResultMenu)},t.prototype.OnClick=function(e){var t=this;"Btn_NextLevel"==e.target.name?r.default.getInstance().ShowWeChatRewardedVideoAd(function(){s.default.getInstance().InitPoolNodeTo(),s.default.getInstance().m_pengzhuang=!1,t.scheduleOnce(function(){s.default.getInstance().NextLevel(),o.default.getInstance().RmoveMenu(o.BaseMenu.ResultMenu)},.5)},function(){}):"Btn_Restart"==e.target.name?(s.default.getInstance().InitPoolNodeTo(),s.default.getInstance().m_pengzhuang=!1,this.scheduleOnce(function(){s.default.getInstance().RestartGame(),o.default.getInstance().RmoveMenu(o.BaseMenu.ResultMenu)},.5)):"Btn_Qiangtan"==e.target.name&&r.default.getInstance().ShowWeChatRewardedVideoAd2(function(){t.Btn_Qiangtan.active=!1},function(){t.Btn_Qiangtan.active=!1})},__decorate([d(cc.Node)],t.prototype,"Btn_NextLevel",void 0),__decorate([d(cc.Node)],t.prototype,"Btn_Restart",void 0),__decorate([d(cc.Node)],t.prototype,"Btn_Qiangtan",void 0),t=__decorate([u],t)}(a.default);n.default=c,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../manage/SaveManage":"SaveManage","../platform/AdvServer":"AdvServer"}],ResurrectionMenu:[function(e,t,n){"use strict";cc._RF.push(t,"aa933Qr371IkqyyKElw5jIu","ResurrectionMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/AudioManage"),i=e("../manage/MenuManage"),s=e("../platform/AdvServer"),r=e("../manage/GameManage"),l=cc._decorator,u=l.ccclass,d=l.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Video_Toggle=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.Init=function(){},t.prototype.Free=function(){},t.prototype.ColseMenu=function(){o.default.getInstance().StopMusic(),s.default.getInstance().EndLevelLuckEgg(function(){i.default.getInstance().ShowMenu(i.BaseMenu.ResultMenu)},function(){})},t.prototype.OnClick=function(e){"Btn_Continue"==e.target.name&&(this.Video_Toggle.isChecked?s.default.getInstance().ShowWeChatRewardedVideoAd(function(){r.default.getInstance().ContinueGame()},function(){i.default.getInstance().ShowMenu(i.BaseMenu.TipsMenu,"\u89c6\u5c4f\u672a\u770b\u5b8c")}):this.ColseMenu())},__decorate([d(cc.Toggle)],t.prototype,"Video_Toggle",void 0),t=__decorate([u],t)}(a.default);n.default=c,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/AudioManage":"AudioManage","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../platform/AdvServer":"AdvServer"}],Roundpiece:[function(e,t,n){"use strict";cc._RF.push(t,"d5580tU+kJF4YFiTlBBFWkm","Roundpiece"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=cc._decorator,i=o.ccclass,s=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.OnClick=function(e){},t=__decorate([i],t)}(a.default));n.default=s,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer"}],SaveManage:[function(e,t,n){"use strict";cc._RF.push(t,"dbe92ZAGetNTIPKVjIq1yAt","SaveManage"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../utils/Utils"),o={UserName:"\u6e38\u5ba2",UserHeadIcon:"",Diamond:0,LastTime:0,KeyNum:0,SkinID:1,SkinList:[1],Guide:!1,Level:1,Coins:0,SignInDayNum:0,SignInTime:0,Shophuoqu:[1,0,0,0,0,0],Shoptips:[1,1,1,1,1,1],ShopXuan:0,ShopVideo:0,Max_level:0,Current_level:0};n.CarSkinMax=8,n.LevelBase=13,n.LevelMax=85,n.GameGuideTime=5;var i=function(){function e(){this._uuidKey="toujinkuai2020091700",this._UserData=null,this._IsLoading=!1}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.SvaveUserData=function(){var e=JSON.parse(cc.sys.localStorage.getItem(this._uuidKey));cc.sys.localStorage.setItem(e,JSON.stringify(this._UserData))},e.prototype.LoadUserData=function(){var e=cc.sys.localStorage.getItem(this._uuidKey);e?e=JSON.parse(e):(e=a.default.GetUUID(),cc.sys.localStorage.setItem(this._uuidKey,JSON.stringify(e)));var t=cc.sys.localStorage.getItem(e);t?(this._UserData=JSON.parse(t),this._UserData.UserName||(this._UserData.UserName=o.UserName+e.splice(0,6)),this._UserData.UserHeadIcon||(this._UserData.UserHeadIcon=o.UserHeadIcon),this._UserData.Diamond||(this._UserData.Diamond=o.Diamond),this._UserData.Coins||(this._UserData.Coins=o.Coins),this._UserData.LastTime||(this._UserData.Coins=o.LastTime),this._UserData.Level||(this._UserData.Level=o.Level),this._UserData.KeyNum||(this._UserData.KeyNum=o.KeyNum),this._UserData.SkinID||(this._UserData.SkinID=o.SkinID),this._UserData.SkinList||(this._UserData.SkinList=o.SkinList),this._UserData.Guide||(this._UserData.Guide=o.Guide),this._UserData.SignInDayNum||(this._UserData.SignInDayNum=o.SignInDayNum),this._UserData.SignInTime||(this._UserData.SignInTime=o.SignInTime),this._UserData.Shophuoqu||(this._UserData.Shophuoqu=o.Shophuoqu),this._UserData.Shoptips||(this._UserData.Shoptips=o.Shoptips),this._UserData.ShopXuan||(this._UserData.ShopXuan=o.ShopXuan),this._UserData.ShopVideo||(this._UserData.ShopVideo=o.ShopVideo),this._UserData.Max_level||(this._UserData.Max_level=o.Max_level)):(this._UserData=o,this._UserData.UserName=o.UserName+String(e).slice(0,6),this.SvaveUserData())},e.prototype.GetUserUUID=function(){var e=cc.sys.localStorage.getItem(this._uuidKey);return e?e=JSON.parse(e):(e=a.default.GetUUID(),cc.sys.localStorage.setItem(this._uuidKey,JSON.stringify(e))),e},e.prototype.InitUserData=function(){a.default.CCLog("InitUserData"),null==this._UserData&&(this.LoadUserData(),a.default.GetTimeDay(cc.sys.now())>a.default.GetTimeDay(this._UserData.LastTime)&&(a.default.CCLog("\u521d\u59cb\u5316\u5f53\u5929\u6570\u636e","nowday",a.default.GetTimeDay(cc.sys.now()),"lasteDay",a.default.GetTimeDay(this._UserData.LastTime)),this._UserData.LastTime=cc.sys.now(),this.SetGuide(!1)),a.default.CCLog("savemanage _UserData",this._UserData))},e.prototype.GetMax_Level=function(){return this._UserData.Max_level},e.prototype.InitCurrentLevel=function(e){o.Current_level=e},e.prototype.InitLevel=function(){o.Current_level>=this._UserData.Max_level&&(this._UserData.Max_level=o.Current_level),this.SvaveUserData()},e.prototype.InitShopVideo=function(){this._UserData.ShopVideo++,this.SvaveUserData()},e.prototype.GetShopVideo=function(){return this._UserData.ShopVideo},e.prototype.InitShopXuan=function(e){this._UserData.ShopXuan=e,this.SvaveUserData()},e.prototype.GetShopXuan=function(){return this._UserData.ShopXuan},e.prototype.InitShopTis=function(e){this._UserData.Shoptips[e]=1,this.SvaveUserData()},e.prototype.GetShopTis=function(){return this._UserData.Shoptips},e.prototype.InitShopHuoQu=function(e){this._UserData.Shophuoqu[e]=1,this.SvaveUserData()},e.prototype.GetShopHuoQu=function(){return this._UserData.Shophuoqu},e.prototype.GetSigInDayNum=function(){return this._UserData.SignInDayNum},e.prototype.GetSigInToDay=function(){var e=a.default.GetTimeDay(this._UserData.SignInTime);return console.log("\u4eca\u5929\u672a\u7b7e\u5230 resetday",e,"Utils.GetTimeDay(cc.sys.now())",a.default.GetTimeDay(cc.sys.now())),!(e<a.default.GetTimeDay(cc.sys.now()))&&(console.log("\u4eca\u5929\u5df2\u7b7e\u5230"),!0)},e.prototype.UpdateSignIn=function(){a.default.CCLog("UpdateSignIn"),a.default.GetTimeDay(this._UserData.SignInTime)<a.default.GetTimeDay(cc.sys.now())&&(a.default.CCLog("\u4eca\u5929\u672a\u7b7e\u5230"),this._UserData.SignInTime=cc.sys.now(),this._UserData.SignInDayNum++,this.SvaveUserData())},e.prototype.SetUserName=function(e){this._UserData.UserName=e,this.SvaveUserData()},e.prototype.GetUserName=function(){return this._UserData.UserName},e.prototype.SetUserHeadIcon=function(e){this._UserData.UserHeadIcon=e,this.SvaveUserData()},e.prototype.GetHeadIcon=function(){return this._UserData.UserHeadIcon},e.prototype.AddCoins=function(e){this._UserData.Coins+=e,this.SvaveUserData()},e.prototype.DelCoins=function(e){return a.default.CCLog("DelGlod is CoinsNum",e,"userCoins",this._UserData.Coins),this._UserData.Coins>=e?(this._UserData.Coins-=e,this.SvaveUserData(),!0):(a.default.CCLog("Coins is less"),!1)},e.prototype.GetCoins=function(){return this._UserData.Coins},e.prototype.SetIsLoading=function(e){this._IsLoading=e},e.prototype.GetIsLoading=function(){return this._IsLoading},e.prototype.SetLevel=function(e){this._UserData.Level=e,this.SvaveUserData()},e.prototype.GetLevel=function(){return this._UserData.Level},e.prototype.AddKeyNum=function(e){this._UserData.KeyNum+=e,this.SvaveUserData()},e.prototype.DelKeyNum=function(e){return this._UserData.KeyNum>=e&&(this._UserData.KeyNum-=e,this.SvaveUserData(),!0)},e.prototype.GetKeyNum=function(){return this._UserData.KeyNum},e.prototype.SetSkinID=function(e){this._UserData.SkinID=e,this.SvaveUserData()},e.prototype.GetSkinID=function(){return this._UserData.SkinID},e.prototype.UnlockSkindID=function(e){this._UserData.SkinList.push(e),this.SvaveUserData()},e.prototype.SkinIDIsUnlock=function(e){for(var t=this._UserData.SkinList,n=0;n<t.length;n++){if(t[n]==e)return!0}return!1},e.prototype.SetGuide=function(e){this._UserData.Guide=e,this.SvaveUserData()},e.prototype.GetGuide=function(){return this._UserData.Guide},e}();n.default=i,cc._RF.pop()},{"../utils/Utils":"Utils"}],ShopMenu:[function(e,t,n){"use strict";cc._RF.push(t,"1de926R+FhBKppI0qSgKxo4","ShopMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=e("../manage/SaveManage"),s=e("../platform/AdvServer"),r=cc._decorator,l=r.ccclass,u=r.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.egg=[],t.tipsbg=null,t.m_Role=[],t.m_eggbg2=[],t.m_caidan=[],t.m_yixuanze=[],t.m_xuanze=[],t.m_huoqutishi=[],t.m_juesuo=[],t.m_kantip=[],t.m_Label1="\u6d88\u80171000\u91d1\u5e01",t.m_Label2="\u89c2\u770b\u89c6\u98913\u6b21\u89e3\u9501",t.m_Label3="\u901a\u8fc7\u7b2c10\u5173\u89e3\u9501",t.m_Label4="\u6b21\u65e5\u767b\u9646\u89e3\u9501",t.m_Label5="7\u65e5\u767b\u9646\u89e3\u9501",t.m_Labeltips="\u91d1\u5e01\u4e0d\u8db31000",t.m_m_Label3tips="\u672a\u8fbe\u5230\u7b2c10\u5173",t.m_videoNum=3,t}return __extends(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.egg.length;e++){var t=this.egg[e];this.m_eggbg2[e]=t.getChildByName("eggsxuan"),this.m_caidan[e]=t.getChildByName("caidan"),this.m_yixuanze[e]=t.getChildByName("eggs_yixuanze"),this.m_xuanze[e]=t.getChildByName("eggs_xuanze"),this.m_huoqutishi[e]=t.getChildByName("huoqutishi"),this.m_juesuo[e]=t.getChildByName("juesuo"),this.m_kantip[e]=t.getChildByName("eggs_kantip"),this.m_huoqutishi[e].active=!0,this.m_juesuo[e].active=!1,this.m_xuanze[e].active=!1,this.m_yixuanze[e].active=!1,this.m_kantip[e].active=!1,this.m_caidan[e].active=!0,this.m_eggbg2[e].active=!0,this.InitOn(e)}this.InitUpdateTips()},t.prototype.start=function(){this.tipsbg.active=!1},t.prototype.InitOn=function(e){var t=this;this.m_huoqutishi[e].on(cc.Node.EventType.TOUCH_END,function(){s.default.getInstance().ShowWeChatRewardedVideoAd(function(){1==e?(t.tipsbg.active=!0,t.tipsbg.getChildByName("Label").getComponent(cc.Label).string=t.m_Label2,i.default.getInstance().InitShopTis(e)):2==e?(t.tipsbg.active=!0,t.tipsbg.getChildByName("Label").getComponent(cc.Label).string=t.m_Label1,i.default.getInstance().InitShopTis(e)):3==e?(t.tipsbg.active=!0,t.tipsbg.getChildByName("Label").getComponent(cc.Label).string=t.m_Label3,i.default.getInstance().InitShopTis(e)):4==e?(t.tipsbg.active=!0,t.tipsbg.getChildByName("Label").getComponent(cc.Label).string=t.m_Label4,i.default.getInstance().InitShopTis(e)):5==e&&(t.tipsbg.active=!0,t.tipsbg.getChildByName("Label").getComponent(cc.Label).string=t.m_Label5,i.default.getInstance().InitShopTis(e)),t.InitUpdateTips()},function(){})},this,!0),this.m_juesuo[e].on(cc.Node.EventType.TOUCH_END,function(){if(1==e)s.default.getInstance().ShowWeChatRewardedVideoAd(function(){i.default.getInstance().InitShopVideo(),t.InitVideoLabel(1)},function(){});else if(2==e){i.default.getInstance().GetCoins()<1e3?t.InitGoldNum():(i.default.getInstance().InitShopHuoQu(e),t.InitUpdateTips())}else 3==e?t.InitLevenLabel(e):4==e?t.InitUpdateTips():5==e&&t.InitUpdateTips()},this,!0),this.m_xuanze[e].on(cc.Node.EventType.TOUCH_END,function(){i.default.getInstance().InitShopXuan(e),t.InitUpdateTips()},this,!0)},t.prototype.InitGoldNum=function(){this.tipsbg.active=!0,this.tipsbg.getChildByName("Label").getComponent(cc.Label).string=this.m_Labeltips},t.prototype.InitVideoLabel=function(e){var t=i.default.getInstance().GetShopVideo();t>=3&&(i.default.getInstance().InitShopHuoQu(e),t=3,this.InitUpdateTips()),this.m_kantip[e].getChildByName("Label").getComponent(cc.Label).string=t+"/3"},t.prototype.InitLevenLabel=function(e){i.default.getInstance().GetLevel()>=10?(i.default.getInstance().InitShopHuoQu(e),this.InitUpdateTips()):(this.tipsbg.active=!0,this.tipsbg.getChildByName("Label").getComponent(cc.Label).string=this.m_m_Label3tips)},t.prototype.InitRiridenglu=function(e){},t.prototype.InitUpdateTips=function(){var e=i.default.getInstance().GetShopTis(),t=i.default.getInstance().GetShopHuoQu(),n=i.default.getInstance().GetShopXuan();console.log("Shoptips.length",e.length);for(var a=0;a<e.length;a++)1==e[a]?(this.m_huoqutishi[a].active=!1,1==a?(this.m_juesuo[a].active=!0,this.m_kantip[a].active=!0):2==a?(this.m_juesuo[a].active=!0,this.m_kantip[a].active=!1):3==a?(this.m_juesuo[a].active=!0,this.m_kantip[a].active=!1):4==a?(this.m_juesuo[a].active=!0,this.m_kantip[a].active=!1):5==a&&(this.m_juesuo[a].active=!0,this.m_kantip[a].active=!1),1==t[a]&&(n==a?(this.m_xuanze[a].active=!1,this.m_juesuo[a].active=!1,this.m_yixuanze[a].active=!0,this.m_kantip[a].active=!1,this.m_caidan[a].active=!1,this.m_eggbg2[a].active=!1):(this.m_xuanze[a].active=!0,this.m_juesuo[a].active=!1,this.m_yixuanze[a].active=!1,this.m_kantip[a].active=!1,this.m_caidan[a].active=!1,this.m_eggbg2[a].active=!1))):(this.m_huoqutishi[a].active=!0,this.m_juesuo[a].active=!1,this.m_xuanze[a].active=!1,this.m_yixuanze[a].active=!1,this.m_kantip[a].active=!1,this.m_caidan[a].active=!0,this.m_eggbg2[a].active=!0)},t.prototype.OnClick=function(e){if("Tipsback"==e.target.name)this.tipsbg.active=!1;else if("jiajinbi"==e.target.name)i.default.getInstance().AddCoins(500);else if("ShopBack"==e.target.name){var t=o.default.getInstance().GetMenu(o.BaseMenu.MainPlay);t&&t.InitJuesehuan(),o.default.getInstance().RmoveMenu(o.BaseMenu.ShopMenu)}},__decorate([u([cc.Node])],t.prototype,"egg",void 0),__decorate([u(cc.Node)],t.prototype,"tipsbg",void 0),t=__decorate([l],t)}(a.default);n.default=d,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/MenuManage":"MenuManage","../manage/SaveManage":"SaveManage","../platform/AdvServer":"AdvServer"}],SignMenu:[function(e,t,n){"use strict";cc._RF.push(t,"e2080NivM5P9bL4MDV3eQqy","SignMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=e("../manage/SaveManage"),s=e("../platform/AdvServer"),r=cc._decorator,l=r.ccclass,u=r.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.qianlingqu=null,t.receive_inbg=[],t.Toggle=null,t._m_Wuchudianji=3,t}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.scaleTo(.6,.9),t=cc.scaleTo(.6,1),n=cc.sequence(e,t);this.qianlingqu.runAction(cc.repeatForever(n))},t.prototype.start=function(){for(var e=0;e<this.receive_inbg.length;e++)this.receive_inbg[e].getChildByName("receive_tishi").active=!1,this.receive_inbg[e].getChildByName("recrive_dui").active=!1;var t=i.default.getInstance().GetSigInDayNum()%7;this.updateNum(t)},t.prototype.Init=function(){s.default.getInstance().ShowMenuAdv(o.BaseMenu.SignMenu)},t.prototype.Free=function(){s.default.getInstance().RemoveMenuAdv(o.BaseMenu.SignMenu)},t.prototype.updateNum=function(e){for(var t=0;t<this.receive_inbg.length;t++)t<e&&(this.receive_inbg[t].getChildByName("receive_tishi").active=!0,this.receive_inbg[t].getChildByName("recrive_dui").active=!0)},t.prototype.OnClick=function(e){var t=this;if("qianlingqu"==e.target.name)if(i.default.getInstance().GetSigInToDay())o.default.getInstance().ShowMenu(o.BaseMenu.TipsMenu,"\u4eca\u65e5\u5df2\u7b7e\u5230");else if(this.Toggle.isChecked)s.default.getInstance().ShowWeChatRewardedVideoAd(function(){console.log("\u770b\u89c6\u9891"),i.default.getInstance().UpdateSignIn();var e=i.default.getInstance().GetSigInDayNum()%7;t.updateNum(e),1==e?i.default.getInstance().AddCoins(6):2==e?i.default.getInstance().InitShopHuoQu(4):7==e?i.default.getInstance().InitShopHuoQu(5):i.default.getInstance().AddCoins(6)},function(){});else{console.log("\u4e0d\u770b\u89c6\u9891"),i.default.getInstance().UpdateSignIn();var n=i.default.getInstance().GetSigInDayNum()%7;this.updateNum(n),1==n?i.default.getInstance().AddCoins(3):2==n?i.default.getInstance().InitShopHuoQu(4):7==n?i.default.getInstance().InitShopHuoQu(5):i.default.getInstance().AddCoins(3)}else if("Sign_Back"==e.target.name){var a=o.default.getInstance().GetMenu(o.BaseMenu.MainMenu);a&&a.UpdateCoins(),o.default.getInstance().RmoveMenu(o.BaseMenu.SignMenu)}else if("TogBackground"==e.target.name){var r=s.default.getInstance().GetqiangtanWuchu();if(s.default.getInstance().ShowLocalBlock()&&r)return this._m_Wuchudianji--,this._m_Wuchudianji>0?void(this.Toggle.isChecked=!0):void s.default.getInstance().ShowWeChatRewardedVideoAd2(function(){},function(){})}},__decorate([u(cc.Node)],t.prototype,"qianlingqu",void 0),__decorate([u([cc.Node])],t.prototype,"receive_inbg",void 0),__decorate([u(cc.Toggle)],t.prototype,"Toggle",void 0),t=__decorate([l],t)}(a.default);n.default=d,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/MenuManage":"MenuManage","../manage/SaveManage":"SaveManage","../platform/AdvServer":"AdvServer"}],StatisticsServer:[function(e,t,n){"use strict";cc._RF.push(t,"9aec0CqeHlCQo7yCw/ds5Xf","StatisticsServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BasePlatform"),o=e("../utils/Utils"),i=e("../config/BaseConfig"),s=e("./TgStaticsSdk"),r=e("../manage/SaveManage"),l=e("./WeChat"),u=function(){function e(){this.m_Query="",this.m_Game_Name="\u6211\u505c\u8f66\u8d3c\u516d",this.m_Game_ID="20200917180501553541",this.m_ServerUrl="/zjserver/tgsdk/tgsdk/protocol/",this.m_OpenIDKey="tjk202009181356"}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.SetShowQuery=function(e){a.default.getInstance().IsWeChat()&&(this.m_Query=e)},e.prototype.NewUserCount=function(){if(a.default.getInstance().IsWeChat()){var e=r.default.getInstance().GetUserUUID();s.default.NewUser(i.BaseConfig.NetConfig.NetRoot,this.m_Game_ID,e)}},e.prototype.NewUserCount2=function(){if(a.default.getInstance().IsWeChat()){var e=r.default.getInstance().GetUserUUID(),t=a.default.getInstance().GetLaunchOptionsSync();if(console.log("launchOptions",t),t&&!o.default.IsNull(t.referrerInfo)){var n=t.referrerInfo.appId;n&&s.default.NewUser2(i.BaseConfig.NetConfig.NetRoot,this.m_Game_ID,e,n)}}},e.prototype.SendOpenID=function(){var e=this;if(console.log("SendOpenID"),a.default.getInstance().IsWeChat()){var t=cc.sys.localStorage.getItem(this.m_OpenIDKey);t?t=JSON.parse(t):l.WeChat.Login(function(t){s.default.GetOpenID(i.BaseConfig.NetConfig.NetRoot+e.m_ServerUrl,e.m_Game_ID,t,function(t){console.log("TgStaticsSdk.GetOpenID openids",t),cc.sys.localStorage.setItem(e.m_OpenIDKey,JSON.stringify(t))},function(e){console.log("TgStaticsSdk.GetOpenID is fail err",e)})},function(e){console.log("WeChat.Login is fail err",e)})}},e.prototype.SendCustomEvent=function(e){if(a.default.getInstance().IsWeChat()){var t=r.default.getInstance().GetUserUUID();s.default.SendCustomEvent(i.BaseConfig.NetConfig.NetRoot,this.m_Game_ID,t,e)}},e.prototype.SendCustomEventNum=function(e,t){if(a.default.getInstance().IsWeChat()){var n=r.default.getInstance().GetUserUUID();s.default.SendCustomEventNum(i.BaseConfig.NetConfig.NetRoot,this.m_Game_ID,n,e,t)}},e.prototype.SendTgEventClick=function(e,t){if(a.default.getInstance().IsWeChat()){var n=r.default.getInstance().GetUserUUID();s.default.SendTgEventClick(i.BaseConfig.NetConfig.NetRoot,this.m_Game_ID,n,e,t)}},e.prototype.SendTgEventJumpOk=function(e,t){if(a.default.getInstance().IsWeChat()){var n=r.default.getInstance().GetUserUUID();s.default.SendTgEventJumpOk(i.BaseConfig.NetConfig.NetRoot,this.m_Game_ID,n,e,t)}},e.prototype.Stage_OnStart=function(e,t){if(void 0===e&&(e="1"),void 0===t&&(t="\u7b2c\u4e00\u5173"),a.default.getInstance().IsWeChat())r.default.getInstance().GetUserUUID()},e.prototype.Stage_OnRunning=function(e,t,n,o,i,s,l,u){if(void 0===e&&(e="1"),void 0===t&&(t="\u7b2c\u4e00\u5173"),void 0===n&&(n="tools"),void 0===o&&(o="\u7269\u54c1\u540d\u5b57"),void 0===i&&(i="110"),void 0===s&&(s=1),void 0===l&&(l="\u63cf\u8ff0"),void 0===u&&(u=100),a.default.getInstance().IsWeChat())r.default.getInstance().GetUserUUID()},e.prototype.Stage_OnEnd=function(e,t,n,o){if(void 0===e&&(e="1"),void 0===t&&(t="\u7b2c\u4e00\u5173"),void 0===n&&(n="complete"),void 0===o&&(o="\u5173\u5361\u5b8c\u6210"),a.default.getInstance().IsWeChat())r.default.getInstance().GetUserUUID()},e}();n.default=u,cc._RF.pop()},{"../config/BaseConfig":"BaseConfig","../manage/SaveManage":"SaveManage","../utils/Utils":"Utils","./BasePlatform":"BasePlatform","./TgStaticsSdk":"TgStaticsSdk","./WeChat":"WeChat"}],TgAdvSdk:[function(e,t,n){"use strict";cc._RF.push(t,"0ad7bhncGdNSIlDQuOGU2fv","TgAdvSdk"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../utils/Http"),o=e("./AdvServer"),i="tgdata/tgadv/prefabs/TgInterstitial",s="tgdata/tgadv/prefabs/TgFullScreen",r="tgdata/tgadv/prefabs/TgCapsule",l="tgdata/tgadv/prefabs/TgCollect",u="tgdata/tgadv/prefabs/TgRemind",d="tgdata/tgadv/prefabs/TgBanner",c="tgdata/tgadv/prefabs/TgClickJump",h="tgdata/tgadv/prefabs/TgFullScreenqaun",g=function(){function e(){this.m_TgServerUrl="/tgsdk_server/api/game/tg/",this.m_GameID="",this.m_DataVersion="",this.m_DataList=[],this.m_JumpToProgramCallFun=null,this.m_MenuAdv=new Map,this.m_MenuName="",this.m_ExtData=null,this.m_NodePool=new Map,this.m_FullScreenAdv=null,this.m_FullScreenHouAdv=null,this.m_InterstitialAdv=null,this.m_TgCapsule=null,this.m_TgCollect=null,this.m_Debug=!1}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.Init=function(e,t,n,o,i){var s=this;void 0===o&&(o=null),void 0===i&&(i=null),this.m_GameID=t,this.m_DataVersion=n;var r=new a.default;r.SetReqType(a.HttpReqType.GET),r.Request(e+"/"+this.m_TgServerUrl+"/"+this.m_GameID+"/"+this.m_DataVersion,function(e){for(var t in s.TgLog("tgsdk Init  data",e),e)if(e.hasOwnProperty(t)){var n=e[t];s.TgLog("tgsdk Init advData",n),"\u4e0a\u7ebf"==n.status&&s.m_DataList.push(n)}s.TgLog("tgsdk Init  this.m_DataList",s.m_DataList),o&&o()},function(e){i&&i("\u5e7f\u544a\u6570\u636e\u521d\u59cb\u5316\u5931\u8d25 err"+e)}),this.InitNoodePool()},e.prototype.GetZjkjTgBarConfig=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=!0),void 0===n&&(n=0);for(var a=[],o=[],i=0;i<this.m_DataList.length;i++){var s=this.m_DataList[i];"\u6307\u5c16\u79d1\u6280"==s.ggz_name&&o.push(this.CloneObj(s))}if(o.length>0){n>o.length-1&&(n=0);var r=o.slice(n,o.length);if(0==e&&(e=r.length),t){for(i=0;i<e;i++)if(r.length>0){var l=this.RandNum(0,r.length-1);a.push(r[l]),r.splice(l,1)}}else for(i=0;i<e;i++)r.length-i>0&&a.push(r[i])}return a},e.prototype.GetTgBarConfig=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=!0),void 0===n&&(n=0);var a=[],o=this.CloneObj(this.m_DataList);if(o.length>0){n>o.length-1&&(n=0);var i=o.slice(n,o.length);if(0==e&&(e=i.length),t){for(var s=0;s<e;s++)if(i.length>0){var r=this.RandNum(0,i.length-1);a.push(i[r]),i.splice(r,1)}}else for(s=0;s<e;s++)i.length-s>0&&a.push(i[s])}return a},e.prototype.LoadAdvPrefab=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),cc.loader.loadRes(e,cc.Prefab,function(e,a){e?n&&n():t&&t(a)})},e.prototype.RemoveMenuAdv=function(e){void 0===e&&(e=null),this.TgLog("RemoveMenuAdv");var t=this.m_MenuAdv.get(e);if(t){for(var n=0;n<t.length;n++){var a=t[n];a.Free(),a.node.active=!1,this.PutNodeToNoodePool(a._m_NodePoolName,a.node)}this.m_MenuAdv.set(e,[])}},e.prototype.ShowTgBanner=function(e,t,n){this.TgLog("ShowTgBanner _extData",n);var a=this.GetNodeToNoodePool(d,n.parent);if(a){a.getComponent("TgBanner").InitTgData(d,t,n.style,n.adv),a.getComponent("TgBanner").BingColseFuntion(n.close);var o=this.m_MenuAdv.get(e);o||(o=[]),o.push(a.getComponent("TgBanner")),this.m_MenuAdv.set(e,o),this.TgLog("tgsdk ShowTgBanner m_MenuName",this.m_MenuAdv),n&&n.success&&n.success(a)}},e.prototype.UpdateBottomBannerWidget=function(e){var t=cc.view.getDesignResolutionSize().width/cc.view.getFrameSize().width*e,n=this.m_MenuAdv.get(this.m_MenuName);if(n)for(var a=0;a<n.length;a++){var o=n[a];o._m_NodePoolName==d&&o.UpdateWidget(null,t,null,null)}},e.prototype.ShowTgClickJump=function(e,t,n){this.TgLog("ShowTgClickJump _extData",n);var a=this.GetNodeToNoodePool(c,n.parent);if(a){a.getComponent("TgClickJump").InitTgData(c,t,n.style,n.adv);var o=this.m_MenuAdv.get(e);o||(o=[]),o.push(a.getComponent("TgClickJump")),this.m_MenuAdv.set(e,o),this.TgLog("tgsdk ShowTgClickJump m_MenuName",this.m_MenuAdv),n&&n.success&&n.success(a)}},e.prototype.ShowTgInterstitial=function(e){var t=this;if(!this.m_InterstitialAdv){var n=this.GetNodeToNoodePool(i,e.parent);if(n){o.default.getInstance().m_Shoutilibao=n,n.getComponent("TgInterstitial").InitTgData(i,function(){t.PutNodeToNoodePool(i,t.m_InterstitialAdv.node),t.m_InterstitialAdv=null,e&&e.close&&e.close()}.bind(this),e.showBack,e.initJump,e.jumpCallFun),this.m_InterstitialAdv=n.getComponent("TgInterstitial"),e&&e.success&&e.success(n)}}},e.prototype.ShowRemind=function(e,t){var n=this.GetNodeToNoodePool(u,t.parent);if(n){n.getComponent("TgRemind").InitTgData(u),n.setPosition(t.x,t.y);var a=this.m_MenuAdv.get(e);a||(a=[]),a.push(n.getComponent("TgRemind")),this.m_MenuAdv.set(e,a),this.TgLog("tgsdk ShowRemind m_MenuName",this.m_MenuAdv),t&&t.success&&t.success(n)}},e.prototype.ShowTgFullScreenQuan=function(e){var t=this;if(!this.m_FullScreenHouAdv){var n=this.GetNodeToNoodePool(h,e.parent);if(n){n.getComponent("TgFullScreenqaun").InitTgData(h,function(){t.PutNodeToNoodePool(h,t.m_FullScreenHouAdv.node),t.m_FullScreenHouAdv=null,e&&e.close&&e.close()}.bind(this),e.initJump,e.jumpCallFun,e.jumprand,e.initmenu,function(){o.default.getInstance().InitHouCallFull(e.initmenu,e.parent)}.bind(this)),this.m_FullScreenHouAdv=n.getComponent("TgFullScreenqaun"),e&&e.success&&e.success(n)}}},e.prototype.ShowTgFullScreen=function(e){var t=this;if(!this.m_FullScreenAdv){var n=this.GetNodeToNoodePool(s,e.parent);if(n){console.log("\u8fd4\u56de\u5168\u5c4f ShowTgFullScreen"),console.log(" _extData.jumprand",e.jumprand),n.getComponent("TgFullScreen").InitTgData(s,function(){t.PutNodeToNoodePool(s,t.m_FullScreenAdv.node),t.m_FullScreenAdv=null,e&&e.close&&e.close()}.bind(this),e.initJump,e.jumpCallFun,e.jumprand,e.jumpsuiji,e.Jump_menu),this.m_FullScreenAdv=n.getComponent("TgFullScreen"),e&&e.success&&e.success(n)}}},e.prototype.ShowTgCapsule=function(e){var t=this;!this.m_TgCapsule||this.m_TgCapsule.node.active?this.LoadAdvPrefab(r,function(n){var a=cc.instantiate(n);a.parent=cc.find("Canvas"),a.setPosition(e.x,e.y),a.getComponent("TgCapsule").InitTgData(r,e&&e.click?e.click:null),a.zIndex=10,t.m_TgCapsule=a.getComponent("TgCapsule"),e&&e.success&&e.success(a)},function(n){t.TgLog("ShowTgCapsule err",n),e&&e.fail&&e.fail(n)}):this.m_TgCapsule.node.active=!0},e.prototype.HideTgCapsule=function(){this.m_TgCapsule&&(this.m_TgCapsule.Free(),this.m_TgCapsule.node.active=!1)},e.prototype.ShowTgCollect=function(e){var t=this;if(!this.m_TgCollect){var n=this.GetNodeToNoodePool(l,null);if(n){n.getComponent("TgCollect").InitTgData(l,function(){t.m_TgCollect.Free(),t.PutNodeToNoodePool(l,t.m_TgCollect.node),t.m_TgCollect=null,e&&e.close&&e.close()}.bind(this),e&&e.top?e.top:0,e.jumpCallFun),this.m_TgCollect=n.getComponent("TgCollect"),e&&e.success&&e.success(n)}}},e.prototype.InitNoodePool=function(){this.TgLog("tgsdk InitNoodePool"),this.CreateNoodePool(d,1),this.CreateNoodePool(c,1),this.CreateNoodePool(s,1),this.CreateNoodePool(i,1),this.CreateNoodePool(l,1),this.CreateNoodePool(u,1),this.CreateNoodePool(h,1)},e.prototype.CreateNoodePool=function(e,t){var n=this;if(void 0===t&&(t=1),""!=e){var a=this.m_NodePool.get(e);a||this.LoadAdvPrefab(e,function(t){a={nodePool:new cc.NodePool,prefab:t};var o=cc.instantiate(a.prefab);a.nodePool.put(o),n.m_NodePool.set(e,a)},function(e){})}},e.prototype.GetNodeToNoodePool=function(e,t){var n=null,a=this.m_NodePool.get(e);return a?((n=a.nodePool.size()?a.nodePool.get():cc.instantiate(a.prefab)).parent=t||cc.find("Canvas"),n):(this.TgLog(e+"__nodepool_not_create"),n)},e.prototype.PutNodeToNoodePool=function(e,t){var n=this.m_NodePool.get(e);n?(n.nodePool.put(t),this.TgLog("this.m_NodePool",this.m_NodePool)):this.TgLog(e+"__nodepool_not_create")},e.prototype.ClearNoodePool=function(e){var t=this.m_NodePool.get(e);t?(t.nodePool.clear(),this.m_NodePool.delete(e)):this.TgLog(e+"__nodepool_not_create")},e.prototype.SetDebug=function(e){this.m_Debug=e},e.prototype.TgLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.m_Debug&&console.log.apply(console,e)},e.prototype.CloneObj=function(e){var t={};for(var n in e instanceof Array&&(t=[]),e){var a=e[n];t[n]=null===a?null:"object"==typeof a?this.CloneObj(a):a}return t},e.prototype.RandNum=function(e,t){return t<e?Math.round(t)+Math.round(Math.random()*(e-t)):t===e?Math.round(e):Math.round(e)+Math.round(Math.random()*(t-e))},e}();n.default=g,cc._RF.pop()},{"../utils/Http":"Http","./AdvServer":"AdvServer"}],TgBanner:[function(e,t,n){"use strict";cc._RF.push(t,"fbc220oTsNDQZtHkoz6kYr/","TgBanner"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../TgAdvSdk"),o=cc._decorator,i=o.ccclass,s=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdvRoot=null,t.AdvItem=null,t.Img_Bg=null,t.MoreGame=null,t._m_TgData=null,t._m_ItemArray=[],t._m_Top=10,t._m_Left=10,t._m_StartIndex=0,t._m_NodePoolName="",t._m_TgPos="",t._m_CloseCallFun=null,t._m_MoreGameCallFun=null,t._m_JumpCallFun=null,t._m_Update=!1,t._m_LasteItem=null,t._m_Style=null,t._m_Adv=null,t._m_Col=0,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.InitTgData=function(e,t,n,o){this._m_NodePoolName=e,this._m_TgPos=t,this._m_Style=n,this._m_Adv=o,this._m_MoreGameCallFun=this._m_Adv.moreGameCallFun,this._m_JumpCallFun=this._m_Adv.jumpCallFun,this.node.width=this._m_Style.width,this.node.height=this._m_Style.height,this.node.getComponent(cc.Widget).top=this._m_Style.top,this.node.getComponent(cc.Widget).left=this._m_Style.left,this.node.getComponent(cc.Widget).updateAlignment(),!this._m_Adv.moreGame||this._m_Style.horizontal&&this._m_Style.vertical?(this.Img_Bg.active=!1,this.MoreGame.active=!1):(this.Img_Bg.active=!0,this.MoreGame.active=!0,this.MoreGame.width=this._m_Style.cellSize.width,this.MoreGame.height=this._m_Style.cellSize.height),this._m_StartIndex=this._m_Adv.start;var i=a.default.getInstance().GetTgBarConfig(this._m_Adv.num,this._m_Adv.rand,this._m_Adv.start);a.default.getInstance().TgLog("TgData",i),this.AdvRoot.removeAllChildren(),this.AdvItem.width=this._m_Style.cellSize.width,this.AdvItem.height=this._m_Style.cellSize.height,this._m_Col=Math.floor(this._m_Style.width/this._m_Style.cellSize.width);for(var s=function(e){var t=i[e],n=cc.instantiate(r.AdvItem);n.parent=r.AdvRoot,n.active=!0,n._zjkj_tgdata=t;var a=cc.v2(0,0);r._m_Style.horizontal&&r._m_Style.vertical?(a.x=r._m_Left-r.node.width/2+r.AdvItem.width/2+e%r._m_Col*(r.AdvItem.width+r._m_Style.spacingX),a.y=r.node.height/2-r._m_Top-r.AdvItem.height/2-Math.floor(e/r._m_Col)*(r.AdvItem.height+r._m_Style.spacingY)):r._m_Style.horizontal?r._m_Adv.moreGame?a.x=-r.node.width/2+r._m_Left+r.AdvItem.width/2+r.MoreGame.width+e*(r._m_Style.spacingX+r.AdvItem.width):a.x=-r.node.width/2+r._m_Left+r.AdvItem.width/2+e*(r._m_Style.spacingX+r.AdvItem.width):r._m_Adv.moreGame?a.y=r.node.height/2-r._m_Top-r.AdvItem.height/2-r.MoreGame.height-e*(r._m_Style.spacingY+r.AdvItem.height):a.y=r.node.height/2-r._m_Top-r.AdvItem.height/2-e*(r._m_Style.spacingY+r.AdvItem.height),n.setPosition(a),r._m_ItemArray.push(n),n.getComponentInChildren(cc.Label).string=t.name,cc.loader.load({url:t.icon,type:"png"},function(e,t){if(e)console.error(e);else{var a=new cc.SpriteFrame(t),o=n.getComponentInChildren(cc.Sprite);o&&(o.spriteFrame=a)}}),r._m_LasteItem=r._m_ItemArray[r._m_ItemArray.length-1]},r=this,l=0;l<i.length;l++)s(l);this._m_Adv.autoswitch&&this.schedule(this.UpdateItem,this._m_Adv.autoswitch),this._m_Update=this._m_Adv.autoscrolle},t.prototype.update=function(e){if(this._m_Update)for(var t=0;t<this._m_ItemArray.length;t++){var n=this._m_ItemArray[t],a=n.getPosition();if(this._m_Style.horizontal&&this._m_Style.vertical)if(a.y>this.node.height/2+100){var o=this._m_LasteItem.getPosition(),i=Math.floor((o.x+this.node.width/2)/(this.AdvItem.width+this._m_Style.spacingX));i++;var s=cc.v3();i<this._m_Col?(s.x=o.x+(this.AdvItem.width+this._m_Style.spacingX),s.y=o.y):(s.x=this._m_Left-this.node.width/2+this.AdvItem.width/2+0*(this.AdvItem.width+this._m_Style.spacingX),s.y=o.y-this._m_Style.spacingY-this.AdvItem.height),n.setPosition(s.x,s.y,s.z),this._m_LasteItem=n}else n.setPosition(a.x,a.y+1,a.z);else if(this._m_Style.vertical)if(a.y>this.node.height/2){o=this._m_LasteItem.getPosition();n.setPosition(o.x,o.y-this._m_Style.spacingY-this.AdvItem.height,o.z),this._m_LasteItem=n}else n.setPosition(a.x,a.y+1,a.z);else if(a.x<-this.node.width/2){o=this._m_LasteItem.getPosition();n.setPosition(o.x+this._m_Style.spacingX+this.AdvItem.width,o.y,o.z),this._m_LasteItem=n}else n.setPosition(a.x-1,a.y,a.z)}},t.prototype.UpdateItem=function(){this._m_StartIndex+=this._m_Adv.num;for(var e=function(e){var n=t._m_ItemArray[e];t._m_StartIndex++,t._m_StartIndex>=a.default.getInstance().GetTgBarConfig().length&&(t._m_StartIndex=0);var o=a.default.getInstance().GetTgBarConfig(1,t._m_Adv.rand,t._m_StartIndex)[0];o?(n._zjkj_tgdata=o,n.active=!0,n.getComponentInChildren(cc.Label).string=o.name,cc.loader.load({url:o.icon,type:"png"},function(e,t){e&&console.error(e);var a=new cc.SpriteFrame(t),o=n.getComponentInChildren(cc.Sprite);o&&(o.spriteFrame=a)})):n.active=!1},t=this,n=0;n<this._m_ItemArray.length;n++)e(n)},t.prototype.BingColseFuntion=function(e){this._m_CloseCallFun=e},t.prototype.UpdateWidget=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=0),this._m_Style.updateWidget){var n=this.node.getComponent(cc.Widget);n.top=e,n.left=t,n.updateAlignment()}},t.prototype.Free=function(){this.unschedule(this.UpdateItem),this._m_TgData=null,this._m_ItemArray=[],this._m_Top=10,this._m_Left=10,this._m_StartIndex=0,this._m_NodePoolName="",this._m_TgPos="",this._m_CloseCallFun=null,this._m_MoreGameCallFun=null,this._m_JumpCallFun=null,this._m_Update=!1,this._m_LasteItem=null,this._m_Style=null,this._m_Adv=null,this.AdvRoot.removeAllChildren()},t.prototype.OnClick=function(e){"AdvItem"==e.target.name?(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f"),e.target._zjkj_tgdata&&this._m_JumpCallFun&&(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f tgdata",e.target._zjkj_tgdata),this._m_JumpCallFun(e.target._zjkj_tgdata,this._m_TgPos,this._m_NodePoolName))):"Btn_ShowMoreGame"==e.target.name&&this._m_MoreGameCallFun&&this._m_MoreGameCallFun(this)},__decorate([s(cc.Node)],t.prototype,"AdvRoot",void 0),__decorate([s(cc.Node)],t.prototype,"AdvItem",void 0),__decorate([s(cc.Node)],t.prototype,"Img_Bg",void 0),__decorate([s(cc.Node)],t.prototype,"MoreGame",void 0),t=__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{"../TgAdvSdk":"TgAdvSdk"}],TgCapsule:[function(e,t,n){"use strict";cc._RF.push(t,"20989rssTRNoK/ElEo1kp+D","TgCapsule"),Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Img_Bg=null,t._m_NodePoolName="",t._m_ClickCallFun=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.InitTgData=function(e,t){this._m_NodePoolName=e,this._m_ClickCallFun=t},t.prototype.Free=function(){},t.prototype.OnClick=function(e){this._m_ClickCallFun&&this._m_ClickCallFun()},__decorate([i(cc.Node)],t.prototype,"Img_Bg",void 0),t=__decorate([o],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],TgClickJump:[function(e,t,n){"use strict";cc._RF.push(t,"af42cRVQJ9DEbxZXkVVb3qO","TgClickJump"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../TgAdvSdk"),o=cc._decorator,i=o.ccclass,s=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._m_NodePoolName="",t._m_TgPos="",t._m_TgData=null,t._m_Style=null,t._m_Adv=null,t._m_JumpCallFun=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.InitTgData=function(e,t,n,o){this._m_NodePoolName=e,this._m_TgPos=t,this._m_Style=n,this._m_Adv=o,this._m_JumpCallFun=this._m_Adv.jumpCallFun,this._m_TgData=a.default.getInstance().GetTgBarConfig(1,!0,0)[0]},t.prototype.Free=function(){this._m_NodePoolName="",this._m_TgPos="",this._m_TgData=null,this._m_Style=null,this._m_Adv=null,this._m_JumpCallFun=null},t.prototype.OnClick=function(e){this.node.active=!1,a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f"),this._m_TgData&&this._m_JumpCallFun&&(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f tgdata",this._m_TgData),this._m_JumpCallFun(this._m_TgData,this._m_TgPos,this._m_NodePoolName))},t=__decorate([i],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../TgAdvSdk":"TgAdvSdk"}],TgCollect:[function(e,t,n){"use strict";cc._RF.push(t,"64972uaKHtAqZkYlHNm1XJS","TgCollect"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../TgAdvSdk"),o=e("../AdvServer"),i=cc._decorator,s=i.ccclass,r=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdvItem=null,t.ItemRoot=null,t.Img_Tile=null,t.ItemRootWidget=null,t._m_content=null,t._m_TgData=null,t._m_NodePoolName="",t._m_CloseCallFun=null,t._m_JumpCallFun=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.InitTgData=function(e,t,n,i){if(void 0===t&&(t=null),void 0===i&&(i=null),o.default.getInstance().m_IsBannerVis=!1,o.default.getInstance().HideWeChatBanner(),this._m_NodePoolName=e,this._m_CloseCallFun=t,this._m_JumpCallFun=i,this.ItemRootWidget.top=177+n,this.Img_Tile.top=n,this.ItemRootWidget.updateAlignment(),this.Img_Tile.updateAlignment(),this.node.zIndex=5,this._m_TgData=a.default.getInstance().GetTgBarConfig(0,!0),a.default.getInstance().TgLog("TgCollect this._m_TgData",this._m_TgData),this._m_TgData){this._m_content=this.ItemRoot.content,this._m_content.removeAllChildren();for(var s=function(e){var t=r._m_TgData[e],n=cc.instantiate(r.AdvItem);r._m_content.addChild(n),n.active=!0,n._zjkj_tgdata=t,n.getComponentInChildren(cc.Label).string=t.name,cc.loader.load({url:t.icon,type:"png"},function(e,t){if(e)console.error(e);else{var a=new cc.SpriteFrame(t),o=n.getComponentInChildren(cc.Sprite);o&&(o.spriteFrame=a)}}),Math.random()>.5&&(n.getChildByName("Img_State").active=!0)},r=this,l=0;l<this._m_TgData.length;l++)s(l)}},t.prototype.Free=function(){this._m_content=null,this.ItemRoot.scrollToTop(.1)},t.prototype.OnClick=function(e){"Btn_Back"==e.target.name?(this.Free(),o.default.getInstance().m_QuanpingVis||(o.default.getInstance().m_IsBannerVis=!0),this._m_CloseCallFun&&(this._m_CloseCallFun(this),this._m_CloseCallFun=null)):"AdvItem"==e.target.name&&(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f"),e.target._zjkj_tgdata&&this._m_JumpCallFun&&(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f tgdata",e.target._zjkj_tgdata),this._m_JumpCallFun(e.target._zjkj_tgdata,"\u5047\u6536\u85cf",this._m_NodePoolName)))},__decorate([r(cc.Node)],t.prototype,"AdvItem",void 0),__decorate([r(cc.ScrollView)],t.prototype,"ItemRoot",void 0),__decorate([r(cc.Widget)],t.prototype,"Img_Tile",void 0),__decorate([r(cc.Widget)],t.prototype,"ItemRootWidget",void 0),t=__decorate([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../AdvServer":"AdvServer","../TgAdvSdk":"TgAdvSdk"}],TgFullScreenqaun:[function(e,t,n){"use strict";cc._RF.push(t,"99806CkVyNLQ6WdqxcsIwbi","TgFullScreenqaun"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../TgAdvSdk"),o=e("../../manage/MenuManage"),i=e("../AdvServer"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdvItem=null,t.ItemRoot=null,t.Btn_ComtinueGame=null,t.btn_tgsuijiyige=null,t.Btn_Back=null,t._m_content=null,t._m_Top=30,t._m_Left=15,t._m_SpingX=30,t._m_SpingY=30,t._m_TgData=null,t._m_Update=!1,t._m_ClingDir=1,t._m_Offset=0,t._m_MaxScollOffset=0,t._m_NodePoolName="",t._m_CloseCallFun=null,t._m_JumpCallFun=null,t._m_showhouCallFun=null,t._m_Continue=!1,t._m_BackJump=!1,t._m_RandJumpZjkj=!1,t._m_InitMenu="",t._m_Bannerxainshi=!1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.InitTgData=function(e,t,n,s,r,l,u){var d=this;if(void 0===t&&(t=null),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=!0),void 0===u&&(u=null),i.default.getInstance().m_IsBannerVis=!1,i.default.getInstance().HideWeChatBanner(),i.default.getInstance().ShowXianshiBanner(),i.default.getInstance().m_QuanpingVis=!0,i.default.getInstance().m_bannerxainshi=!0,this._m_CloseCallFun=t,this._m_NodePoolName=e,this._m_JumpCallFun=s,this._m_InitMenu=l,this._m_showhouCallFun=u,r?(this.btn_tgsuijiyige.active=!0,this.Btn_ComtinueGame.active=!1,this.scheduleOnce(function(){i.default.getInstance().GetShanBanner()&&(d._m_Bannerxainshi=!0,d.scheduleOnce(function(){console.log("\u663e\u793a\u5168\u5c4fbanner"),i.default.getInstance().ShowTimebanner()},1.5),d.scheduleOnce(function(){d._m_Bannerxainshi=!1,i.default.getInstance().HideWeChatBanner()},2)),d.btn_tgsuijiyige.active=!1,d.Btn_ComtinueGame.active=!0},3)):(this.Btn_ComtinueGame.active=!0,this.btn_tgsuijiyige.active=!1),i.default.getInstance().GetJIaonangti()?this.Btn_Back.active=!0:this.Btn_Back.active=!1,this._m_TgData=a.default.getInstance().GetTgBarConfig(0,!0),a.default.getInstance().TgLog("TgFullScreen this._m_TgData",this._m_TgData),this.node.zIndex=3,n&&this._m_InitMenu!=o.BaseMenu.MainMenu&&this.RandJump(),this._m_TgData){this._m_content=this.ItemRoot.content,this._m_content.removeAllChildren();for(var c=function(e){var t=h._m_TgData[e],n=cc.instantiate(h.AdvItem);h._m_content.addChild(n),n.active=!0,n._zjkj_tgdata=t,n.getComponentInChildren(cc.Label).string=t.name,cc.loader.load({url:t.icon,type:"png"},function(e,t){if(e)console.error(e);else{var a=new cc.SpriteFrame(t),o=n.getComponentInChildren(cc.Sprite);o&&(o.spriteFrame=a)}})},h=this,g=0;g<this._m_TgData.length;g++)c(g);this._m_ClingDir=1,this._m_Offset=this.ItemRoot.getScrollOffset(),this._m_MaxScollOffset=this.ItemRoot.getMaxScrollOffset(),this._m_MaxScollOffset.y+=this.ItemRoot.node.height/2,this._m_Update=!0}},t.prototype.update=function(e){if(this._m_Update){if(this.ItemRoot.isScrolling())return;if(this.ItemRoot.isAutoScrolling())return;this._m_Offset=this.ItemRoot.getScrollOffset(),this._m_ClingDir?this._m_Offset.y++:this._m_Offset.y--,this._m_Offset.y>this.ItemRoot.getMaxScrollOffset().y&&(this._m_ClingDir=0),this._m_Offset.y<0&&(this._m_ClingDir=1),this.ItemRoot.scrollToOffset(this._m_Offset)}},t.prototype.Free=function(){this._m_content=null,this._m_Top=30,this._m_Left=15,this._m_SpingX=30,this._m_SpingY=30,this._m_TgData=null,this._m_Update=!1,this._m_ClingDir=1,this._m_Offset=0,this._m_MaxScollOffset=0,this.ItemRoot.scrollToTop(.1)},t.prototype.RandJump=function(){var e=null;e=this._m_RandJumpZjkj?a.default.getInstance().GetZjkjTgBarConfig(1,!0,0)[0]:a.default.getInstance().GetTgBarConfig(1,!0,0)[0],a.default.getInstance().TgLog("TgFullScreen \u968f\u673a\u8df3\u8f6c tgdata",e),e&&this._m_JumpCallFun&&this._m_JumpCallFun(e,"\u5168\u5c4f",this._m_NodePoolName)},t.prototype.OnClick=function(e){if("Btn_Back"==e.target.name)i.default.getInstance().ShowTgCollect();else if("AdvItem"==e.target.name)a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f"),e.target._zjkj_tgdata&&this._m_JumpCallFun&&(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f tgdata",e.target._zjkj_tgdata),this._m_JumpCallFun(e.target._zjkj_tgdata,"\u5168\u5c4f",this._m_NodePoolName));else if("Btn_ComtinueGame"==e.target.name){if(this._m_Bannerxainshi)return;this._m_showhouCallFun&&(console.log("this._m_showhouCallFun FullQaun"),this._m_showhouCallFun(this),this._m_showhouCallFun=null),this.Free(),this._m_CloseCallFun&&(this._m_CloseCallFun(this),this._m_CloseCallFun=null)}else"btn_tgsuijiyige"==e.target.name&&(console.log("Onclick btn_tgsuijiyige"),this.RandJump())},__decorate([l(cc.Node)],t.prototype,"AdvItem",void 0),__decorate([l(cc.ScrollView)],t.prototype,"ItemRoot",void 0),__decorate([l(cc.Node)],t.prototype,"Btn_ComtinueGame",void 0),__decorate([l(cc.Node)],t.prototype,"btn_tgsuijiyige",void 0),__decorate([l(cc.Node)],t.prototype,"Btn_Back",void 0),t=__decorate([r],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../manage/MenuManage":"MenuManage","../AdvServer":"AdvServer","../TgAdvSdk":"TgAdvSdk"}],TgFullScreen:[function(e,t,n){"use strict";cc._RF.push(t,"a9cc8rvosBDx4KtEoz2lcpq","TgFullScreen"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../TgAdvSdk"),o=e("../AdvServer"),i=e("../../manage/MenuManage"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdvItem=null,t.ItemRoot=null,t.Btn_ComtinueGame=null,t.shangScrollView=null,t.AdvItem1=null,t.btn_tgsuijiyige=null,t.Btn_Back=null,t._m_content=null,t._m_content1=null,t._m_Top=30,t._m_Left=15,t._m_SpingX=30,t._m_SpingY=30,t._m_TgData=null,t._m_Update=!1,t._m_ClingDir=1,t._m_Offset=0,t._m_MaxScollOffset=0,t._m_Update_shang=!1,t._m_newClingDir=1,t._m_newOffset=0,t._m_newConVide=0,t._m_NodePoolName="",t._m_CloseCallFun=null,t._m_JumpCallFun=null,t._m_Continue=!1,t._m_BackJump=!1,t._m_RandJumpZjkj=!1,t._m_Jump_menu="",t._m_bannerdian=2,t._m_BannerVis=!1,t._m_BannerIsvis=!1,t}return __extends(t,e),t.prototype.InitTgData=function(e,t,n,s,r,l,u){var d=this;if(void 0===t&&(t=null),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=!1),void 0===l&&(l=!1),void 0===u&&(u=null),o.default.getInstance().m_IsBannerVis=!1,o.default.getInstance().m_QuanpingVis=!0,o.default.getInstance().HideWeChatBanner(),o.default.getInstance().ShowXianshiBanner(),o.default.getInstance().m_bannerxainshi=!0,this._m_BannerIsvis=!1,this._m_CloseCallFun=t,this._m_NodePoolName=e,this._m_JumpCallFun=s,this._m_BannerVis=!1,this._m_bannerdian=2,this._m_Jump_menu=u,console.log("_closeCallFun",t),console.log("_jumpsuiji",l),console.log("_jumprand",r,"_jump_menu",u,"_initJump",n,"_nodePoolName",e),r?(this.btn_tgsuijiyige.active=!0,this.Btn_ComtinueGame.active=!1,this.scheduleOnce(function(){d.btn_tgsuijiyige.active=!1,d.Btn_ComtinueGame.active=!0},3)):(this.btn_tgsuijiyige.active=!1,this.Btn_ComtinueGame.active=!0),o.default.getInstance().GetJIaonangti()?this.Btn_Back.active=!0:this.Btn_Back.active=!1,l&&this._m_Jump_menu!=i.BaseMenu.MainMenu&&this.RandJump(),this._m_TgData=a.default.getInstance().GetTgBarConfig(0,!0),a.default.getInstance().TgLog("TgFullScreen this._m_TgData",this._m_TgData),this.node.zIndex=3,this._m_TgData){this._m_content=this.ItemRoot.content,this._m_content.removeAllChildren();for(var c=function(e){var t=h._m_TgData[e],n=cc.instantiate(h.AdvItem);h._m_content.addChild(n),n.active=!0,n._zjkj_tgdata=t,n.getComponentInChildren(cc.Label).string=t.name,cc.loader.load({url:t.icon,type:"png"},function(e,t){if(e)console.error(e);else{var a=new cc.SpriteFrame(t),o=n.getComponentInChildren(cc.Sprite);o&&(o.spriteFrame=a)}})},h=this,g=0;g<this._m_TgData.length;g++)c(g);this._m_content1=this.shangScrollView.content,this._m_content1.removeAllChildren();var _=function(e){var t=m._m_TgData[e],n=cc.instantiate(m.AdvItem1);m._m_content1.addChild(n),m._m_content1.x=0,n.active=!0,n._zjkj_data=t,cc.loader.load({url:t.icon,type:"png"},function(e,t){if(e)console.error(e);else{var a=new cc.SpriteFrame(t),o=n.getComponentInChildren(cc.Sprite);o&&(o.spriteFrame=a)}})},m=this;for(g=0;g<this._m_TgData.length;g++)_(g);this._m_ClingDir=1,this._m_Offset=this.ItemRoot.getScrollOffset(),this._m_MaxScollOffset=this.ItemRoot.getMaxScrollOffset(),this._m_MaxScollOffset.y+=this.ItemRoot.node.height/2,this._m_Update=!0,this._m_newClingDir=1,this._m_newOffset=this.shangScrollView.getScrollOffset(),this._m_newOffset.x=0,this._m_Update_shang=!0}},t.prototype.update=function(e){var t=this;if(this._m_Update_shang){if(this.shangScrollView.isScrolling())return;if(this.shangScrollView.isAutoScrolling())return;this._m_newClingDir?this._m_newOffset.x--:this._m_newOffset.x++,this._m_newOffset.x>this.shangScrollView.getMaxScrollOffset().x&&this._m_newConVide<=0&&(this._m_newConVide=1,this.scheduleOnce(function(){t._m_newClingDir=1},0)),this._m_newOffset.x<0&&(this._m_newConVide=0,this.scheduleOnce(function(){t._m_newClingDir=0},1.5)),this.shangScrollView.scrollToOffset(this._m_newOffset)}if(this._m_Update){if(this.ItemRoot.isScrolling())return;if(this.ItemRoot.isAutoScrolling())return;this._m_Offset=this.ItemRoot.getScrollOffset(),this._m_ClingDir?this._m_Offset.y++:this._m_Offset.y--,this._m_Offset.y>this.ItemRoot.getMaxScrollOffset().y&&(this._m_ClingDir=0),this._m_Offset.y<0&&(this._m_ClingDir=1),this.ItemRoot.scrollToOffset(this._m_Offset)}},t.prototype.Free=function(){this._m_content=null,this._m_Top=30,this._m_Left=15,this._m_SpingX=30,this._m_SpingY=30,this._m_TgData=null,this._m_Update=!1,this._m_ClingDir=1,this._m_Offset=0,this._m_MaxScollOffset=0,this.ItemRoot.scrollToTop(.1)},t.prototype.RandJump=function(){var e=null;e=this._m_RandJumpZjkj?a.default.getInstance().GetZjkjTgBarConfig(1,!0,0)[0]:a.default.getInstance().GetTgBarConfig(1,!0,0)[0],a.default.getInstance().TgLog("TgFullScreen \u968f\u673a\u8df3\u8f6c tgdata",e),e&&this._m_JumpCallFun&&this._m_JumpCallFun(e,"\u5168\u5c4f",this._m_NodePoolName)},t.prototype.InitJiemian=function(){var e=i.default.getInstance().GetMenu(i.BaseMenu.MainMenu),t=i.default.getInstance().GetMenu(i.BaseMenu.MainPlay),n=i.default.getInstance().GetMenu(i.BaseMenu.WinMenu),a=i.default.getInstance().GetMenu(i.BaseMenu.ResultMenu);console.log("InitJiemian mainmenu",e),t&&o.default.getInstance().GetShowStartEgg()&&(this._m_BannerIsvis=!0,o.default.getInstance().m_IsBannerVis=!1,i.default.getInstance().ShowMenu(i.BaseMenu.LuckyEgg)),n&&o.default.getInstance().GetGameEggEnd()&&(this._m_BannerIsvis=!0,o.default.getInstance().m_IsBannerVis=!1,i.default.getInstance().ShowMenu(i.BaseMenu.LuckyEgg)),a&&o.default.getInstance().GetShowStartEgg()&&(this._m_BannerIsvis=!0,o.default.getInstance().m_IsBannerVis=!1,i.default.getInstance().ShowMenu(i.BaseMenu.LuckyEgg)),e&&!this._m_BannerIsvis&&(console.log("\u8fdb\u5165 mainmenu"),o.default.getInstance().m_QuanpingVis=!1,e.InitShowBanner(),o.default.getInstance().m_QuanpingVis||o.default.getInstance().ShowTgCapsule(),console.log("\u901a\u8fc7 mainmenu"))},t.prototype.OnClick=function(e){var t=this;if("Btn_Back"==e.target.name)o.default.getInstance().ShowTgCollect();else if("AdvItem"==e.target.name)a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f"),e.target._zjkj_tgdata&&this._m_JumpCallFun&&(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f tgdata",e.target._zjkj_tgdata),this._m_JumpCallFun(e.target._zjkj_tgdata,"\u5168\u5c4f",this._m_NodePoolName));else if("AdvItem1"==e.target.name)a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f"),e.target._zjkj_data&&this._m_JumpCallFun&&(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f tgdata",e.target._zjkj_data),this._m_JumpCallFun(e.target._zjkj_data,"\u5168\u5c4f",this._m_NodePoolName));else if("Btn_ComtinueGame"==e.target.name){if(o.default.getInstance().GetShowDianjiBanner()&&!this._m_BannerVis)return this._m_bannerdian--,void(0==this._m_bannerdian&&this.scheduleOnce(function(){console.log("\u663e\u793a\u5168\u5c4fbanner"),o.default.getInstance().ShowTimebanner(function(){}),t.scheduleOnce(function(){t._m_BannerVis=!0,o.default.getInstance().HideWeChatBanner()},2)},.8));this.Free(),this.InitJiemian(),this._m_CloseCallFun&&(this._m_CloseCallFun(this),this._m_CloseCallFun=null)}else"btn_tgsuijiyige"==e.target.name&&this.RandJump()},__decorate([l(cc.Node)],t.prototype,"AdvItem",void 0),__decorate([l(cc.ScrollView)],t.prototype,"ItemRoot",void 0),__decorate([l(cc.Node)],t.prototype,"Btn_ComtinueGame",void 0),__decorate([l(cc.ScrollView)],t.prototype,"shangScrollView",void 0),__decorate([l(cc.Node)],t.prototype,"AdvItem1",void 0),__decorate([l(cc.Node)],t.prototype,"btn_tgsuijiyige",void 0),__decorate([l(cc.Node)],t.prototype,"Btn_Back",void 0),t=__decorate([r],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../manage/MenuManage":"MenuManage","../AdvServer":"AdvServer","../TgAdvSdk":"TgAdvSdk"}],TgInterstitial:[function(e,t,n){"use strict";cc._RF.push(t,"da3bataEINBZr7rxdQy7Xx5","TgInterstitial"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../TgAdvSdk"),o=cc._decorator,i=o.ccclass,s=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdvItem=null,t.ItemRoot=null,t.Btn_Back=null,t.Img_Bg=null,t.Btn_anniu=null,t._m_content=null,t._m_TgData=null,t._m_Update=!1,t._m_ClingDir=1,t._m_Offset=0,t._m_MaxScollOffset=0,t._m_ShowBack=!0,t._m_NodePoolName="",t._m_CloseCallFun=null,t._m_JumpCallFun=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.InitTgData=function(e,t,n,o,i){if(void 0===t&&(t=null),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===i&&(i=null),this._m_NodePoolName=e,this._m_CloseCallFun=t,this._m_JumpCallFun=i,this._m_ShowBack=n,o){var s=a.default.getInstance().GetTgBarConfig(1,!0,0)[0];a.default.getInstance().TgLog("TgInterstitial \u968f\u673a\u8df3\u8f6c tgdata",s),s&&this._m_JumpCallFun&&this._m_JumpCallFun(s,"\u63d2\u5c4f",this._m_NodePoolName)}if(this._m_TgData=a.default.getInstance().GetTgBarConfig(0,!0,0),a.default.getInstance().TgLog("TgInterstitial this._m_TgData",this._m_TgData),this.node.zIndex=5,this._m_TgData){this._m_content=this.ItemRoot.content,this._m_content.removeAllChildren();for(var r=function(e){var t=l._m_TgData[e],n=cc.instantiate(l.AdvItem);l._m_content.addChild(n),n.active=!0,n._zjkj_tgdata=t,n.getComponentInChildren(cc.Label).string=t.name,cc.loader.load({url:t.icon,type:"png"},function(e,t){if(e)console.error(e);else{var a=new cc.SpriteFrame(t),o=n.getComponentInChildren(cc.Sprite);o&&(o.spriteFrame=a)}})},l=this,u=0;u<this._m_TgData.length;u++)r(u);this._m_ClingDir=1,this._m_Offset=this.ItemRoot.getScrollOffset(),this._m_MaxScollOffset=this.ItemRoot.getMaxScrollOffset(),this._m_MaxScollOffset.y+=this.ItemRoot.node.height/2}},t.prototype.update=function(e){if(this._m_Update){if(this.ItemRoot.isScrolling())return;if(this.ItemRoot.isAutoScrolling())return;this._m_Offset=this.ItemRoot.getScrollOffset(),this._m_ClingDir?this._m_Offset.y++:this._m_Offset.y--,this._m_Offset.y>this.ItemRoot.getMaxScrollOffset().y&&(this._m_ClingDir=0),this._m_Offset.y<0&&(this._m_ClingDir=1),this.ItemRoot.scrollToOffset(this._m_Offset)}},t.prototype.Free=function(){console.log("Free TgInterstitial")},t.prototype.InitChulaiChouti=function(){var e=this;this.Btn_anniu.active=!1;var t=cc.moveTo(1,-56,0),n=cc.callFunc(function(){e._m_Update=!0}),a=cc.sequence(t,n);this.Img_Bg.runAction(a)},t.prototype.OnClick=function(e){var t=this;if("AdvItem"==e.target.name)a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f"),e.target._zjkj_tgdata&&this._m_JumpCallFun&&(a.default.getInstance().TgLog("\u70b9\u51fb\u6e38\u620f tgdata",e.target._zjkj_tgdata),this._m_JumpCallFun(e.target._zjkj_tgdata,"\u63d2\u5c4f",this._m_NodePoolName));else if("Btn_Back"==e.target.name){this._m_Update=!1;var n=cc.moveTo(1,-670,0),o=cc.callFunc(function(){t._m_Update=!1,t.Btn_anniu.active=!0}),i=cc.sequence(n,o);this.Img_Bg.runAction(i)}else"Btn_anniu"==e.target.name&&this.InitChulaiChouti()},__decorate([s(cc.Node)],t.prototype,"AdvItem",void 0),__decorate([s(cc.ScrollView)],t.prototype,"ItemRoot",void 0),__decorate([s(cc.Node)],t.prototype,"Btn_Back",void 0),__decorate([s(cc.Node)],t.prototype,"Img_Bg",void 0),__decorate([s(cc.Node)],t.prototype,"Btn_anniu",void 0),t=__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{"../TgAdvSdk":"TgAdvSdk"}],TgRemind:[function(e,t,n){"use strict";cc._RF.push(t,"1530c5maFJDVZez5ss2sBMq","TgRemind"),Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Img_Hand=null,t._m_NodePoolName="",t}return __extends(t,e),t.prototype.start=function(){},t.prototype.InitTgData=function(e){this._m_NodePoolName=e,this.PlayHandAction()},t.prototype.PlayHandAction=function(){cc.tween(this.Img_Hand).repeatForever(cc.tween(this.node).by(.5,{x:-20}).by(.5,{x:20})).start()},t.prototype.Free=function(){},__decorate([i(cc.Node)],t.prototype,"Img_Hand",void 0),t=__decorate([o],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],TgStaticsSdk:[function(e,t,n){"use strict";cc._RF.push(t,"a609dl+uXlPx5pGjaPydoGN","TgStaticsSdk"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../utils/Utils"),o=e("../utils/Http"),i=function(){function e(){}return e.NewUser=function(e,t,n){if(a.default.IsNull(t))console.log("Error, StatZjsdk.NewUser _game_id is null");else if(a.default.IsNull(n))console.log("Error, StatZjsdk.NewUser _uid is null");else{var i=new o.default;i.SetReqType(o.HttpReqType.GET);var s=e+"/tgsdk_server/api/game/user/add/"+t+"/"+n;i.Request(s,function(e){},function(e){console.error(e)})}},e.NewUser2=function(e,t,n,i){if(a.default.IsNull(t))console.log("Error, StatZjsdk.NewUser _game_id is null");else if(a.default.IsNull(n))console.log("Error, StatZjsdk.NewUser _uid is null");else{var s=new o.default;s.SetReqType(o.HttpReqType.GET);var r=e+"/tgsdk_server/api/game/user/add/"+t+"/"+n+"/"+i;s.Request(r,function(e){},function(e){console.error(e)})}},e.GetOpenID=function(e,t,n,i,s){if(a.default.IsNull(t))console.log("Error, StatZjsdk.AuthUser _game_id is null");else if(a.default.IsNull(n))console.log("Error, StatZjsdk.AuthUser _tg_code is null");else{console.log("SendOpenID login code",n);var r=new o.default;r.AddParam("pid","10026"),r.AddParam("game_id",t),r.AddParam("wx_login_code",n),r.Request(e+"10026.php",function(e){console.log(e),"30001"==e[0].pid&&e[0].openid?i(e[0].openid):s()},function(e){console.error(e),s(e)})}},e.SendCustomEvent=function(e,t,n,i){if(a.default.IsNull(t))console.log("Error, StatZjsdk.SendZjkjEvent _game_id is null");else if(a.default.IsNull(i))console.log("Error, StatZjsdk.SendZjkjEvent _eventName is null");else{var s=new o.default;s.SetReqType(o.HttpReqType.GET);var r=e+"/tgsdk_server/api/game/event/add/"+t+"/"+n+"/"+i;s.Request(r,function(e){},function(e){console.error(e)})}},e.SendCustomEventNum=function(e,t,n,i,s){if(a.default.IsNull(t))console.log("Error, StatZjsdk.SendZjkjEvent _game_id is null");else if(a.default.IsNull(i))console.log("Error, StatZjsdk.SendZjkjEvent _eventName is null");else{var r=new o.default;r.SetReqType(o.HttpReqType.GET);var l=e+"/tgsdk_server/api/game/event/add/"+t+"/"+n+"/"+i+"/"+s;r.Request(l,function(e){},function(e){console.error(e)})}},e.SendTgEventClick=function(e,t,n,i,s){if(a.default.IsNull(t))console.log("Error, StatZjsdk.SendZjkjEvent _game_id is null");else if(a.default.IsNull(i))console.log("Error, StatZjsdk.SendZjkjEvent _eventName is null");else{var r=new o.default;r.SetReqType(o.HttpReqType.GET);var l=e+"/tgsdk_server/api/game/user/add-tg/"+t+"/"+n+"/"+i+"/"+s;r.Request(l,function(e){},function(e){console.error(e)})}},e.SendTgEventJumpOk=function(e,t,n,i,s){if(a.default.IsNull(t))console.log("Error, StatZjsdk.SendZjkjEvent _game_id is null");else if(a.default.IsNull(i))console.log("Error, StatZjsdk.SendZjkjEvent _eventName is null");else{var r=new o.default;r.SetReqType(o.HttpReqType.GET);var l=e+"/tgsdk_server/api/game/user/add-tg-skip-ok/"+t+"/"+n+"/"+i+"/"+s;r.Request(l,function(e){},function(e){console.error(e)})}},e}();n.default=i,cc._RF.pop()},{"../utils/Http":"Http","../utils/Utils":"Utils"}],TheTrialMenu:[function(e,t,n){"use strict";cc._RF.push(t,"1b8a8QQCUlAyZfwEGI9NwbK","TheTrialMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=e("../manage/SaveManage"),s=e("../platform/AdvServer"),r=e("../utils/Utils"),l=e("../manage/GameManage"),u=cc._decorator,d=u.ccclass,c=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Img_egg=null,t.Toggle=null,t.Btn_JiXu=null,t.Btn_close=null,t._m_RandNum=1,t._m_Wuchudianji=3,t}return __extends(t,e),t.prototype.start=function(){console.log("TheTrialMenu"),l.default.getInstance().m_trllpifuVis=!1,this.Btn_close.active=!1,this.InitRand()},t.prototype.InitRand=function(){var e,t=this,n=r.default.RandNum(1,5);n!=i.default.getInstance().GetShopXuan()?(e="data/textures/shop/egg"+n,this._m_RandNum=n,console.log("this._m_RandNum ",this._m_RandNum),l.default.getInstance().m_trllpifu=this._m_RandNum,cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){t.Img_egg.getComponent(cc.Sprite).spriteFrame=n})):this.InitRand()},t.prototype.OnClick=function(e){var t=this;if("btn_jixu"==e.target.name)this.Toggle.isChecked?s.default.getInstance().ShowWeChatRewardedVideoAd1(function(){l.default.getInstance().m_trllpifuVis=!0;var e=o.default.getInstance().GetMenu(o.BaseMenu.MainPlay);e&&e.initTilljueseMap(),o.default.getInstance().RmoveMenu(o.BaseMenu.TheTrialMenu)},function(){}):o.default.getInstance().RmoveMenu(o.BaseMenu.TheTrialMenu);else if("btn_close"==e.target.name)o.default.getInstance().RmoveMenu(o.BaseMenu.TheTrialMenu);else if("TogBackground"==e.target.name){var n=s.default.getInstance().GetqiangtanWuchu(),a=s.default.getInstance().ShowLocalBlock();if(console.log("GetqiangtanWuchu",n),a&&n)return this._m_Wuchudianji--,this._m_Wuchudianji>0?(console.log("this._m_Wuchudianji",this._m_Wuchudianji),void(this.Toggle.isChecked=!0)):void s.default.getInstance().ShowWeChatRewardedVideoAd2(function(){t.Toggle.isChecked},function(){t.Toggle.isChecked});this.Toggle.isChecked}},__decorate([c(cc.Node)],t.prototype,"Img_egg",void 0),__decorate([c(cc.Toggle)],t.prototype,"Toggle",void 0),__decorate([c(cc.Node)],t.prototype,"Btn_JiXu",void 0),__decorate([c(cc.Node)],t.prototype,"Btn_close",void 0),t=__decorate([d],t)}(a.default);n.default=h,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../manage/SaveManage":"SaveManage","../platform/AdvServer":"AdvServer","../utils/Utils":"Utils"}],TipsMenu:[function(e,t,n){"use strict";cc._RF.push(t,"10e43Pbt0pIpI7wy88YpAS/","TipsMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../utils/Utils"),i=e("../manage/MenuManage"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Label_Tips=null,t.Img_Bg=null,t._m_Update=!1,t._m_CloseTime=0,t}return __extends(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.TouchBegin,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.TouchmMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.TouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchCancel,this)},t.prototype.Init=function(e){o.default.CCLog("tipsMenu Init _customeData",e),this.Label_Tips.string=e;var t=this.Label_Tips.node.width/this.Label_Tips.fontSize;this.Img_Bg.height=30*Math.ceil(String(e).length/t)+50,this._m_CloseTime=2,this._m_Update=!0},t.prototype.update=function(e){this._m_Update&&(this._m_CloseTime-=e,this._m_CloseTime<0&&this.CloseMenu())},t.prototype.CloseMenu=function(){this._m_Update=!1,i.default.getInstance().RmoveMenu(i.BaseMenu.TipsMenu)},t.prototype.TouchBegin=function(e){},t.prototype.TouchmMoved=function(e){},t.prototype.TouchEnd=function(e){this._m_Update&&this.CloseMenu()},t.prototype.TouchCancel=function(e){},__decorate([l(cc.Label)],t.prototype,"Label_Tips",void 0),__decorate([l(cc.Node)],t.prototype,"Img_Bg",void 0),t=__decorate([r],t)}(a.default);n.default=u,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/MenuManage":"MenuManage","../utils/Utils":"Utils"}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"44a7dmo3e5HOJN+0cQFhMER","Utils"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.CCLog=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.m_ShowLog&&console.log.apply(console,t)},e.CCLogCount=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.count.apply(console,e)},e.CCLogTrace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.trace.apply(console,e)},e.CCLogGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.group.apply(console,e)},e.CCLogGroupEnd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.groupEnd.apply(console,e)},e.CCLogTime=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.time.apply(console,e)},e.CCLogTimeEnd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.timeEnd.apply(console,e)},e.CCLogError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,e)},e.CCLogWarn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,e)},e.CCLogClear=function(){console.clear()},e.RandNum=function(e,t){return t<e?Math.round(t)+Math.round(Math.random()*(e-t)):t===e?Math.round(e):Math.round(e)+Math.round(Math.random()*(t-e))},e.Randnumber=function(e,t){return t<e?t+Math.random()*(e-t):t===e?e:e+Math.random()*(t-e)},e.RandRadian=function(){return Math.random()>.5?Math.random()%Math.PI:-Math.random()%Math.PI},e.IsNull=function(e){return null===e||""===e||"null"===e||"Null"===e||"NULL"===e||void 0===e},e.CloneObj=function(e){var t={};for(var n in e instanceof Array&&(t=[]),e){var a=e[n];t[n]=null===a?null:"object"==typeof a?this.CloneObj(a):a}return t},e.GetUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})},e.GetStringCutOut=function(e,t){void 0===t&&(t=10);var n="";if(null==e)return n;for(var a=0,o=0;o<e.length;o++)e.charCodeAt(o)>127||94==e.charCodeAt(o)?a+=2:a++,a<=t&&(n+=e.charAt(o));return n.length<e.length&&(n+="..."),n},e.GetStringToArray=function(t,n){return void 0===n&&(n=";"),e.IsNull(t)?[]:(t+="").split(n)},e.RadianToVec2=function(e,t){return void 0===t&&(t=1),cc.v2(Math.cos(e)*t,Math.sin(e)*t)},e.AngleToRadian=function(e){return e/180*Math.PI},e.RadianToAngle=function(e){return e/Math.PI*180},e.Vec2Distance=function(e,t){var n=new cc.Vec2(0,0);return n.x=e.x-t.x,n.y=e.y-t.y,Math.sqrt(n.x*n.x+n.y*n.y)},e.Vec2Sub=function(e,t){var n=new cc.Vec2(0,0);return n.x=e.x-t.x,n.y=e.y-t.y,n},e.Vec2Radian=function(e){return Math.atan2(e.y,e.x)},e.Vec2Lenght=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.Vec2Normalize=function(e){var t=new cc.Vec2(0,0),n=e.x*e.x+e.y*e.y;if(1===n)return e;if(0===n)return e;var a=1/Math.sqrt(n);return t.x=e.x*a,t.y=e.y*a,t},e.Vec2Mul=function(e,t){var n=new cc.Vec2(0,0);return n.x=e.x*t,n.y=e.y*t,n},e.GetTimeFormat=function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,o=t.getDate();return n+"-"+(a<10?"0"+a:a)+"-"+(o<10?"0"+o:o)+" "+t.toTimeString().substr(0,8)},e.GetTimeMinutesSeconds=function(e){var t=Math.floor(e/60),n=e-60*t;return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)},e.GetTimeMinutes=function(e){return Math.ceil(e/60)},e.GetTimeDay=function(e){return Math.ceil(e/1e3/60/60/24)},e.GetTimeHour=function(e){return Math.ceil(e/1e3/60/60)},e.GetToDayHour=function(){return(new Date).getHours()},e.GetToDayMinutes=function(){return(new Date).getMinutes()},e.GetToDayWeek=function(){return(new Date).getDay()},e.StringCalculateSum=function(e,t){"string"!=typeof e&&(e+=""),"string"!=typeof t&&(t+="");for(var n=e.split(""),a=t.split(""),o="",i=0;n.length||a.length||i;)o=(i+=~~n.pop()+~~a.pop())%10+o,i=i>9;return o},e.StringCalculateSub=function(t,n){"string"!=typeof t&&(t+=""),"string"!=typeof n&&(n+="");var a=t.split(""),o=n.split(""),i="",s=0,r=0;if(parseInt(t)<parseInt(n)){var l=a;a=o,o=l,r=-1}else if(t==n)return 0;for(e.CCLog("StringCalculateAddition  raList",a,"rbList",o);a.length||o.length||s;){var u=~~a.pop()-~~o.pop()-s;e.CCLog("ad",u,"count",s),i=(u<0?10+u:u)+i,s=u<0}for(var d=i.split(""),c=0;c<d.length;c++){if(0!=d[c]){d.splice(0,c);break}if(c==d.length-1){d.splice(0,d.length-1);break}}return-1==r&&d.splice(0,0,"-"),e.CCLog("StringCalculateSub  raList",a,"rbList",o,"result",i,"relist.join",d.join("")),d.join("")},e.StringGetConversionUnit=function(e){"string"!=typeof e&&(e+="");var t=["","K","M","B","T","Qd","Qt","Z","Y","S","L","X","D"],n=0,a=e.replace(/(^|\s)\d+/g,function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")}).split(",");return a.length>t.length?(a.splice(a.length-t.length,t.length-1),n=t[t.length-2]):(n=t[a.length-1],a.splice(1,a.length-2)),a[1]&&(Number(a[0])<100?Number(a[0])<10?a[1]&&(a[1]=a[1].slice(0,2),0==Number(a[1][1])&&(a[1]=a[1].slice(0,1),0==Number(a[1][0])&&a.pop())):a[1]&&(a[1]=a[1].slice(0,1),0==Number(a[1][0])&&a.pop()):a.pop()),a.join(".")+n},e.Str_To_Unicode=function(e){for(var t="\\u",n=0,a=e.length;n<a;n++)n<a-1?t+=e.charCodeAt(n).toString(16)+"\\u":n===a-1&&(t+=e.charCodeAt(n).toString(16));return t},e.Unicode_To_Str=function(e){for(var t=[],n=e.split("\\u"),a=2,o=n.length-1;a<o;a++)n[a]&&t.push(String.fromCharCode(parseInt(n[a],16)));return t.join("")},e.CheckURL=function(e){var t=new String(e);return!!t.startsWith("https://cathome8.com")||!!t.startsWith("http://cathome8.com")},e.CheckAppId=function(e){return cc.sys.platform!=cc.sys.WECHAT_GAME||"wxdd036799ae4dcd9f"==e},e.m_ShowLog=!1,e}();n.default=a,cc._RF.pop()},{}],WeChat:[function(e,t,n){"use strict";cc._RF.push(t,"9202fqOk8BHf545AXg90WBo","WeChat"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.OnShow=function(e){window.wx.onShow(function(t){console.log("onShow res",t),e&&e(t)})},e.OnHide=function(e){window.wx.onHide(function(t){console.log("weixin onhide res",t),e&&e(t)})},e.Login=function(e,t){window.wx.login({success:function(n){n.code?(console.log("\u767b\u5f55\u6210\u529f\uff01"+n.code),e&&e(n.code)):(console.log("\u767b\u5f55\u5931\u8d25\uff01"+n.errMsg),t&&t(n))},fail:function(e){console.log("\u767b\u5f55\u5931\u8d25\uff01"+e),t&&t(e)}})},e.GetSystemInfoSync=function(){return window.wx.getSystemInfoSync()},e.GetLaunchOptionsSync=function(){return window.wx.getLaunchOptionsSync()},e.GetMenuButtonBoundingClientRect=function(){var t=e.GetSystemInfoSync().SDKVersion;return e.CompareVersion(t,"2.1.0")>=0?window.wx.getMenuButtonBoundingClientRect():null},e.LoadSubpackage=function(t,n,a,o){var i=e.GetSystemInfoSync().SDKVersion;e.CompareVersion(i,"2.1.0")>=0?window.wx.loadSubpackage({name:t,success:function(e){n&&n(e)},fail:function(e){a&&a(e)}}).onProgressUpdate(function(e){o&&o(e)}):e.ShowModal("\u63d0\u793a","\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u8be5\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5\u3002")},e.GetUserInfo=function(e,t){window.wx.getUserInfo({success:function(t){e(t.userInfo)},fail:function(e){t(e)}})},e.Authorize=function(t,n){var a=e.GetSystemInfoSync().SDKVersion;e.CompareVersion(a,"1.2.0")>=0?window.wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?t():n()},fail:function(e){n(e)}}):n()},e.CreateUserInfoButton=function(t,n,a,o,i,s,r){console.log("CreateUserInfoButton ");var l=e.GetSystemInfoSync().SDKVersion;if(e.CompareVersion(l,"2.0.1")>=0){var u=window.wx.createUserInfoButton({type:"image",image:t,style:{left:n,top:a,width:o,height:i}});console.log("CreateUserInfoButton button",u),u.show(),u.onTap(function(e){console.log(e),u.destroy(),e.userInfo?s(e.userInfo):r("\u62d2\u7edd\u6388\u6743")})}else r("\u62d2\u7edd\u6388\u6743")},e.InitWxShare=function(t){var n=e.GetSystemInfoSync().SDKVersion;e.CompareVersion(n,"1.1.0")>=0&&(window.wx.showShareMenu({withShareTicket:!0,success:function(){},fail:function(){},complete:function(){}}),window.wx.onShareAppMessage(t))},e.ShareAppMessage=function(e,t){window.wx.shareAppMessage({title:e,imageUrl:t})},e.RenderTexture=function(e,t,n,a,o,i,s,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=200),void 0===a&&(a=150),void 0===o&&(o=500),void 0===i&&(i=400),void 0===s&&(s="png"),void 0===r&&(r=1)},e.TriggerGC=function(){window.wx.triggerGC()},e.OpenDataContextPostMessage=function(t){var n=e.GetSystemInfoSync().SDKVersion;e.CompareVersion(n,"1.9.92")>=0&&window.wx.getOpenDataContext().postMessage(t)},e.UploadUserCloudData=function(t){var n=e.GetSystemInfoSync().SDKVersion;if(e.CompareVersion(n,"1.9.92")>=0){var a={KVDataList:t,success:function(e){console.log("success\uff1ares",e)},fail:function(e){console.log("fail\uff1ares",e)},complete:function(e){console.log("complete\uff1ares",e)}};window.wx.setUserCloudStorage(a)}},e.CreateBannerAd=function(t,n,a,o,i){var s=e.GetSystemInfoSync().SDKVersion;return e.CompareVersion(s,"2.0.4")>=0?window.wx.createBannerAd({adUnitId:t,style:{left:n,top:a,width:o,height:i},adIntervals:30}):null},e.CreateRewardedVideoAd=function(t){var n=e.GetSystemInfoSync().SDKVersion;return e.CompareVersion(n,"2.0.4")>=0?window.wx.createRewardedVideoAd({adUnitId:t}):null},e.CreateInterstitialAd=function(t){var n=e.GetSystemInfoSync().SDKVersion;return e.CompareVersion(n,"2.6.0")>=0?window.wx.createInterstitialAd({adUnitId:t}):null},e.PreviewImage=function(e){return new Promise(function(t,n){window.wx.previewImage({urls:[e],success:function(){console.log("wei xin previewImage success...."),t("success")},fail:function(){n("fail")}})})},e.VibrateShort=function(t,n){var a=e.GetSystemInfoSync().SDKVersion;e.CompareVersion(a,"2.6.0")>=0?window.wx.vibrateShort({success:function(){t&&t()},fail:function(e){n&&n()}}):n()},e.CreateInnerAudioContext=function(t,n,a){void 0===n&&(n=0),void 0===a&&(a=!1);var o=e.GetSystemInfoSync().SDKVersion;if(e.CompareVersion(o,"1.6.0")>=0){var i=window.wx.createInnerAudioContext();return i.startTime=n,i.loop=a,i.src=t,i}return null},e.JumpToMiniProgram=function(t,n,a,o,i,s){void 0===a&&(a=""),void 0===o&&(o="release"),void 0===i&&(i=null),void 0===s&&(s=null);var r=e.GetSystemInfoSync().SDKVersion;e.CompareVersion(r,"2.2.0")>=0?window.wx.navigateToMiniProgram({appId:t,path:n,extraData:a,envVersion:o,success:function(e){console.log("navigateToMiniProgram success",e),i&&i(e)},fail:function(e){console.log("navigateToMiniProgram fail",e),s&&s()}}):s&&s()},e.HttpRequest=function(e,t,n,a,o,i,s){var r=this;void 0===o&&(o="GET"),void 0===i&&(i=3),void 0===s&&(s=1e3),window.wx.request({url:e,data:t,header:{"Content-Type":"application/x-www-form-urlencoded"},method:o,success:function(e){n&&n(e.data)},fail:function(l){console.log("HttpRequest fail",l),l.errMsg.search(/timeout/g)?(i--,console.log("\u8d85\u65f6\u6b21\u6570",i),i<=0?a&&a("\u8bf7\u6c42\u8d85\u65f6\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):r.HttpRequest(e,t,n,a,o,i,s)):a&&a(l)},complete:function(e){}})},e.CompareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var a=0;a<n;a++){var o=parseInt(e[a]),i=parseInt(t[a]);if(o>i)return 1;if(o<i)return-1}return 0},e.ShowModal=function(e,t){window.wx.showModal({title:e,content:t})},e}();n.WeChat=a,cc._RF.pop()},{}],WinMenu:[function(e,t,n){"use strict";cc._RF.push(t,"b6c4cr4vo5CdKssoKH4EIm5","WinMenu"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/MenuManage"),i=e("../manage/SaveManage"),s=e("../platform/AdvServer"),r=e("../manage/GameManage"),l=cc._decorator,u=l.ccclass,d=l.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Three_Btn=null,t.Next_Level=null,t.Btn_Qiangtan=null,t.m_goldnum=50,t.action3=null,t}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.scaleTo(.8,1.1),t=cc.scaleTo(.8,1);this.action3=cc.repeatForever(cc.sequence(e,t)),this.Three_Btn.runAction(this.action3)},t.prototype.start=function(){i.default.getInstance().InitLevel(),s.default.getInstance().GetGlobalConfig().game_result_fullscreen_2,s.default.getInstance().ShowLocalBlock()&&(s.default.getInstance().GetResultQiangTan()?this.Btn_Qiangtan.active=!0:this.Btn_Qiangtan.active=!1)},t.prototype.InitWuchuWin=function(){s.default.getInstance().GetShanBanner()&&(this.Next_Level.y=-550)},t.prototype.Init=function(){s.default.getInstance().ShowMenuAdv(o.BaseMenu.WinMenu)},t.prototype.Free=function(){s.default.getInstance().RemoveMenuAdv(o.BaseMenu.WinMenu)},t.prototype.OnClick=function(e){var t=this;"Three_Btn"==e.target.name?s.default.getInstance().ShowWeChatRewardedVideoAd(function(){var e=2*t.m_goldnum;o.default.getInstance().ShowMenu(o.BaseMenu.TipsMenu,"\u83b7\u53d6\u91d1\u5e01"+e),i.default.getInstance().AddCoins(e),t.Three_Btn.stopAction(t.action3),t.Three_Btn.active=!1},function(){}):"Next_Level"==e.target.name?(r.default.getInstance().NextLevel(),o.default.getInstance().RmoveMenu(o.BaseMenu.WinMenu)):"Btn_Qiangtan"==e.target.name&&s.default.getInstance().ShowWeChatRewardedVideoAd2(function(){t.Btn_Qiangtan.active=!1},function(){t.Btn_Qiangtan.active=!1})},__decorate([d(cc.Node)],t.prototype,"Three_Btn",void 0),__decorate([d(cc.Node)],t.prototype,"Next_Level",void 0),__decorate([d(cc.Node)],t.prototype,"Btn_Qiangtan",void 0),t=__decorate([u],t)}(a.default);n.default=c,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../manage/SaveManage":"SaveManage","../platform/AdvServer":"AdvServer"}],WoodBlock:[function(e,t,n){"use strict";cc._RF.push(t,"b47a9h6VI1HCaYy+B+EplKI","WoodBlock"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=cc._decorator,i=o.ccclass,s=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.OnClick=function(e){},t=__decorate([i],t)}(a.default));n.default=s,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer"}],mian:[function(e,t,n){"use strict";cc._RF.push(t,"d0fc0a7WrBF1oRHYZ1xbZzo","mian"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/BaseLayer"),o=e("../manage/AudioManage"),i=e("../manage/MenuManage"),s=e("../manage/SaveManage"),r=e("../manage/GameManage"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){this.scheVis=!1},t.prototype.onBeginContact=function(e,t){var n=this;if("bg1"==e.colliderA.node.name&&!this.scheVis&&!r.default.getInstance().m_pengzhuang){r.default.getInstance().m_pengzhuang=!0,this.scheVis=!0;var a="data/textures/jin_role/part1_1";r.default.getInstance().m_trllpifuVis?0==r.default.getInstance().m_trllpifu?a="data/textures/jin_role/part1_1":1==r.default.getInstance().m_trllpifu?a="data/textures/jin_role/part2_1":2==r.default.getInstance().m_trllpifu?a="data/textures/jin_role/part3_1":3==r.default.getInstance().m_trllpifu?a="data/textures/jin_role/part4_1":4==r.default.getInstance().m_trllpifu?a="data/textures/jin_role/part5_1":5==r.default.getInstance().m_trllpifu&&(a="data/textures/jin_role/part6_1"):0==s.default.getInstance().GetShopXuan()?a="data/textures/jin_role/part1_1":1==s.default.getInstance().GetShopXuan()?a="data/textures/jin_role/part2_1":2==s.default.getInstance().GetShopXuan()?a="data/textures/jin_role/part3_1":3==s.default.getInstance().GetShopXuan()?a="data/textures/jin_role/part4_1":4==s.default.getInstance().GetShopXuan()?a="data/textures/jin_role/part5_1":5==s.default.getInstance().GetShopXuan()&&(a="data/textures/jin_role/part6_1"),cc.loader.loadRes(a,cc.SpriteFrame,function(e,n){t.node.getComponent(cc.Sprite).spriteFrame=n}),r.default.getInstance().m_removeGoldVis=!0,o.default.getInstance().PlaySound(o.ResMusics.Sound_Fail),this.scheduleOnce(function(){n.scheVis=!1,console.log("onBeginContact ResultMenu"),i.default.getInstance().ShowMenu(i.BaseMenu.ResultMenu)},1)}},t=__decorate([u],t)}(a.default));n.default=d,cc._RF.pop()},{"../base/BaseLayer":"BaseLayer","../manage/AudioManage":"AudioManage","../manage/GameManage":"GameManage","../manage/MenuManage":"MenuManage","../manage/SaveManage":"SaveManage"}],uv1:[function(e,t,n){"use strict";cc._RF.push(t,"e5b7aqNh4pAr6iGO7x2l5a7","uv1"),Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,i=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=0,t}return __extends(t,e),t.prototype.start=function(){this.time=0,this._material=this.getComponent(cc.Sprite).getMaterial(0),this._material.setProperty("speed",.03)},t.prototype.update=function(){this.time+=.01,this._material.setProperty("time",this.time)},t=__decorate([o],t)}(cc.Component));n.default=i,cc._RF.pop()},{}]},{},["BaseLayer","BaseConfig","AudioManage","DataManage","GameManage","MenuManage","NodePoolManage","RankManage","SaveManage","GameLoadingMenu","GetCoinsMenu","GoldBullion","MainMenu","MainPlay","MysteriousMenu","NewGuidance","ResultMenu","ResurrectionMenu","Roundpiece","ShopMenu","SignMenu","TheTrialMenu","TipsMenu","WinMenu","WoodBlock","mian","uv1","AdvServer","AldStaticsSdk","BasePlatform","StatisticsServer","TgAdvSdk","TgStaticsSdk","WeChat","LuckyEgg","TgBanner","TgCapsule","TgClickJump","TgCollect","TgFullScreen","TgFullScreenqaun","TgInterstitial","TgRemind","GameScene","BaseMd5","Http","Utils"]);